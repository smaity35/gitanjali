(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n,r=null!==(e=null==t?void 0:t.identifier)&&void 0!==e?e:s,i=null!==(n=null==t?void 0:t.optional)&&void 0!==n&&n,o=this.normalizeInstanceIdentifier(r);if(!this.isInitialized(o)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:o})}catch(a){if(i)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,o=t.options,a=void 0===o?{}:o,u=this.normalizeInstanceIdentifier(void 0===i?s:i);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:u,options:a});try{for(var l=Object(r.g)(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var f=Object(r.e)(h.value,2),d=f[1];u===this.normalizeInstanceIdentifier(f[0])&&d.resolve(c)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(c,u),c},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i;try{for(var o=Object(r.g)(this.onInitCallbacks),s=o.next();!s.done;s=o.next()){var a=s.value;try{a(t,e)}catch(u){}}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("XNiG"),i=n("HDdC"),o=(n("7o/Q"),n("quSY")),s=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return Object(s.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a});var i="8.6.5";r.a.registerVersion("firebase",i,"app"),r.a.SDK_VERSION=i},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return nn}),n.d(e,"b",function(){return eu}),n.d(e,"c",function(){return Ya}),n.d(e,"d",function(){return Wa}),n.d(e,"e",function(){return Ka}),n.d(e,"f",function(){return Wu}),n.d(e,"g",function(){return Vu}),n.d(e,"h",function(){return ta}),n.d(e,"i",function(){return fu}),n.d(e,"j",function(){return Os}),n.d(e,"k",function(){return iu}),n.d(e,"l",function(){return As}),n.d(e,"m",function(){return gr}),n.d(e,"n",function(){return ja}),n.d(e,"o",function(){return Zi}),n.d(e,"p",function(){return Sn}),n.d(e,"q",function(){return j}),n.d(e,"r",function(){return en}),n.d(e,"s",function(){return po}),n.d(e,"t",function(){return $s}),n.d(e,"u",function(){return Ks}),n.d(e,"v",function(){return ru}),n.d(e,"w",function(){return ha}),n.d(e,"x",function(){return Uu}),n.d(e,"y",function(){return la}),n.d(e,"z",function(){return Nu}),n.d(e,"A",function(){return gu}),n.d(e,"B",function(){return En}),n.d(e,"C",function(){return tu}),n.d(e,"D",function(){return Ja}),n.d(e,"E",function(){return js}),n.d(e,"F",function(){return ks}),n.d(e,"G",function(){return vr}),n.d(e,"H",function(){return Ns}),n.d(e,"I",function(){return lr}),n.d(e,"J",function(){return On}),n.d(e,"K",function(){return Hu}),n.d(e,"L",function(){return sa}),n.d(e,"M",function(){return Su}),n.d(e,"N",function(){return rn}),n.d(e,"O",function(){return Rs}),n.d(e,"P",function(){return Ps}),n.d(e,"Q",function(){return da}),n.d(e,"R",function(){return L}),n.d(e,"S",function(){return Pu}),n.d(e,"T",function(){return ju}),n.d(e,"U",function(){return g}),n.d(e,"V",function(){return ku}),n.d(e,"W",function(){return Gu}),n.d(e,"X",function(){return Tu}),n.d(e,"Y",function(){return nu}),n.d(e,"Z",function(){return Ji}),n.d(e,"ab",function(){return ls}),n.d(e,"bb",function(){return b}),n.d(e,"cb",function(){return ur}),n.d(e,"db",function(){return Qn}),n.d(e,"eb",function(){return Pn}),n.d(e,"fb",function(){return Mn}),n.d(e,"gb",function(){return Un}),n.d(e,"hb",function(){return Vn}),n.d(e,"ib",function(){return Ln}),n.d(e,"jb",function(){return Fn}),n.d(e,"kb",function(){return ss}),n.d(e,"lb",function(){return Qu}),n.d(e,"mb",function(){return as}),n.d(e,"nb",function(){return us}),n.d(e,"ob",function(){return Rn}),n.d(e,"pb",function(){return B}),n.d(e,"qb",function(){return Oo}),n.d(e,"rb",function(){return Uo}),n.d(e,"sb",function(){return Vo}),n.d(e,"tb",function(){return Fo}),n.d(e,"ub",function(){return os}),n.d(e,"vb",function(){return It}),n.d(e,"wb",function(){return f}),n.d(e,"xb",function(){return Nn}),n.d(e,"yb",function(){return mo}),n.d(e,"zb",function(){return _t}),n.d(e,"Ab",function(){return _s}),n.d(e,"Bb",function(){return ni}),n.d(e,"Cb",function(){return Io}),n.d(e,"Db",function(){return $o}),n.d(e,"Eb",function(){return za}),n.d(e,"Fb",function(){return tt}),n.d(e,"Gb",function(){return at}),n.d(e,"Hb",function(){return S}),n.d(e,"Ib",function(){return E}),n.d(e,"Jb",function(){return it}),n.d(e,"Kb",function(){return ut}),n.d(e,"Lb",function(){return xo}),n.d(e,"Mb",function(){return Po}),n.d(e,"Nb",function(){return Mo}),n.d(e,"Ob",function(){return Ro}),n.d(e,"Pb",function(){return No}),n.d(e,"Qb",function(){return Do}),n.d(e,"Rb",function(){return Lo}),n.d(e,"Sb",function(){return Ye}),n.d(e,"Tb",function(){return es}),n.d(e,"Ub",function(){return vn}),n.d(e,"Vb",function(){return Xe}),n.d(e,"Wb",function(){return $a}),n.d(e,"Xb",function(){return qo}),n.d(e,"Yb",function(){return Qa}),n.d(e,"Zb",function(){return zo}),n.d(e,"ac",function(){return Aa}),n.d(e,"bc",function(){return xa}),n.d(e,"cc",function(){return ko}),n.d(e,"dc",function(){return Ha}),n.d(e,"ec",function(){return Qt}),n.d(e,"fc",function(){return hr}),n.d(e,"gc",function(){return ot}),n.d(e,"hc",function(){return Ao}),n.d(e,"ic",function(){return Xo}),n.d(e,"jc",function(){return Jo}),n.d(e,"kc",function(){return ts});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("EQ5u"),u=n("x+ZX");function c(){return new r.a}function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function h(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function f(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(f).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function d(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const p=l({__forward_ref__:l});function g(t){return t.__forward_ref__=g,t.toString=function(){return f(this())},t}function m(t){return y(t)?t():t}function y(t){return"function"==typeof t&&t.hasOwnProperty(p)&&t.__forward_ref__===g}class b extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function v(t){return"string"==typeof t?t:null==t?"":String(t)}function w(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():v(t)}function _(t,e){const n=e?` in ${e}`:"";throw new b("201",`No provider for ${w(t)} found${n}`)}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function E(t){return{providers:t.providers||[],imports:t.imports||[]}}function O(t){return T(t,I)||T(t,x)}function T(t,e){return t.hasOwnProperty(e)?t[e]:null}function C(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(k))?t[A]:null}const I=l({"\u0275prov":l}),A=l({"\u0275inj":l}),x=l({ngInjectableDef:l}),k=l({ngInjectorDef:l});var j=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let D;function N(t){const e=D;return D=t,e}function P(t,e,n){const r=O(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&j.Optional?null:void 0!==e?e:void _(f(t),"Injector")}function R(t){return{toString:t}.toString()}var M=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),L=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const V="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,B=V||q||F||U,H={},z=[],Q=[],G=l({"\u0275cmp":l}),$=l({"\u0275dir":l}),W=l({"\u0275pipe":l}),K=l({"\u0275mod":l}),Y=l({"\u0275loc":l}),Z=l({"\u0275fac":l}),X=l({__NG_ELEMENT_ID__:l});let J=0;function tt(t){return R(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===M.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Q,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||L.Emulated,id:"c",styles:t.styles||Q,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=J++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[$]||null}(t)}function nt(t){return function(t){return t[W]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||Q,declarations:t.declarations||Q,imports:t.imports||Q,exports:t.exports||Q,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&R(()=>{rt[t.id]=t.type}),e}function ot(t,e){return R(()=>{const n=lt(t,!0);n.declarations=e.declarations||Q,n.imports=e.imports||Q,n.exports=e.exports||Q})}function st(t,e){if(null==t)return H;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[G]||null}function lt(t,e){const n=t[K]||null;if(!n&&!0===e)throw new Error(`Type ${f(t)} does not have '\u0275mod' property.`);return n}const ht=20,ft=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function mt(t){return 2==(2&t.flags)}function yt(t){return 1==(1&t.flags)}function bt(t){return null!==t.template}function vt(t,e){return t.hasOwnProperty(Z)?t[Z]:null}class wt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function _t(){return St}function St(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ot),Et}function Et(){const t=Tt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===H)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Ot(t,e,n,r){const i=Tt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:H,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new wt(u&&u.currentValue,e,s===H),t[r]=e}function Tt(t){return t.__ngSimpleChanges__||null}let Ct;function It(t){Ct=t}function At(t){return!!t.listen}_t.ngInherit=!0;const xt={createRenderer:(t,e)=>void 0!==Ct?Ct:"undefined"!=typeof document?document:void 0};function kt(t){for(;Array.isArray(t);)t=t[0];return t}function jt(t,e){return kt(e[t])}function Dt(t,e){return kt(e[t.index])}function Nt(t,e){return t.data[e]}function Pt(t,e){const n=e[t];return dt(n)?n:n[0]}function Rt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Mt(t){return 4==(4&t[2])}function Lt(t){return 128==(128&t[2])}function Vt(t,e){return null==e?null:t[e]}function Ft(t){t[18]=0}function Ut(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const qt={lFrame:ue(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Bt(){return qt.bindingsEnabled}function Ht(){return qt.lFrame.lView}function zt(){return qt.lFrame.tView}function Qt(t){qt.lFrame.contextLView=t}function Gt(){let t=$t();for(;null!==t&&64===t.type;)t=t.parent;return t}function $t(){return qt.lFrame.currentTNode}function Wt(t,e){const n=qt.lFrame;n.currentTNode=t,n.isParent=e}function Kt(){return qt.lFrame.isParent}function Yt(){qt.lFrame.isParent=!1}function Zt(){return qt.isInCheckNoChangesMode}function Xt(t){qt.isInCheckNoChangesMode=t}function Jt(){return qt.lFrame.bindingIndex++}function te(t,e){const n=qt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ee(e)}function ee(t){qt.lFrame.currentDirectiveIndex=t}function ne(){return qt.lFrame.currentQueryIndex}function re(t){qt.lFrame.currentQueryIndex=t}function ie(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function oe(t,e,n){if(n&j.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&j.Host||(r=ie(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=qt.lFrame=ae();return r.currentTNode=e,r.lView=t,!0}function se(t){const e=ae(),n=t[1];qt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ae(){const t=qt.lFrame,e=null===t?null:t.child;return null===e?ue(t):e}function ue(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ce(){const t=qt.lFrame;return qt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const le=ce;function he(){const t=ce();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fe(){return qt.lFrame.selectedIndex}function de(t){qt.lFrame.selectedIndex=t}function pe(){const t=qt.lFrame;return Nt(t.tView,t.selectedIndex)}function ge(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function me(t,e,n){ve(t,e,3,n)}function ye(t,e,n,r){(3&t[2])===n&&ve(t,e,n,r)}function be(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function ve(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(we(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function we(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}const _e=-1;class Se{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ee(t,e,n){const r=At(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Te(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Oe(t){return 3===t||4===t||6===t}function Te(t){return 64===t.charCodeAt(0)}function Ce(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ie(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ie(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ae(t){return t!==_e}function xe(t){return 32767&t}function ke(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let je=!0;function De(t){const e=je;return je=t,e}let Ne=0;function Pe(t,e){const n=Me(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Re(r.data,t),Re(e,null),Re(r.blueprint,null));const i=Le(t,e),o=t.injectorIndex;if(Ae(i)){const t=xe(i),n=ke(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Re(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Me(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Le(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return _e;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return _e}function Ve(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(X)&&(r=n[X]),null==r&&(r=n[X]=Ne++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Fe(t,e,n){if(n&j.Optional)return t;_(e,"NodeInjector")}function Ue(t,e,n,r){if(n&j.Optional&&void 0===r&&(r=null),0==(n&(j.Self|j.Host))){const i=t[9],o=N(void 0);try{return i?i.get(e,r,n&j.Optional):P(e,r,n&j.Optional)}finally{N(o)}}return Fe(r,e,n)}function qe(t,e,n,r=j.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(X)?t[X]:void 0;return"number"==typeof e?e>=0?255&e:He:e}(n);if("function"==typeof o){if(!oe(e,t,r))return r&j.Host?Fe(i,n,r):Ue(e,n,r,i);try{const t=o();if(null!=t||r&j.Optional)return t;_(n)}finally{le()}}else if("number"==typeof o){let i=null,s=Me(t,e),a=_e,u=r&j.Host?e[16][6]:null;for((-1===s||r&j.SkipSelf)&&(a=-1===s?Le(t,e):e[s+8],a!==_e&&We(r,!1)?(i=e[1],s=xe(a),e=ke(a,e)):s=-1);-1!==s;){const t=e[1];if($e(o,s,t.data)){const t=ze(s,e,n,i,r,u);if(t!==Be)return t}a=e[s+8],a!==_e&&We(r,e[1].data[s+8]===u)&&$e(o,s,e)?(i=t,s=xe(a),e=ke(a,e)):s=-1}}}return Ue(e,n,r,i)}const Be={};function He(){return new Ke(Gt(),Ht())}function ze(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Qe(a,s,n,null==r?mt(a)&&je:r!=s&&0!=(3&a.type),i&j.Host&&o===a);return null!==u?Ge(e,s,u,a):Be}function Qe(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&bt(t)&&t.type===n)return u}return null}function Ge(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Se){const s=i;s.resolving&&function(t,e){throw new b("200",`Circular dependency in DI detected for ${t}`)}(w(o[n]));const a=De(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?N(s.injectImpl):null;oe(t,r,j.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=St(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&N(u),De(a),s.resolving=!1,le()}}return i}function $e(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function We(t,e){return!(t&j.Self||t&j.Host&&e)}class Ke{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return qe(this._tNode,this._lView,t,void 0,e)}}function Ye(t){return R(()=>{const e=t.prototype.constructor,n=e[Z]||Ze(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Z]||Ze(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Ze(t){return y(t)?()=>{const e=Ze(m(t));return e&&e()}:vt(t)}function Xe(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Oe(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Gt(),t)}const Je="__parameters__";function tn(t,e,n){return R(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Je)?t[Je]:Object.defineProperty(t,Je,{value:[]})[Je];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class en{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=S({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const nn=new en("AnalyzeForEntryComponents"),rn=Function;function on(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),on(r,e)):e!==t&&e.push(r)}return e}function sn(t,e){t.forEach(t=>Array.isArray(t)?sn(t,e):e(t))}function an(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function un(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function cn(t,e,n){let r=hn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function ln(t,e){const n=hn(t,e);if(n>=0)return t[1|n]}function hn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const fn={},dn=/\n/gm,pn="__source",gn=l({provide:String,useValue:l});let mn;function yn(t){const e=mn;return mn=t,e}function bn(t,e=j.Default){if(void 0===mn)throw new Error("inject() must be called from an injection context");return null===mn?P(t,void 0,e):mn.get(t,e&j.Optional?null:void 0,e)}function vn(t,e=j.Default){return(D||bn)(m(t),e)}function wn(t){const e=[];for(let n=0;n<t.length;n++){const r=m(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=j.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(vn(t,n))}else e.push(vn(r))}return e}function _n(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const Sn=_n(tn("Inject",t=>({token:t})),-1),En=_n(tn("Optional"),8),On=_n(tn("SkipSelf"),4);let Tn;function Cn(t){var e;return(null===(e=function(){if(void 0===Tn&&(Tn=null,B.trustedTypes))try{Tn=B.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Tn}())||void 0===e?void 0:e.createHTML(t))||t}class In{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class An extends In{getTypeName(){return"HTML"}}class xn extends In{getTypeName(){return"Style"}}class kn extends In{getTypeName(){return"Script"}}class jn extends In{getTypeName(){return"URL"}}class Dn extends In{getTypeName(){return"ResourceURL"}}function Nn(t){return t instanceof In?t.changingThisBreaksApplicationSecurity:t}function Pn(t,e){const n=Rn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Rn(t){return t instanceof In&&t.getTypeName()||null}function Mn(t){return new An(t)}function Ln(t){return new xn(t)}function Vn(t){return new kn(t)}function Fn(t){return new jn(t)}function Un(t){return new Dn(t)}class qn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Cn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Bn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Cn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Cn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Hn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,zn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Qn(t){return(t=String(t)).match(Hn)||t.match(zn)?t:"unsafe:"+t}function Gn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function $n(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Wn=Gn("area,br,col,hr,img,wbr"),Kn=Gn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Yn=Gn("rp,rt"),Zn=$n(Yn,Kn),Xn=$n(Wn,$n(Kn,Gn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$n(Yn,Gn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zn),Jn=Gn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tr=Gn("srcset"),er=$n(Jn,tr,Gn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nr=Gn("script,style,template");class rr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Xn.hasOwnProperty(e))return this.sanitizedSomething=!0,!nr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!er.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;Jn[o]&&(s=Qn(s)),tr[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Qn(t.trim())).join(", ")),this.buf.push(" ",e,'="',sr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Xn.hasOwnProperty(e)&&!Wn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(sr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const ir=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,or=/([^\#-~ |!])/g;function sr(t){return t.replace(/&/g,"&amp;").replace(ir,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(or,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ar;function ur(t,e){let n=null;try{ar=ar||function(t){const e=new Bn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Cn(""),"text/html")}catch(t){return!1}}()?new qn(e):e}(t);let r=e?String(e):"";n=ar.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=ar.getInertBodyElement(r)}while(r!==o);return Cn((new rr).sanitizeChildren(cr(n)||n))}finally{if(n){const t=cr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function cr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var lr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function hr(t){const e=function(){const t=Ht();return t&&t[12]}();return e?e.sanitize(lr.URL,t)||"":Pn(t,"URL")?Nn(t):Qn(v(t))}function fr(t){return t.ngDebugContext}function dr(t){return t.ngOriginalError}function pr(t,...e){t.error(...e)}class gr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||pr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?fr(t)?fr(t):this._findContext(dr(t)):null}_findOriginalError(t){let e=dr(t);for(;e&&dr(e);)e=dr(e);return e}}function mr(t,e){t.__ngContext__=e}const yr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function br(t){return t instanceof Function?t():t}var vr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function wr(t,e){return(void 0)(t,e)}function _r(t){const e=t[3];return pt(e)?e[3]:e}function Sr(t){return Or(t[13])}function Er(t){return Or(t[4])}function Or(t){for(;null!==t&&!pt(t);)t=t[4];return t}function Tr(t,e,n,r,i){if(null!=r){let o,s=!1;pt(r)?o=r:dt(r)&&(s=!0,r=r[0]);const a=kt(r);0===t&&null!==n?null==i?Dr(e,n,a):jr(e,n,a,i||null,!0):1===t&&null!==n?jr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Pr(t,e);r&&function(t,e,n,r){At(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==kt(n)&&Tr(e,t,r,o,i);for(let s=ft;s<n.length;s++){const i=n[s];Ur(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Cr(t,e,n){return At(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Ir(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ut(i,-1)),n.splice(r,1)}function Ar(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Ir(o,r),e>0&&(t[n-1][4]=r[4]);const s=un(t,ft+e);Ur(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function xr(t,e){if(!(256&e[2])){const n=e[11];At(n)&&n.destroyNode&&Ur(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return kr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&kr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&kr(e[1],e),n=e&&e[4]}e=n}}(e)}}function kr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Se)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):kt(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&At(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Ir(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function jr(t,e,n,r,i){At(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Dr(t,e,n){At(t)?t.appendChild(e,n):e.appendChild(n)}function Nr(t,e,n,r,i){null!==r?jr(t,e,n,r,i):Dr(t,e,n)}function Pr(t,e){return At(t)?t.parentNode(e):e.parentNode}function Rr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===L.None||e===L.Emulated)return null}return Dt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?Dt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Nr(o,i,n[a],s,!1);else Nr(o,i,n,s,!1)}function Mr(t,e){if(null!==e){const n=e.type;if(3&n)return Dt(e,t);if(4&n)return Vr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Mr(t,n);{const n=t[e.index];return pt(n)?Vr(-1,n):kt(n)}}if(32&n)return wr(e,t)()||kt(t[e.index]);{const n=Lr(t,e);return null!==n?Array.isArray(n)?n[0]:Mr(_r(t[16]),n):Mr(t,e.next)}}return null}function Lr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Vr(t,e){const n=ft+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Mr(t,r)}return e[7]}function Fr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&mr(kt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Fr(t,e,n.child,r,i,o,!1),Tr(e,t,i,a,o);else if(32&u){const s=wr(n,r);let u;for(;u=s();)Tr(e,t,i,u,o);Tr(e,t,i,a,o)}else 16&u?qr(t,e,r,n,i,o):Tr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Ur(t,e,n,r,i,o){Fr(n,r,t.firstChild,e,i,o,!1)}function qr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Tr(e,t,i,a[u],o);else Fr(t,e,a,s[3],i,o,!0)}function Br(t,e,n){At(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Hr(t,e,n){At(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function zr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Qr="ng-template";function Gr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==zr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function $r(t){return 4===t.type&&t.value!==Qr}function Wr(t,e,n){return e===(4!==t.type||n?t.value:Qr)}function Kr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Oe(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Wr(t,u,n)||""===u&&1===e.length){if(Yr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Gr(t.attrs,c,n)){if(Yr(r))return!1;s=!0}continue}const l=Zr(8&r?"class":u,i,$r(t),n);if(-1===l){if(Yr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==zr(e,c,0)||2&r&&c!==t){if(Yr(r))return!1;s=!0}}}}else{if(!s&&!Yr(r)&&!Yr(u))return!1;if(s&&Yr(u))continue;s=!1,r=u|1&r}}return Yr(r)||s}function Yr(t){return 0==(1&t)}function Zr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Xr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Kr(t,e[r],n))return!0;return!1}function Jr(t,e){return t?":not("+e.trim()+")":e}function ti(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Yr(s)||(e+=Jr(o,i),i=""),r=s,o=o||!Yr(r);n++}return""!==i&&(e+=Jr(o,i)),e}const ei={};function ni(t){ri(zt(),Ht(),fe()+t,Zt())}function ri(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&me(e,r,n)}else{const r=t.preOrderHooks;null!==r&&ye(e,r,0,n)}de(n)}function ii(t,e){return t<<17|e<<2}function oi(t){return t>>17&32767}function si(t){return 2|t}function ai(t){return(131068&t)>>2}function ui(t,e){return-131069&t|e<<2}function ci(t){return 1|t}function li(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];re(i),n.contentQueries(2,e[o],o)}}}function hi(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ft(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function fi(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=$t(),s=Kt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),qt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=qt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Wt(o,!0),o}function di(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function pi(t,e,n){se(e);try{const r=t.viewQuery;null!==r&&zi(1,r,n);const i=t.template;null!==i&&yi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&li(t,e),t.staticViewQueries&&zi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Fi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,he()}}function gi(t,e,n,r){const i=e[2];if(256==(256&i))return;se(e);const o=Zt();try{Ft(e),qt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&yi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&me(e,n,null)}else{const n=t.preOrderHooks;null!==n&&ye(e,n,0,null),be(e,0)}if(function(t){for(let e=Sr(t);null!==e;e=Er(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ut(r,1),n[2]|=1024}}}(e),function(t){for(let e=Sr(t);null!==e;e=Er(e))for(let t=ft;t<e.length;t++){const n=e[t],r=n[1];Lt(n)&&gi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&li(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&me(e,n)}else{const n=t.contentHooks;null!==n&&ye(e,n,1),be(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)de(~r);else{const i=r,o=n[++t],s=n[++t];te(o,i),s(2,e[i])}}}finally{de(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Li(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&zi(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&me(e,n)}else{const n=t.viewHooks;null!==n&&ye(e,n,2),be(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ut(e[3],-1))}finally{he()}}function mi(t,e,n,r){const i=e[10],o=!Zt(),s=Mt(e);try{o&&!s&&i.begin&&i.begin(),s&&pi(t,e,r),gi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function yi(t,e,n,r,i){const o=fe(),s=2&r;try{de(-1),s&&e.length>ht&&ri(t,e,ht,Zt()),n(r,i)}finally{de(o)}}function bi(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function vi(t,e,n){Bt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Pe(n,e),mr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=bt(r);o&&Ni(e,n,r);const u=Ge(e,t,a,n);mr(u,e),null!==s&&Pi(0,a-i,u,r,0,s),o&&(Pt(n.index,e)[8]=u)}}(t,e,n,Dt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=qt.lFrame.currentDirectiveIndex;try{de(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ee(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Ai(r,i)}}finally{de(-1),ee(s)}}(t,e,n))}function wi(t,e,n=Dt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function _i(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Si(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Si(t,e,n,r,i,o,s,a,u,c){const l=ht+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ei);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Ei(t,e,n,r){const i=Gi(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&$i(t).push(r,i.length-1))}function Oi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ti(t,e,n,r,i,o,s,a){const u=Dt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Ki(t,n,c,r,i),mt(e)&&function(t,e){const n=Pt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,At(o)?o.setProperty(u,r,i):Te(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ci(t,e,n,r){let i=!1;if(Bt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Xr(n,s.selectors,!1)&&(i||(i=[]),Ve(Pe(n,e),t,s.type),bt(s)?(xi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,ji(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=di(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Ce(n.mergedAttrs,c.hostAttrs),Di(t,n,e,u,c),ki(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||$r(e)?null:Ri(n,i);o.push(c),s=Oi(n,u,s),a=Oi(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new b("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Ce(n.mergedAttrs,n.attrs),i}function Ii(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Ai(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function xi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ki(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;bt(e)&&(n[""]=t)}}function ji(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Di(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=vt(i.type)),s=new Se(o,bt(i),null);t.blueprint[r]=s,n[r]=s,Ii(t,e,0,r,di(t,n,i.hostVars,ei),i)}function Ni(t,e,n){const r=Dt(e,t),i=_i(n),o=t[10],s=Ui(t,hi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Pi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Ri(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Mi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Li(t,e){const n=Pt(e,t);if(Lt(n)){const t=n[1];80&n[2]?gi(t,n,t.template,n[8]):n[5]>0&&Vi(n)}}function Vi(t){for(let n=Sr(t);null!==n;n=Er(n))for(let t=ft;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];gi(t,e,t.template,e[8])}else e[5]>0&&Vi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Pt(e[n],t);Lt(r)&&r[5]>0&&Vi(r)}}function Fi(t,e){const n=Pt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),pi(r,n,n[8])}function Ui(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function qi(t){for(;t;){t[2]|=64;const e=_r(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Bi(t,e,n){const r=e[10];r.begin&&r.begin();try{gi(t,e,t.template,n)}catch(i){throw Wi(e,i),i}finally{r.end&&r.end()}}function Hi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Rt(n),i=r[1];mi(i,r,i.template,n)}}(t[8])}function zi(t,e,n){re(0),e(t,n)}const Qi=(()=>Promise.resolve(null))();function Gi(t){return t[7]||(t[7]=[])}function $i(t){return t.cleanup||(t.cleanup=[])}function Wi(t,e){const n=t[9],r=n?n.get(gr,null):null;r&&r.handleError(e)}function Ki(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Yi(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=d(i,t):2==o&&(r=d(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Zi=new en("INJECTOR",-1);class Xi{get(t,e=fn){if(e===fn){const e=new Error(`NullInjectorError: No provider for ${f(t)}!`);throw e.name="NullInjectorError",e}return e}}const Ji=new en("Set Injector scope."),to={},eo={},no=[];let ro;function io(){return void 0===ro&&(ro=new Xi),ro}function oo(t,e=null,n=null,r){return new so(t,n,e||io(),r)}class so{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&sn(e,n=>this.processProvider(n,t,e)),sn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Zi,co(void 0,this));const o=this.records.get(Ji);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:f(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=fn,n=j.Default){this.assertNotDestroyed();const r=yn(this);try{if(!(n&j.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof en)&&O(t);e=n&&this.injectableDefInScope(n)?co(ao(t),to):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&j.Self?io():this.parent).get(t,e=n&j.Optional&&e===fn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(f(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[pn]&&i.unshift(e[pn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=f(e);if(Array.isArray(e))i=e.map(f).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):f(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(dn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{yn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(f(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=m(t)))return!1;let r=C(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=C(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{sn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];sn(r,t=>this.processProvider(t,n,r||no))}}this.injectorDefTypes.add(o);const a=vt(o)||(()=>new o);this.records.set(o,co(a,to));const u=r.providers;if(null!=u&&!s){const e=t;sn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=ho(t=m(t))?t:m(t&&t.provide);const i=function(t,e,n){return lo(t)?co(void 0,t.useValue):co(uo(t),to)}(t);if(ho(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=co(void 0,to,!0),e.factory=()=>wn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===to&&(e.value=eo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ao(t){const e=O(t),n=null!==e?e.factory:vt(t);if(null!==n)return n;if(t instanceof en)throw new Error(`Token ${f(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${f(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[I]||t[x]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function uo(t,e,n){let r;if(ho(t)){const e=m(t);return vt(e)||ao(e)}if(lo(t))r=()=>m(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...wn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>vn(m(t.useExisting));else{const e=m(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return vt(e)||ao(e);r=()=>new e(...wn(t.deps))}var i;return r}function co(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function lo(t){return null!==t&&"object"==typeof t&&gn in t}function ho(t){return"function"==typeof t}const fo=function(t,e,n){return function(t,e=null,n=null,r){const i=oo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let po=(()=>{class t{static create(t,e){return Array.isArray(t)?fo(t,e,""):fo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=fn,t.NULL=new Xi,t.\u0275prov=S({token:t,providedIn:"any",factory:()=>vn(Zi)}),t.__NG_ELEMENT_ID__=-1,t})();function go(t,e){ge(Rt(t)[1],Gt())}function mo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(bt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=yo(t.inputs),e.declaredInputs=yo(t.declaredInputs),e.outputs=yo(t.outputs);const n=i.hostBindings;n&&wo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&bo(t,o),s&&vo(t,s),h(t.inputs,i.inputs),h(t.declaredInputs,i.declaredInputs),h(t.outputs,i.outputs),bt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===mo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ce(i.hostAttrs,n=Ce(n,i.hostAttrs))}}(r)}function yo(t){return t===H?{}:t===Q?[]:t}function bo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function vo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function wo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let _o=null;function So(){if(!_o){const t=B.Symbol;if(t&&t.iterator)_o=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(_o=n)}}}return _o}class Eo{constructor(t){this.wrapped=t}static wrap(t){return new Eo(t)}static unwrap(t){return Eo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Eo}}function Oo(t){return!!To(t)&&(Array.isArray(t)||!(t instanceof Map)&&So()in t)}function To(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Co(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Io(t,e,n,r){const i=Ht();return Co(i,Jt(),e)&&(zt(),function(t,e,n,r,i,o){const s=Dt(t,e);!function(t,e,n,r,i,o,s){if(null==o)At(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?v(o):s(o,r||"",i);At(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(pe(),i,t,e,n,r)),Io}function Ao(t,e,n,r,i,o,s,a){const u=Ht(),c=zt(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=fi(e,t,4,s||null,Vt(c,a));Ci(e,n,l,Vt(c,u)),ge(e,l);const h=l.tViews=Si(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Wt(h,!1);const f=u[11].createComment("");Rr(c,u,f,h),mr(f,u),Ui(u,u[l]=Mi(f,u,f,h)),yt(h)&&vi(c,u,h),null!=s&&wi(u,h,a)}function xo(t,e=j.Default){const n=Ht();return null===n?vn(t,e):qe(Gt(),n,m(t),e)}function ko(t,e,n){const r=Ht();return Co(r,Jt(),e)&&Ti(zt(),pe(),r,t,e,r[11],n,!1),ko}function jo(t,e,n,r,i){const o=i?"class":"style";Ki(t,n,e.inputs[o],o,r)}function Do(t,e,n,r){const i=Ht(),o=zt(),s=ht+t,a=i[11],u=i[s]=Cr(a,e,qt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=fi(e,t,2,i,Vt(a,o));return Ci(e,n,u,Vt(a,s)),null!==u.attrs&&Yi(u,u.attrs,!1),null!==u.mergedAttrs&&Yi(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Wt(c,!0);const l=c.mergedAttrs;null!==l&&Ee(a,u,l);const h=c.classes;null!==h&&Hr(a,u,h);const f=c.styles;null!==f&&Br(a,u,f),64!=(64&c.flags)&&Rr(o,i,u,c),0===qt.lFrame.elementDepthCount&&mr(u,i),qt.lFrame.elementDepthCount++,yt(c)&&(vi(o,i,c),bi(o,c,i)),null!==r&&wi(i,c)}function No(){let t=Gt();Kt()?Yt():(t=t.parent,Wt(t,!1));const e=t;qt.lFrame.elementDepthCount--;const n=zt();n.firstCreatePass&&(ge(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&jo(n,e,Ht(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&jo(n,e,Ht(),e.stylesWithoutHost,!1)}function Po(t,e,n,r){Do(t,e,n,r),No()}function Ro(t,e,n){const r=Ht(),i=zt(),o=t+ht,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Vt(o,r),a=fi(e,t,8,"ng-container",s);return null!==s&&Yi(a,s,!0),Ci(e,n,a,Vt(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Wt(s,!0);const a=r[o]=r[11].createComment("");Rr(i,r,a,s),mr(a,r),yt(s)&&(vi(i,r,s),bi(i,s,r)),null!=n&&wi(r,s)}function Mo(){let t=Gt();const e=zt();Kt()?Yt():(t=t.parent,Wt(t,!1)),e.firstCreatePass&&(ge(e,t),gt(t)&&e.queries.elementEnd(t))}function Lo(){return Ht()}function Vo(t){return!!t&&"function"==typeof t.then}function Fo(t){return!!t&&"function"==typeof t.subscribe}const Uo=Fo;function qo(t,e,n=!1,r){const i=Ht(),o=zt(),s=Gt();return function(t,e,n,r,i,o,s=!1,a){const u=yt(r),c=t.firstCreatePass&&$i(t),l=Gi(e);let h=!0;if(3&r.type){const f=Dt(r,e),d=a?a(f):H,p=d.target||f,g=l.length,m=a?t=>a(kt(t[r.index])).target:r.index;if(At(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Ho(r,e,0,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=Ho(r,e,0,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}else o=Ho(r,e,0,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),qo}function Bo(t,e,n,r){try{return!1!==n(r)}catch(i){return Wi(t,i),!1}}function Ho(t,e,n,r,i){return function n(o){if(o===Function)return r;const s=2&t.flags?Pt(t.index,e):e;0==(32&e[2])&&qi(s);let a=Bo(e,0,r,o),u=n.__ngNextListenerFn__;for(;u;)a=Bo(e,0,u,o)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function zo(t=1){return function(t){return(qt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,qt.lFrame.contextLView))[8]}(t)}function Qo(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?oi(o):ai(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Go(t[a],e)&&(u=!0,t[a+1]=r?ci(n):si(n)),a=r?oi(n):ai(n)}u&&(t[n+1]=r?si(o):ci(o))}function Go(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&hn(t,e)>=0}function $o(t,e){return function(t,e,n,r){const i=Ht(),o=zt(),s=function(t){const e=qt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[fe()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=qt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=Ko(n=Wo(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Wo(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==ai(r))return t[oi(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=Wo(null,t,e,n[1],r),n=Ko(n,e.attrs,r),function(t,e,n,r){t[oi(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Ko(r,t[o].hostAttrs,true);return Ko(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,a=oi(s),u=ai(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||hn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=oi(t[a+1]);t[r+1]=ii(e,a),0!==e&&(t[e+1]=ui(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=ii(a,0),0!==a&&(t[a+1]=ui(t[a+1],r)),a=r;else t[r+1]=ii(u,0),0===a?a=r:t[u+1]=ui(t[u+1],r),u=r;l&&(t[r+1]=si(t[r+1])),Qo(t,c,r,!0),Qo(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&hn(o,e)>=0&&(n[r+1]=ci(n[r+1]))}(e,c,t,r),s=ii(a,u),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==ei&&Co(i,s,e)&&function(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Zo(1==(1&c)?Yo(u,e,n,i,ai(c),s):void 0)||(Zo(o)||function(t){return 2==(2&t)}(c)&&(o=Yo(u,null,n,i,a,s)),function(t,e,n,r,i){const o=At(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,jt(fe(),n),i,o))}(o,o.data[fe()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=f(Nn(t))),t}(e),true,s)}(t,e),$o}function Wo(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ko(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Ko(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),cn(t,s,!!n||e[++o]))}return void 0===t?null:t}function Yo(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===ei&&(l=c?z:void 0);let h=c?ln(l,r):u===r?l:void 0;if(o&&!Zo(h)&&(h=ln(e,r)),Zo(h)&&(a=h,s))return a;const f=t[i+1];i=s?oi(f):ai(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=ln(t,r))}return a}function Zo(t){return void 0!==t}function Xo(t,e=""){const n=Ht(),r=zt(),i=t+ht,o=r.firstCreatePass?fi(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return At(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Rr(r,n,s,o),Wt(o,!1)}function Jo(t){return ts("",t,""),Jo}function ts(t,e,n){const r=Ht(),i=function(t,e,n,r){return Co(t,Jt(),n)?e+v(n)+r:ei}(r,t,e,n);return i!==ei&&function(t,e,n){const r=jt(e,t);!function(t,e,n){At(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,fe(),i),ts}function es(t,e,n){const r=Ht();return Co(r,Jt(),e)&&Ti(zt(),pe(),r,t,e,r[11],n,!0),es}const ns=void 0;var rs=["en",[["a","p"],["AM","PM"],ns],[["AM","PM"],ns,ns],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ns,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ns,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ns,"{1} 'at' {0}",ns],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let is={};function os(t,e,n){"string"!=typeof e&&(n=e,e=t[ls.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),is[e]=t,n&&(is[e][ls.ExtraData]=n)}function ss(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=cs(e);if(n)return n;const r=e.split("-")[0];if(n=cs(r),n)return n;if("en"===r)return rs;throw new Error(`Missing locale data for the locale "${t}".`)}function as(t){return ss(t)[ls.CurrencyCode]||null}function us(t){return ss(t)[ls.PluralCase]}function cs(t){return t in is||(is[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),is[t]}var ls=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const hs="en-US";let fs=hs;function ds(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(fs=t.toLowerCase().replace(/_/g,"-"))}function ps(t,e,n,r,i){if(t=m(t),Array.isArray(t))for(let o=0;o<t.length;o++)ps(t[o],e,n,r,i);else{const o=zt(),s=Ht();let a=ho(t)?t:m(t.provide),u=uo(t);const c=Gt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(ho(t)||!t.multi){const r=new Se(u,i,xo),d=ys(a,e,i?l:l+f,h);-1===d?(Ve(Pe(c,s),o,a),gs(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=ys(a,e,l+f,h),p=ys(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){Ve(Pe(c,s),o,a);const l=function(t,e,n,r,i){const o=new Se(t,n,xo);return o.multi=[],o.index=e,o.componentProviders=0,ms(o,i,r&&!n),o}(i?vs:bs,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),gs(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else gs(o,t,d>-1?d:p,ms(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function gs(t,e,n,r){const i=ho(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function ms(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ys(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function bs(t,e,n,r){return ws(this.multi,[])}function vs(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ge(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),ws(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],ws(i,o);return o}function ws(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function _s(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=zt();if(r.firstCreatePass){const i=bt(t);ps(n,r.data,r.blueprint,i,!0),ps(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Ss{}class Es{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${f(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Os=(()=>{class t{}return t.NULL=new Es,t})();function Ts(...t){}function Cs(t,e){return new As(Dt(t,e))}const Is=function(){return Cs(Gt(),Ht())};let As=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Is,t})();function xs(t){return t instanceof As?t.nativeElement:t}class ks{}let js=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ds(),t})();const Ds=function(){const t=Ht(),e=Pt(Gt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let Ns=(()=>{class t{}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>null}),t})();class Ps{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Rs=new Ps("11.2.14");class Ms{constructor(){}supports(t){return Oo(t)}create(t){return new Vs(t)}}const Ls=(t,e)=>e;class Vs{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ls}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Bs(n,r,i)?e:n,s=Bs(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Oo(t))throw new Error(`Error trying to diff '${f(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[So()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Fs(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new qs),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Fs{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Us{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class qs{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Us,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Bs(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Hs{constructor(){}supports(t){return t instanceof Map||To(t)}create(){return new zs}}class zs{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||To(t)))throw new Error(`Error trying to diff '${f(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Qs(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Qs{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Gs(){return new $s([new Ms])}let $s=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Gs()),deps:[[t,new On,new En]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=S({token:t,providedIn:"root",factory:Gs}),t})();function Ws(){return new Ks([new Hs])}let Ks=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ws()),deps:[[t,new On,new En]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=S({token:t,providedIn:"root",factory:Ws}),t})();function Ys(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(kt(o)),pt(o))for(let t=ft;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&Ys(e[1],e,n,r)}const s=n.type;if(8&s)Ys(t,e,n.child,r);else if(32&s){const t=wr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=Lr(e,n);if(Array.isArray(t))r.push(...t);else{const n=_r(e[16]);Ys(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Zs{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Ys(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Ar(t,n),un(e,n))}this._attachedToViewContainer=!1}xr(this._lView[1],this._lView)}onDestroy(t){Ei(this._lView[1],this._lView,null,t)}markForCheck(){qi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Bi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Xt(!0);try{Bi(t,e,n)}finally{Xt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Ur(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Xs extends Zs{constructor(t){super(t),this._view=t}detectChanges(){Hi(this._view)}checkNoChanges(){!function(t){Xt(!0);try{Hi(t)}finally{Xt(!1)}}(this._view)}get context(){return null}}const Js=ea;let ta=(()=>{class t{}return t.__NG_ELEMENT_ID__=Js,t.__ChangeDetectorRef__=!0,t})();function ea(t=!1){return function(t,e,n){if(!n&&mt(t)){const n=Pt(t.index,e);return new Zs(n,n)}return 47&t.type?new Zs(e[16],e):null}(Gt(),Ht(),t)}const na=[new Hs],ra=new $s([new Ms]),ia=new Ks(na),oa=function(){return ca(Gt(),Ht())};let sa=(()=>{class t{}return t.__NG_ELEMENT_ID__=oa,t})();const aa=sa,ua=class extends aa{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=hi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),pi(e,n,t),new Zs(n)}};function ca(t,e){return 4&t.type?new ua(e,t,Cs(t,e)):null}class la{}class ha{}const fa=function(){return ba(Gt(),Ht())};let da=(()=>{class t{}return t.__NG_ELEMENT_ID__=fa,t})();const pa=da,ga=class extends pa{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Cs(this._hostTNode,this._hostLView)}get injector(){return new Ke(this._hostTNode,this._hostLView)}get parentInjector(){const t=Le(this._hostTNode,this._hostLView);if(Ae(t)){const e=ke(t,this._hostLView),n=xe(t);return new Ke(e[1].data[n+8],e)}return new Ke(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=ma(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(la,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new ga(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ft+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ft?(e[4]=n[i],an(n,ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Vr(i,o),a=n[11],u=Pr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Ur(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),an(ya(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=ma(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Ar(this._lContainer,e);n&&(un(ya(this._lContainer),e),xr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Ar(this._lContainer,e);return n&&null!=un(ya(this._lContainer),e)?new Zs(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function ma(t){return t[8]}function ya(t){return t[8]||(t[8]=[])}function ba(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=kt(r);else{const n=e[11];i=n.createComment("");const r=Dt(t,e);jr(n,Pr(n,r),i,function(t,e){return At(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Mi(r,e,i,t),Ui(e,n)}return new ga(n,t,e)}const va={};class wa extends Os{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new Ea(e,this.ngModule)}}function _a(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Sa=new en("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>yr});class Ea extends Ss{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ti).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return _a(this.componentDef.inputs)}get outputs(){return _a(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,va,i);return o!==va||r===va?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(ks,xt),s=i.get(Ns,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(At(t))return t.selectRootElement(e,n===L.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Cr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:yr,clean:Qi,playerHandler:null,flags:0},f=Si(0,null,null,1,0,null,null,null,null,null),d=hi(null,f,h,l,null,null,o,a,s,i);let p,g;se(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=fi(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Yi(a,u,!0),null!==t&&(Ee(i,t,u),null!==a.classes&&Hr(i,t,a.classes),null!==a.styles&&Br(i,t,a.styles)));const c=r.createRenderer(t,e),l=hi(n,_i(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Ve(Pe(a,n),s,e.type),xi(s,a),ji(a,n.length,1)),Ui(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)Ee(a,c,["ng-version",Rs.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Yr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ee(a,c,t),e&&e.length>0&&Hr(a,c,e.join(" "))}if(g=Nt(f,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Gt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Di(t,r,e,di(t,e,1,null),n));const i=Ge(e,t,r.directiveStart,r);mr(i,e);const o=Dt(r,e);return o&&mr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Gt();e.contentQueries(1,s,t.directiveStart)}const a=Gt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(de(a.index),Ii(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ai(e,s)),s}(t,this.componentDef,d,h,[go]),pi(f,d,null)}finally{he()}return new Oa(this.componentType,p,Cs(g,d),d,g)}}class Oa extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Xs(r),this.componentType=t}get injector(){return new Ke(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ta=new Map;class Ca extends la{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new wa(this);const n=lt(t),r=t[Y]||null;r&&ds(r),this._bootstrapComponents=br(n.bootstrap),this._r3Injector=oo(t,e,[{provide:la,useValue:this},{provide:Os,useValue:this.componentFactoryResolver}],f(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=po.THROW_IF_NOT_FOUND,n=j.Default){return t===po||t===la||t===Zi?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ia extends ha{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${f(e)} vs ${f(e.name)}`)}(i,Ta.get(i),n),Ta.set(i,n));const o=br(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Ca(this.moduleType,t)}}function Aa(t,e){const n=zt();let r;const i=t+ht;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new b("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=vt(r.type)),s=N(xo);try{const t=De(!1),e=o();return De(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Ht(),i,e),e}finally{N(s)}}function xa(t,e,n,r){const i=t+ht,o=Ht(),s=function(t,e){return t[e]}(o,i);return function(t,e){return Eo.isWrapped(e)&&(e=Eo.unwrap(e),t[qt.lFrame.bindingIndex]=ei),e}(o,function(t,e){return t[1].data[e].pure}(o,i)?function(t,e,n,r,i,o,s){const a=e+n;return function(t,e,n,r){const i=Co(t,e,n);return Co(t,e+1,r)||i}(t,a,i,o)?function(t,e,n){return t[e]=n}(t,a+2,s?r.call(s,i,o):r(i,o)):function(t,e){const n=t[e];return n===ei?void 0:n}(t,a+2)}(o,function(){const t=qt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,s.transform,n,r,s):s.transform(n,r))}function ka(t){return e=>{setTimeout(t,void 0,e)}}const ja=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,o,s;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(o=e.error)||void 0===o?void 0:o.bind(e),c=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}this.__isAsync&&(u=ka(u),a&&(a=ka(a)),c&&(c=ka(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.a&&t.add(l),l}};function Da(){return this._results[So()]()}class Na{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=So(),n=Na.prototype;n[e]||(n[e]=Da)}get changes(){return this._changes||(this._changes=new ja)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=on(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Pa{constructor(t){this.queryList=t,this.matches=null}clone(){return new Pa(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ra{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Ra(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Ga(t,e).matches&&this.queries[e].setDirty()}}class Ma{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class La{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new La(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Va{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Va(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Fa(e,i)),this.matchTNodeWithReadOption(t,e,Qe(e,t,i,!1,!1))}else n===sa?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Qe(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===As||r===da||r===sa&&4&e.type)this.addMatch(e.index,-2);else{const n=Qe(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Fa(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ua(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Cs(t,e):4&t.type?ca(t,e):null}(e,t):-2===n?function(t,e,n){return n===As?Cs(e,t):n===sa?ca(e,t):n===da?ba(e,t):void 0}(t,e,r):Ge(t,t[1],n,e)}function qa(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Ua(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Ba(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=qa(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ft;t<s.length;t++){const e=s[t];e[17]===e[3]&&Ba(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Ba(n[1],n,i,r)}}}}}return r}function Ha(t){const e=Ht(),n=zt(),r=ne();re(r+1);const i=Ga(n,r);if(t.dirty&&Mt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Ba(n,e,r,[]):qa(n,e,i,r);t.reset(o,xs),t.notifyOnChanges()}return!0}return!1}function za(t,e,n,r){const i=zt();if(i.firstCreatePass){const o=Gt();(function(t,e,n){null===t.queries&&(t.queries=new La),t.queries.track(new Va(e,n))})(i,new Ma(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function(t,e,n){const r=new Na(4==(4&n));Ei(t,e,r,r.destroy),null===e[19]&&(e[19]=new Ra),e[19].queries.push(new Pa(r))}(i,Ht(),n)}function Qa(){return t=Ht(),e=ne(),t[19].queries[e].queryList;var t,e}function Ga(t,e){return t.queries.getByIndex(e)}function $a(t=j.Default){const e=ea(!0);if(null!=e||t&j.Optional)return e;_("ChangeDetectorRef")}const Wa=new en("Application Initializer");let Ka=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Ts,this.reject=Ts,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Vo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(vn(Wa,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Ya=new en("AppId"),Za={provide:Ya,useFactory:function(){return`${Xa()}${Xa()}${Xa()}`},deps:[]};function Xa(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ja=new en("Platform Initializer"),tu=new en("Platform ID"),eu=new en("appBootstrapListener");let nu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const ru=new en("LocaleId"),iu=new en("DefaultCurrencyCode");class ou{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const su=function(t){return new Ia(t)},au=su,uu=function(t){return Promise.resolve(su(t))},cu=function(t){const e=su(t),n=br(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new Ea(n)),t},[]);return new ou(e,n)},lu=cu,hu=function(t){return Promise.resolve(cu(t))};let fu=(()=>{class t{constructor(){this.compileModuleSync=au,this.compileModuleAsync=uu,this.compileModuleAndAllComponentsSync=lu,this.compileModuleAndAllComponentsAsync=hu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const du=(()=>Promise.resolve(0))();function pu(t){"undefined"==typeof Zone?du.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class gu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ja(!1),this.onMicrotaskEmpty=new ja(!1),this.onStable=new ja(!1),this.onError=new ja(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,bu(t),yu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),bu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return vu(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),wu(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return vu(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),wu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,bu(t),yu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(gu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,mu,Ts,Ts);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const mu={};function yu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function bu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function vu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function wu(t){t._nesting--,yu(t)}class _u{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ja,this.onMicrotaskEmpty=new ja,this.onStable=new ja,this.onError=new ja}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Su=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gu.assertNotInAngularZone(),pu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(vn(gu))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})(),Eu=(()=>{class t{constructor(){this._applications=new Map,Iu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Iu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();class Ou{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Tu(t){Iu=t}let Cu,Iu=new Ou,Au=!0,xu=!1;function ku(){return xu=!0,Au}function ju(){if(xu)throw new Error("Cannot enable prod mode after platform setup.");Au=!1}const Du=new en("AllowMultipleToken");class Nu{constructor(t,e){this.name=t,this.token=e}}function Pu(t,e,n=[]){const r=`Platform: ${e}`,i=new en(r);return(e=[])=>{let o=Ru();if(!o||o.injector.get(Du,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Ji,useValue:"platform"});!function(t){if(Cu&&!Cu.destroyed&&!Cu.injector.get(Du,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Cu=t.get(Mu);const e=t.get(Ja,null);e&&e.forEach(t=>t())}(po.create({providers:t,name:r}))}return function(t){const e=Ru();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Ru(){return Cu&&!Cu.destroyed?Cu:null}let Mu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new _u:("zone.js"===t?void 0:t)||new gu({enableLongStackTrace:ku(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:gu,useValue:n}];return n.run(()=>{const e=po.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(gr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Fu(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Vo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Ka);return t.runInitializers(),t.donePromise.then(()=>(ds(i.injector.get(ru,hs)||hs),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Lu({},e);return function(t,e,n){const r=new Ia(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Vu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${f(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(vn(po))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Lu(t,e){return Array.isArray(e)?e.reduce(Lu,t):Object.assign(Object.assign({},t),e)}let Vu=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),h=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{gu.assertNotInAngularZone(),pu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{gu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(l,h.pipe(t=>{return Object(u.a)()((e=c,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,a.b);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ss?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(la),i=n.create(po.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Su,null),a=s&&i.injector.get(Eu);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Fu(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Fu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(eu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(vn(gu),vn(po),vn(gr),vn(Os),vn(Ka))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Fu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Uu{}class qu{}const Bu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Hu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Bu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>zu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>zu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(vn(fu),vn(qu,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function zu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Qu=function(t){return null},Gu=Pu(null,"core",[{provide:tu,useValue:"unknown"},{provide:Mu,deps:[po]},{provide:Eu,deps:[]},{provide:nu,deps:[]}]),$u=[{provide:Vu,useClass:Vu,deps:[gu,po,gr,Os,Ka]},{provide:Sa,deps:[gu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ka,useClass:Ka,deps:[[new En,Wa]]},{provide:fu,useClass:fu,deps:[]},Za,{provide:$s,useFactory:function(){return ra},deps:[]},{provide:Ks,useFactory:function(){return ia},deps:[]},{provide:ru,useFactory:function(t){return ds(t=t||"undefined"!=typeof $localize&&$localize.locale||hs),t},deps:[[new Sn(ru),new En,new On]]},{provide:iu,useValue:"USD"}];let Wu=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(vn(Vu))},t.\u0275mod=it({type:t}),t.\u0275inj=E({providers:$u}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return S}),n.d(e,"d",function(){return u}),n.d(e,"e",function(){return E}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return s}),n.d(e,"h",function(){return C}),n.d(e,"i",function(){return c}),n.d(e,"j",function(){return f}),n.d(e,"k",function(){return d}),n.d(e,"l",function(){return g}),n.d(e,"m",function(){return m}),n.d(e,"n",function(){return l}),n.d(e,"o",function(){return h}),n.d(e,"p",function(){return p}),n.d(e,"q",function(){return y});var r=n("mrSG"),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function o(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",o=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function f(){return"object"==typeof self&&self.self===self}function d(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){return c().indexOf("Electron/")>=0}function m(){var t=c();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return c().indexOf("MSAppHost/")>=0}var b=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,v.prototype.create),o}return Object(r.c)(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?w(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new b(i,a,r);return u},t}();function w(t,e){return t.replace(_,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var _=/\{\$([^}]+)}/g;function S(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function E(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=T),void 0===r.error&&(r.error=T),void 0===r.complete&&(r.complete=T);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function T(){}function C(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return C}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return O}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return S});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new u.r("angularfire2.app.options"),v=new u.r("angularfire2.app.nameOrConfig"),w=new u.P("6.1.5");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const S=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.V)()&&"undefined"!=typeof console&&console[t](...e)};function O(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:class{},useFactory:_,deps:[b,u.A,[new u.B,v]]};let C=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.Ub(u.C))},t.\u0275mod=u.Jb({type:t}),t.\u0275inj=u.Ib({providers:[T]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=f),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.6.5",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.g)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.g)(e,t)},createSubscribe:s.e,ErrorFactory:s.b,deepExtend:s.g}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.j)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.o)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.24",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function o(){return i}const s=new r.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Ub)(l)}const c=new r.r("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(s))},t.\u0275prov=Object(r.Hb)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l(Object(r.Ub)(s))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Ub)(s).location;return new v(Object(r.Ub)(a),e&&e.origin||"")}const b=new r.r("appBaseHref");let v=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a),r.Ub(b,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a),r.Ub(b,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(m),r.Ub(a))},t.normalizeQueryParams=g,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Hb)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new _(Object(r.Ub)(m),Object(r.Ub)(a))}function E(t){return t.replace(/\/index.html$/,"")}var O=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),T=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),C=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),I=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),A=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function x(t,e){return R(Object(r.kb)(t)[r.ab.DateFormat],e)}function k(t,e){return R(Object(r.kb)(t)[r.ab.TimeFormat],e)}function j(t,e){return R(Object(r.kb)(t)[r.ab.DateTimeFormat],e)}function D(t,e){const n=Object(r.kb)(t),i=n[r.ab.NumberSymbols][e];if(void 0===i){if(e===A.CurrencyDecimal)return n[r.ab.NumberSymbols][A.Decimal];if(e===A.CurrencyGroup)return n[r.ab.NumberSymbols][A.Group]}return i}const N=r.nb;function P(t){if(!t[r.ab.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.ab.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function R(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function M(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const L=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,V={},F=/((?:[^GyYMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var U=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),q=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),B=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function H(t,e,n,r){let i=function(t){if(nt(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[e,n=1,r=1]=t.split("-").map(t=>+t);return z(e,n-1,r)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let n;if(n=t.match(L))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,u,c),e}(n)}const e=new Date(t);if(!nt(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=Q(n,e)||e;let o,s=[];for(;e;){if(o=F.exec(e),!o){s.push(e);break}{s=s.concat(o.slice(1));const t=s.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=et(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(et(e,r)-r))}(i,r));let u="";return s.forEach(t=>{const e=function(t){if(tt[t])return tt[t];let e;switch(t){case"G":case"GG":case"GGG":e=K(B.Eras,C.Abbreviated);break;case"GGGG":e=K(B.Eras,C.Wide);break;case"GGGGG":e=K(B.Eras,C.Narrow);break;case"y":e=W(q.FullYear,1,0,!1,!0);break;case"yy":e=W(q.FullYear,2,0,!0,!0);break;case"yyy":e=W(q.FullYear,3,0,!1,!0);break;case"yyyy":e=W(q.FullYear,4,0,!1,!0);break;case"Y":e=J(1);break;case"YY":e=J(2,!0);break;case"YYY":e=J(3);break;case"YYYY":e=J(4);break;case"M":case"L":e=W(q.Month,1,1);break;case"MM":case"LL":e=W(q.Month,2,1);break;case"MMM":e=K(B.Months,C.Abbreviated);break;case"MMMM":e=K(B.Months,C.Wide);break;case"MMMMM":e=K(B.Months,C.Narrow);break;case"LLL":e=K(B.Months,C.Abbreviated,T.Standalone);break;case"LLLL":e=K(B.Months,C.Wide,T.Standalone);break;case"LLLLL":e=K(B.Months,C.Narrow,T.Standalone);break;case"w":e=X(1);break;case"ww":e=X(2);break;case"W":e=X(1,!0);break;case"d":e=W(q.Date,1);break;case"dd":e=W(q.Date,2);break;case"E":case"EE":case"EEE":e=K(B.Days,C.Abbreviated);break;case"EEEE":e=K(B.Days,C.Wide);break;case"EEEEE":e=K(B.Days,C.Narrow);break;case"EEEEEE":e=K(B.Days,C.Short);break;case"a":case"aa":case"aaa":e=K(B.DayPeriods,C.Abbreviated);break;case"aaaa":e=K(B.DayPeriods,C.Wide);break;case"aaaaa":e=K(B.DayPeriods,C.Narrow);break;case"b":case"bb":case"bbb":e=K(B.DayPeriods,C.Abbreviated,T.Standalone,!0);break;case"bbbb":e=K(B.DayPeriods,C.Wide,T.Standalone,!0);break;case"bbbbb":e=K(B.DayPeriods,C.Narrow,T.Standalone,!0);break;case"B":case"BB":case"BBB":e=K(B.DayPeriods,C.Abbreviated,T.Format,!0);break;case"BBBB":e=K(B.DayPeriods,C.Wide,T.Format,!0);break;case"BBBBB":e=K(B.DayPeriods,C.Narrow,T.Format,!0);break;case"h":e=W(q.Hours,1,-12);break;case"hh":e=W(q.Hours,2,-12);break;case"H":e=W(q.Hours,1);break;case"HH":e=W(q.Hours,2);break;case"m":e=W(q.Minutes,1);break;case"mm":e=W(q.Minutes,2);break;case"s":e=W(q.Seconds,1);break;case"ss":e=W(q.Seconds,2);break;case"S":e=W(q.FractionalSeconds,1);break;case"SS":e=W(q.FractionalSeconds,2);break;case"SSS":e=W(q.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Y(U.Short);break;case"ZZZZZ":e=Y(U.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Y(U.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Y(U.Long);break;default:return null}return tt[t]=e,e}(t);u+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function z(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Q(t,e){const n=function(t){return Object(r.kb)(t)[r.ab.LocaleId]}(t);if(V[n]=V[n]||{},V[n][e])return V[n][e];let i="";switch(e){case"shortDate":i=x(t,I.Short);break;case"mediumDate":i=x(t,I.Medium);break;case"longDate":i=x(t,I.Long);break;case"fullDate":i=x(t,I.Full);break;case"shortTime":i=k(t,I.Short);break;case"mediumTime":i=k(t,I.Medium);break;case"longTime":i=k(t,I.Long);break;case"fullTime":i=k(t,I.Full);break;case"short":const e=Q(t,"shortTime"),n=Q(t,"shortDate");i=G(j(t,I.Short),[e,n]);break;case"medium":const r=Q(t,"mediumTime"),o=Q(t,"mediumDate");i=G(j(t,I.Medium),[r,o]);break;case"long":const s=Q(t,"longTime"),a=Q(t,"longDate");i=G(j(t,I.Long),[s,a]);break;case"full":const u=Q(t,"fullTime"),c=Q(t,"fullDate");i=G(j(t,I.Full),[u,c])}return i&&(V[n][e]=i),i}function G(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function $(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function W(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function(t,e){switch(t){case q.FullYear:return e.getFullYear();case q.Month:return e.getMonth();case q.Date:return e.getDate();case q.Hours:return e.getHours();case q.Minutes:return e.getMinutes();case q.Seconds:return e.getSeconds();case q.FractionalSeconds:return e.getMilliseconds();case q.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===q.Hours)0===a&&-12===n&&(a=12);else if(t===q.FractionalSeconds)return u=e,$(a,3).substr(0,u);var u;const c=D(s,A.MinusSign);return $(a,e,c,r,i)}}function K(t,e,n=T.Format,i=!1){return function(o,s){return function(t,e,n,i,o,s){switch(n){case B.Months:return function(t,e,n){const i=Object(r.kb)(t),o=R([i[r.ab.MonthsFormat],i[r.ab.MonthsStandalone]],e);return R(o,n)}(e,o,i)[t.getMonth()];case B.Days:return function(t,e,n){const i=Object(r.kb)(t),o=R([i[r.ab.DaysFormat],i[r.ab.DaysStandalone]],e);return R(o,n)}(e,o,i)[t.getDay()];case B.DayPeriods:const a=t.getHours(),u=t.getMinutes();if(s){const t=function(t){const e=Object(r.kb)(t);return P(e),(e[r.ab.ExtraData][2]||[]).map(t=>"string"==typeof t?M(t):[M(t[0]),M(t[1])])}(e),n=function(t,e,n){const i=Object(r.kb)(t);P(i);const o=R([i[r.ab.ExtraData][0],i[r.ab.ExtraData][1]],e)||[];return R(o,n)||[]}(e,o,i),s=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=a>=e.hours&&u>=e.minutes,i=a<n.hours||a===n.hours&&u<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===a&&t.minutes===u)return!0;return!1});if(-1!==s)return n[s]}return function(t,e,n){const i=Object(r.kb)(t),o=R([i[r.ab.DayPeriodsFormat],i[r.ab.DayPeriodsStandalone]],e);return R(o,n)}(e,o,i)[a<12?0:1];case B.Eras:return function(t,e){return R(Object(r.kb)(t)[r.ab.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(o,s,t,e,n,i)}}function Y(t){return function(e,n,r){const i=-1*r,o=D(n,A.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case U.Short:return(i>=0?"+":"")+$(s,2,o)+$(Math.abs(i%60),2,o);case U.ShortGMT:return"GMT"+(i>=0?"+":"")+$(s,1,o);case U.Long:return"GMT"+(i>=0?"+":"")+$(s,2,o)+":"+$(Math.abs(i%60),2,o);case U.Extended:return 0===r?"Z":(i>=0?"+":"")+$(s,2,o)+":"+$(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function Z(t){return z(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function X(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=Z(n),e=function(t){const e=z(t,0,1).getDay();return z(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}return $(i,t,D(r,A.MinusSign))}}function J(t,e=!1){return function(n,r){return $(Z(n).getFullYear(),t,D(r,A.MinusSign),e)}}const tt={};function et(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function nt(t){return t instanceof Date&&!isNaN(t.valueOf())}class rt{}let it=(()=>{class t extends rt{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(N(e||this.locale)(t)){case O.Zero:return"zero";case O.One:return"one";case O.Two:return"two";case O.Few:return"few";case O.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.v))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class ot{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let st=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new ot(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new at(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new at(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.Q),r.Lb(r.L),r.Lb(r.t))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class at{constructor(t,e){this.record=t,this.view=e}}let ut=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new ct,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){lt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){lt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.Q),r.Lb(r.L))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class ct{constructor(){this.$implicit=null,this.ngIf=null}}function lt(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.wb)(e)}'.`)}let ht=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",i,o){if(null==e||""===e||e!=e)return null;try{return H(e,n,o||this.locale,i)}catch(s){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.wb)(t)}'`)}(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.v))},t.\u0275pipe=r.Kb({name:"date",type:t,pure:!0}),t})(),ft=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[{provide:rt,useClass:it}]}),t})();function dt(t){return"server"===t}let pt=(()=>{class t{}return t.\u0275prov=Object(r.Hb)({token:t,providedIn:"root",factory:()=>new gt(Object(r.Ub)(s),window)}),t})();class gt{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=mt(this.window.history)||mt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function mt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class yt extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new yt,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=vt||(vt=document.querySelector("base"),vt)?vt.getAttribute("href"):null;return null==e?null:(n=e,bt||(bt=document.createElement("a")),bt.setAttribute("href",n),"/"===bt.pathname.charAt(0)?bt.pathname:"/"+bt.pathname);var n}resetBaseElement(){vt=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let bt,vt=null;const wt=new r.r("TRANSITION_ID"),_t=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[wt,s,r.s],multi:!0}];class St{static init(){Object(r.X)(new St)}addToWindow(t){r.pb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.pb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.pb.getAllAngularRootElements=()=>t.getAllRootElements(),r.pb.frameworkStabilizers||(r.pb.frameworkStabilizers=[]),r.pb.frameworkStabilizers.push(t=>{const e=r.pb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Et=new r.r("EventManagerPlugins");let Ot=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Et),r.Ub(r.A))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class Tt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Ct=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),It=(()=>{class t extends Ct{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(At),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(At))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(s))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();function At(t){o().remove(t)}const xt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},kt=/%COMP%/g;function jt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?jt(t,i,n):(i=i.replace(kt,t),n.push(i))}return n}function Dt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Nt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Pt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Rt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new Mt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=jt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Ot),r.Ub(It),r.Ub(r.c))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class Pt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(xt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=xt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=xt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Dt(n)):this.eventManager.addEventListener(t,e,Dt(n))}}class Rt extends Pt{constructor(t,e,n,r){super(t),this.component=n;const i=jt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(kt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(kt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Mt extends Pt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=jt(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Lt=(()=>{class t extends Tt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(s))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const Vt=["alt","control","meta","shift"],Ft={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ut={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},qt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Bt=(()=>{class t extends Tt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(Vt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ut.hasOwnProperty(e)&&(e=Ut[e]))}return Ft[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Vt.forEach(r=>{r!=n&&(0,qt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(s))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const Ht=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){yt.makeCurrent(),St.init()},multi:!0},{provide:s,useFactory:function(){return Object(r.vb)(document),document},deps:[]}],zt=Object(r.S)(r.W,"browser",Ht),Qt=[[],{provide:r.Z,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:Et,useClass:Lt,multi:!0,deps:[s,r.A,r.C]},{provide:Et,useClass:Bt,multi:!0,deps:[s]},[],{provide:Nt,useClass:Nt,deps:[Ot,It,r.c]},{provide:r.F,useExisting:Nt},{provide:Ct,useExisting:It},{provide:It,useClass:It,deps:[s]},{provide:r.M,useClass:r.M,deps:[r.A]},{provide:Ot,useClass:Ot,deps:[Et,r.A]},[]];let Gt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:wt,useExisting:r.c},_t]}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(t,12))},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:Qt,imports:[ft,r.f]}),t})();"undefined"!=typeof window&&window;var $t=n("Cfvw"),Wt=n("HDdC"),Kt=n("DH7j"),Yt=n("lJxs"),Zt=n("XoHu");function Xt(t,e){return new Wt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object($t.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}class Jt{}const te=new r.r("NgValueAccessor"),ee={provide:te,useExisting:Object(r.U)(()=>re),multi:!0},ne=new r.r("CompositionEventMode");let re=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l),r.Lb(ne,8))},t.\u0275dir=r.Gb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Xb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.Ab([ee])]}),t})();function ie(t){return null==t||0===t.length}function oe(t){return null!=t&&"number"==typeof t.length}const se=new r.r("NgValidators"),ae=new r.r("NgAsyncValidators"),ue=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ce{static min(t){return function(t){return e=>{if(ie(e.value)||ie(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}static max(t){return function(t){return e=>{if(ie(e.value)||ie(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}static required(t){return function(t){return ie(t.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(t){return!0===t.value?null:{required:!0}}(t)}static email(t){return function(t){return ie(t.value)||ue.test(t.value)?null:{email:!0}}(t)}static minLength(t){return function(t){return e=>ie(e.value)||!oe(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static maxLength(t){return function(t){return e=>oe(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static pattern(t){return function(t){if(!t)return le;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(ie(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return me(t)}static composeAsync(t){return be(t)}}function le(t){return null}function he(t){return null!=t}function fe(t){const e=Object(r.sb)(t)?Object($t.a)(t):t;return Object(r.rb)(e),e}function de(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function pe(t,e){return e.map(e=>e(t))}function ge(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function me(t){if(!t)return null;const e=t.filter(he);return 0==e.length?null:function(t){return de(pe(t,e))}}function ye(t){return null!=t?me(ge(t)):null}function be(t){if(!t)return null;const e=t.filter(he);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Kt.a)(e))return Xt(e,null);if(Object(Zt.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Xt(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Xt(t=1===t.length&&Object(Kt.a)(t[0])?t[0]:t,null).pipe(Object(Yt.a)(t=>e(...t)))}return Xt(t,null)}(pe(t,e).map(fe)).pipe(Object(Yt.a)(de))}}function ve(t){return null!=t?be(ge(t)):null}function we(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function _e(t){return t._rawValidators}function Se(t){return t._rawAsyncValidators}let Ee=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ye(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ve(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t}),t})(),Oe=(()=>{class t extends Ee{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Te(e||t)},t.\u0275dir=r.Gb({type:t,features:[r.yb]}),t})();const Te=r.Sb(Oe);class Ce extends Ee{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ie{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let Ae=(()=>{class t extends Ie{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Ce,2))},t.\u0275dir=r.Gb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Db("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.yb]}),t})(),xe=(()=>{class t extends Ie{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Oe,10))},t.\u0275dir=r.Gb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Db("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.yb]}),t})();function ke(t,e){Ne(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Re(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Re(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function je(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Pe(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function De(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ne(t,e,n){const r=_e(t);null!==e.validator?t.setValidators(we(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=Se(t);if(null!==e.asyncValidator?t.setAsyncValidators(we(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();De(e._rawValidators,n),De(e._rawAsyncValidators,n)}}function Pe(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=_e(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=Se(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};De(e._rawValidators,t),De(e._rawAsyncValidators,t)}return r}function Re(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Me(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Le="VALID",Ve="INVALID",Fe="PENDING",Ue="DISABLED";function qe(t){return(Qe(t)?t.validators:t)||null}function Be(t){return Array.isArray(t)?ye(t):t||null}function He(t,e){return(Qe(e)?e.asyncValidators:t)||null}function ze(t){return Array.isArray(t)?ve(t):t||null}function Qe(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Ge{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Be(this._rawValidators),this._composedAsyncValidatorFn=ze(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Le}get invalid(){return this.status===Ve}get pending(){return this.status==Fe}get disabled(){return this.status===Ue}get enabled(){return this.status!==Ue}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Be(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=ze(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Fe,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ue,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Le,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Le&&this.status!==Fe||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ue:Le}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Fe,this._hasOwnPendingAsyncValidator=!0;const e=fe(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof We?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Ke&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?Ue:this.errors?Ve:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fe)?Fe:this._anyControlsHaveStatus(Ve)?Ve:Le}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Qe(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class $e extends Ge{constructor(t=null,e,n){super(qe(e),He(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Me(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Me(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class We extends Ge{constructor(t,e,n){super(qe(e),He(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof $e?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Ke extends Ge{constructor(t,e,n){super(qe(e),He(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof $e?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let Ye=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),Ze=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({}),t})();const Xe=new r.r("NgModelWithFormControlWarning"),Je={provide:Oe,useExisting:Object(r.U)(()=>tn)};let tn=(()=>{class t extends Oe{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Pe(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return ke(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){je(t.control||null,t,!1),Me(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(je(e||null,t),n instanceof $e&&(ke(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);(function(t,e){Ne(t,e,!1)})(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return Pe(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ne(this.form,this,!1),this._oldForm&&Pe(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(se,10),r.Lb(ae,10))},t.\u0275dir=r.Gb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Xb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Ab([Je]),r.yb,r.zb]}),t})();const en={provide:Ce,useExisting:Object(r.U)(()=>nn)};let nn=(()=>{class t extends Ce{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===re?n=t:Object.getPrototypeOf(t.constructor)===Jt?r=t:i=t}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return t=null==this.name?this.name:this.name.toString(),[...this._parent.path,t];var t}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Oe,13),r.Lb(se,10),r.Lb(ae,10),r.Lb(te,10),r.Lb(Xe,8))},t.\u0275dir=r.Gb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.Ab([en]),r.yb,r.zb]}),t._ngModelWarningSentOnce=!1,t})();const rn={provide:te,useExisting:Object(r.U)(()=>sn),multi:!0};function on(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let sn=(()=>{class t extends Jt{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=on(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Xb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Ab([rn]),r.yb]}),t})(),an=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(on(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(r.E),r.Lb(sn,9))},t.\u0275dir=r.Gb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const un={provide:te,useExisting:Object(r.U)(()=>ln),multi:!0};function cn(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let ln=(()=>{class t extends Jt{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Xb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Ab([un]),r.yb]}),t})(),hn=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(cn(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(cn(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(r.E),r.Lb(ln,9))},t.\u0275dir=r.Gb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),fn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({imports:[[Ze]]}),t})(),dn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({imports:[fn]}),t})(),pn=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Xe,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({imports:[fn]}),t})();var gn=n("D0XW"),mn=n("LRne"),yn=n("bHdf");function bn(...t){return Object(yn.a)(1)(Object(mn.a)(...t))}var vn=n("z+Ro");function wn(...t){const e=t[t.length-1];return Object(vn.a)(e)?(t.pop(),n=>bn(t,n,e)):e=>bn(t,e)}var _n=n("7o/Q");function Sn(){return t=>t.lift(new En)}class En{call(t,e){return e.subscribe(new On(t))}}class On extends _n.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function Tn(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Cn(t,e,n))}}class Cn{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new In(t,this.accumulator,this.seed,this.hasSeed))}}class In extends _n.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}class An{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new xn(t,this.compare,this.keySelector))}}class xn extends _n.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function kn(t,e){return function(n){return n.lift(new jn(t,e))}}class jn{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Dn(t,this.predicate,this.thisArg))}}class Dn extends _n.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var Nn=n("pxpQ"),Pn=n("spgP"),Rn=n("Jgta"),Mn=n("zIRd"),Ln=n("qOnz"),Vn=n("q/0M"),Fn=function(t,e){return(Fn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Un(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var qn,Bn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Hn=Hn||{},zn=Bn||self;function Qn(){}function Gn(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function $n(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Wn="closure_uid_"+(1e9*Math.random()>>>0),Kn=0;function Yn(t,e,n){return t.call.apply(t.bind,arguments)}function Zn(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Xn(t,e,n){return(Xn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Yn:Zn).apply(null,arguments)}function Jn(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function tr(){return Date.now()}function er(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Pb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function nr(){this.j=this.j,this.i=this.i}nr.prototype.j=!1,nr.prototype.ka=function(){!this.j&&(this.j=!0,this.H(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Wn)&&t[Wn]||(t[Wn]=++Kn)}(this)},nr.prototype.H=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var rr=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ir=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function or(t){return Array.prototype.concat.apply([],arguments)}function sr(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function ar(t){return/^[\s\xa0]*$/.test(t)}var ur,cr=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function lr(t,e){return-1!=t.indexOf(e)}function hr(t,e){return t<e?-1:t>e?1:0}t:{var fr=zn.navigator;if(fr){var dr=fr.userAgent;if(dr){ur=dr;break t}}ur=""}function pr(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function gr(t){var e={};for(var n in t)e[n]=t[n];return e}var mr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yr(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<mr.length;o++)n=mr[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function br(t){return br[" "](t),t}br[" "]=Qn;var vr,wr,_r=lr(ur,"Opera"),Sr=lr(ur,"Trident")||lr(ur,"MSIE"),Er=lr(ur,"Edge"),Or=Er||Sr,Tr=lr(ur,"Gecko")&&!(lr(ur.toLowerCase(),"webkit")&&!lr(ur,"Edge"))&&!(lr(ur,"Trident")||lr(ur,"MSIE"))&&!lr(ur,"Edge"),Cr=lr(ur.toLowerCase(),"webkit")&&!lr(ur,"Edge");function Ir(){var t=zn.document;return t?t.documentMode:void 0}t:{var Ar="",xr=(wr=ur,Tr?/rv:([^\);]+)(\)|;)/.exec(wr):Er?/Edge\/([\d\.]+)/.exec(wr):Sr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(wr):Cr?/WebKit\/(\S+)/.exec(wr):_r?/(?:Version)[ \/]?(\S+)/.exec(wr):void 0);if(xr&&(Ar=xr?xr[1]:""),Sr){var kr=Ir();if(null!=kr&&kr>parseFloat(Ar)){vr=String(kr);break t}}vr=Ar}var jr={};function Dr(t){return function(t,e){var n=jr;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=cr(String(vr)).split("."),r=cr(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=hr(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||hr(0==s[2].length,0==a[2].length)||hr(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var Nr=zn.document&&Sr&&(Ir()||parseInt(vr,10))||void 0,Pr=!Sr||9<=Number(Nr),Rr=Sr&&!Dr("9"),Mr=function(){if(!zn.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{zn.addEventListener("test",Qn,e),zn.removeEventListener("test",Qn,e)}catch(n){}return t}();function Lr(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Vr(t,e){if(Lr.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Tr){t:{try{br(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Fr[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Lr.prototype.b=function(){this.defaultPrevented=!0},er(Vr,Lr);var Fr={2:"touch",3:"pen",4:"mouse"};Vr.prototype.b=function(){Vr.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Rr)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Ur="closure_listenable_"+(1e6*Math.random()|0),qr=0;function Br(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++qr,this.Y=this.Z=!1}function Hr(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function zr(t){this.src=t,this.a={},this.b=0}function Qr(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=rr(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Hr(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Gr(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}zr.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Gr(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Br(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var $r="closure_lm_"+(1e6*Math.random()|0),Wr={};function Kr(t,e,n,r,i){if(r&&r.once)return Zr(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Kr(t,e[o],n,r,i);return null}return n=oi(n),t&&t[Ur]?t.wa(e,n,$n(r)?!!r.capture:!!r,i):Yr(t,e,n,!1,r,i)}function Yr(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=$n(i)?!!i.capture:!!i;if(s&&!Pr)return null;var a=ri(t);if(a||(t[$r]=a=new zr(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=ni,e=Pr?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Mr||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ti(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Zr(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Zr(t,e[o],n,r,i);return null}return n=oi(n),t&&t[Ur]?t.xa(e,n,$n(r)?!!r.capture:!!r,i):Yr(t,e,n,!0,r,i)}function Xr(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Xr(t,e[o],n,r,i);else r=$n(r)?!!r.capture:!!r,n=oi(n),t&&t[Ur]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Gr(o=t.a[e],n,r,i))&&(Hr(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=ri(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Gr(e,n,r,i)),(n=-1<t?e[t]:null)&&Jr(n))}function Jr(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Ur])Qr(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ti(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ri(e))?(Qr(n,t),0==n.b&&(n.src=null,e[$r]=null)):Hr(t)}}}function ti(t){return t in Wr?Wr[t]:Wr[t]="on"+t}function ei(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&Jr(t),n.call(r,e)}function ni(t,e){if(t.Y)return!0;if(!Pr){if(!e)t:{e=["window","event"];for(var n=zn,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return ei(t,e=new Vr(e,this))}return ei(t,new Vr(e,this))}function ri(t){return(t=t[$r])instanceof zr?t:null}var ii="__closure_events_fn_"+(1e9*Math.random()>>>0);function oi(t){return"function"==typeof t?t:(t[ii]||(t[ii]=function(e){return t.handleEvent(e)}),t[ii])}function si(){nr.call(this),this.c=new zr(this),this.J=this,this.D=null}function ai(t,e){var n,r=t.D;if(r)for(n=[];r;r=r.D)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Lr(e,t);else if(e instanceof Lr)e.target=e.target||t;else{var i=e;yr(e=new Lr(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=ui(s,r,!0,e)&&i}if(i=ui(s=e.a=t,r,!0,e)&&i,i=ui(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=ui(s=e.a=n[o],r,!1,e)&&i}function ui(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.da||s.src;s.Z&&Qr(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}er(si,nr),si.prototype[Ur]=!0,(qn=si.prototype).addEventListener=function(t,e,n,r){Kr(this,t,e,n,r)},qn.removeEventListener=function(t,e,n,r){Xr(this,t,e,n,r)},qn.H=function(){if(si.X.H.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Hr(n[r]);delete e.a[t],e.b--}}this.D=null},qn.wa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},qn.xa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var ci=zn.JSON.stringify;function li(){this.b=this.a=null}var hi,fi=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new pi},function(t){t.reset()});function di(){var t=bi,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function pi(){this.next=this.b=this.a=null}function gi(t){zn.setTimeout(function(){throw t},0)}function mi(t,e){hi||function(){var t=zn.Promise.resolve(void 0);hi=function(){t.then(vi)}}(),yi||(hi(),yi=!0),bi.add(t,e)}li.prototype.add=function(t,e){var n=fi.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},pi.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},pi.prototype.reset=function(){this.next=this.b=this.a=null};var yi=!1,bi=new li;function vi(){for(var t;t=di();){try{t.a.call(t.b)}catch(n){gi(n)}var e=fi;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}yi=!1}function wi(t,e){si.call(this),this.b=t||1,this.a=e||zn,this.f=Xn(this.eb,this),this.g=tr()}function _i(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Si(t,e,n){if("function"==typeof t)n&&(t=Xn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Xn(t.handleEvent,t)}return 2147483647<Number(e)?-1:zn.setTimeout(t,e||0)}function Ei(t){t.a=Si(function(){t.a=null,t.c&&(t.c=!1,Ei(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}er(wi,si),(qn=wi.prototype).aa=!1,qn.M=null,qn.eb=function(){if(this.aa){var t=tr()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),ai(this,"tick"),this.aa&&(_i(this),this.start()))}},qn.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=tr())},qn.H=function(){wi.X.H.call(this),_i(this),delete this.a};var Oi=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Fn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Ei(this)},e.prototype.H=function(){t.prototype.H.call(this),this.a&&(zn.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(nr);function Ti(t){nr.call(this),this.b=t,this.a={}}er(Ti,nr);var Ci=[];function Ii(t,e,n,r){Array.isArray(n)||(n&&(Ci[0]=n.toString()),n=Ci);for(var i=0;i<n.length;i++){var o=Kr(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Ai(t){pr(t.a,function(t,e){this.a.hasOwnProperty(e)&&Jr(t)},t),t.a={}}function xi(){this.a=!0}function ki(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return ci(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Ti.prototype.H=function(){Ti.X.H.call(this),Ai(this)},Ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xi.prototype.info=function(){};var ji={},Di=null;function Ni(){return Di=Di||new si}function Pi(t){Lr.call(this,ji.Ga,t)}function Ri(t){var e=Ni();ai(e,new Pi(e,t))}function Mi(t,e){Lr.call(this,ji.STAT_EVENT,t),this.stat=e}function Li(t){var e=Ni();ai(e,new Mi(e,t))}function Vi(t){Lr.call(this,ji.Ha,t)}function Fi(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return zn.setTimeout(function(){t()},e)}ji.Ga="serverreachability",er(Pi,Lr),ji.STAT_EVENT="statevent",er(Mi,Lr),ji.Ha="timingevent",er(Vi,Lr);var Ui={NO_ERROR:0,fb:1,sb:2,rb:3,mb:4,qb:5,tb:6,Ea:7,TIMEOUT:8,wb:9},qi={kb:"complete",Gb:"success",Fa:"error",Ea:"abort",yb:"ready",zb:"readystatechange",TIMEOUT:"timeout",ub:"incrementaldata",xb:"progress",nb:"downloadprogress",Ob:"uploadprogress"};function Bi(){}function Hi(){}Bi.prototype.b=null;var zi,Qi={OPEN:"a",jb:"b",Fa:"c",vb:"d"};function Gi(){Lr.call(this,"d")}function $i(){Lr.call(this,"c")}function Wi(){}function Ki(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Ti(this),this.P=Yi,this.R=new wi(t=Or?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.G=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}er(Gi,Lr),er($i,Lr),er(Wi,Bi),Wi.prototype.a=function(){return new XMLHttpRequest},Wi.prototype.c=function(){return{}},zi=new Wi;var Yi=45e3,Zi={},Xi={};function Ji(t,e,n){t.G=1,t.i=So(mo(e)),t.j=n,t.I=!0,to(t,null)}function to(t,e){t.u=tr(),ro(t),t.l=mo(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Ro(n.b,"t",r),t.D=0,t.a=xs(t.g,t.g.C?e:null),0<t.O&&(t.F=new Oi(Xn(t.Da,t,t.a),t.O)),Ii(t.J,t.a,"readystatechange",t.bb),e=t.B?gr(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Ri(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function eo(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=no(t,n);if(i==Xi){4==e&&(t.h=4,Li(14),r=!1),ki(t.c,t.f,null,"[Incomplete Response]");break}if(i==Zi){t.h=4,Li(15),ki(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}ki(t.c,t.f,i,null),uo(t,i)}4==e&&0==n.length&&(t.h=1,Li(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),_s(e),e.F=!0,Li(11))):(ki(t.c,t.f,n,"[Invalid Chunked Response]"),ao(t),so(t))}function no(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Xi:(n=Number(e.substring(n,r)),isNaN(n)?Zi:(r+=1)+n>e.length?Xi:(e=e.substr(r,n),t.D=r+n,e))}function ro(t){t.T=tr()+t.P,io(t,t.P)}function io(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Fi(Xn(t.$a,t),e)}function oo(t){t.o&&(zn.clearTimeout(t.o),t.o=null)}function so(t){0==t.g.v||t.A||Os(t.g,t)}function ao(t){oo(t);var e=t.F;e&&"function"==typeof e.ka&&e.ka(),t.F=null,_i(t.R),Ai(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ka())}function uo(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Bo(n.b,t)))if(n.I=t.N,!t.C&&Bo(n.b,t)&&3==n.v){try{var r=n.la.a.parse(e)}catch(Dm){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Es(n),fs(n)}ws(n),Li(18)}}else n.pa=i[1],0<n.pa-n.P&&37500>i[2]&&n.G&&0==n.o&&!n.m&&(n.m=Fi(Xn(n.Xa,n),6e3));if(1>=qo(n.b)&&n.fa){try{n.fa()}catch(Dm){}n.fa=void 0}}else Cs(n,11)}else if((t.C||n.a==t)&&Es(n),!ar(e))for(e=r=n.la.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ha=i[2];var o=i[3];null!=o&&(n.ia=o,n.c.info("VER="+n.ia));var s=i[4];null!=s&&(n.qa=s,n.c.info("SVER="+n.qa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(lr(l,"spdy")||lr(l,"quic")||lr(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Ho(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.oa=f,_o(u.B,u.A,f))}}n.v=3,n.f&&n.f.ua(),n.U&&(n.N=tr()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).ma=As(u,u.C?u.ha:null,u.ga),d.C){zo(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(oo(p),ro(p)),u.a=d}else vs(u);0<n.g.length&&gs(n)}else"stop"!=i[0]&&"close"!=i[0]||Cs(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Cs(n,7):hs(n):"noop"!=i[0]&&n.f&&n.f.ta(i),n.o=0);Ri(4)}catch(Dm){}}function co(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Gn(t)||"string"==typeof t)ir(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Gn(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Gn(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function lo(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof lo)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ho(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];fo(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)fo(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function fo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(qn=Ki.prototype).setTimeout=function(t){this.P=t},qn.bb=function(t){t=t.target;var e=this.F;e&&3==as(t)?e.f():this.Da(t)},qn.Da=function(t){try{if(t==this.a)t:{var e=as(this.a),n=this.a.va(),r=this.a.W();if(!(3>e||3==e&&!Or&&!this.a.$())){this.A||4!=e||7==n||Ri(8==n||0>=r?3:2),oo(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ar(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,Li(12),ao(this),so(this);break t}ki(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,uo(this,u)}this.I?(eo(this,e,o),Or&&this.b&&3==e&&(Ii(this.J,this.R,"tick",this.ab),this.R.start())):(ki(this.c,this.f,o,null),uo(this,o)),4==e&&ao(this),this.b&&!this.A&&(4==e?Os(this.g,this):(this.b=!1,ro(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Li(12)):(this.h=0,Li(13)),ao(this),so(this)}}}catch(c){}},qn.ab=function(){if(this.a){var t=as(this.a),e=this.a.$();this.D<e.length&&(oo(this),eo(this,t,e),this.b&&4!=t&&ro(this))}},qn.cancel=function(){this.A=!0,ao(this)},qn.$a=function(){this.o=null;var t=tr();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.G&&(Ri(3),Li(17)),ao(this),this.h=2,so(this)):io(this,this.T-t)},(qn=lo.prototype).K=function(){ho(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},qn.L=function(){return ho(this),this.a.concat()},qn.get=function(t,e){return fo(this.b,t)?this.b[t]:e},qn.set=function(t,e){fo(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},qn.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var po=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function go(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof go){this.a=void 0!==e?e:t.a,yo(this,t.f),this.j=t.j,bo(this,t.c),vo(this,t.h),this.g=t.g,e=t.b;var n=new jo;n.c=e.c,e.a&&(n.a=new lo(e.a),n.b=e.b),wo(this,n),this.i=t.i}else t&&(n=String(t).match(po))?(this.a=!!e,yo(this,n[1]||"",!0),this.j=Eo(n[2]||""),bo(this,n[3]||"",!0),vo(this,n[4]),this.g=Eo(n[5]||"",!0),wo(this,n[6]||"",!0),this.i=Eo(n[7]||"")):(this.a=!!e,this.b=new jo(null,this.a))}function mo(t){return new go(t)}function yo(t,e,n){t.f=n?Eo(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function bo(t,e,n){t.c=n?Eo(e,!0):e}function vo(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function wo(t,e,n){e instanceof jo?(t.b=e,function(t,e){e&&!t.f&&(Do(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(No(this,e),Ro(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Oo(e,xo)),t.b=new jo(e,t.a))}function _o(t,e,n){t.b.set(e,n)}function So(t){return _o(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^tr()).toString(36)),t}function Eo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Oo(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,To),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function To(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}go.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Oo(e,Co,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Oo(e,Co,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Oo(n,"/"==n.charAt(0)?Ao:Io,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Oo(n,ko)),t.join("")};var Co=/[#\/\?@]/g,Io=/[#\?:]/g,Ao=/[#\?]/g,xo=/[#\?@]/g,ko=/#/g;function jo(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Do(t){t.a||(t.a=new lo,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function No(t,e){Do(t),e=Mo(t,e),fo(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,fo((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ho(t)))}function Po(t,e){return Do(t),e=Mo(t,e),fo(t.a.b,e)}function Ro(t,e,n){No(t,e),0<n.length&&(t.c=null,t.a.set(Mo(t,e),sr(n)),t.b+=n.length)}function Mo(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(qn=jo.prototype).add=function(t,e){Do(this),this.c=null,t=Mo(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},qn.forEach=function(t,e){Do(this),this.a.forEach(function(n,r){ir(n,function(n){t.call(e,n,r,this)},this)},this)},qn.L=function(){Do(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},qn.K=function(t){Do(this);var e=[];if("string"==typeof t)Po(this,t)&&(e=or(e,this.a.get(Mo(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=or(e,t[n])}return e},qn.set=function(t,e){return Do(this),this.c=null,Po(this,t=Mo(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},qn.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},qn.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Lo=function(){return function(t,e){this.b=t,this.a=e}}();function Vo(t){this.g=t||Fo,t=zn.PerformanceNavigationTiming?0<(t=zn.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(zn.ja&&zn.ja.za&&zn.ja.za()&&zn.ja.za().Qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Fo=10;function Uo(t){return!!t.b||!!t.a&&t.a.size>=t.f}function qo(t){return t.b?1:t.a?t.a.size:0}function Bo(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Ho(t,e){t.a?t.a.add(e):t.b=e}function zo(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Qo(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Un(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return sr(t.c)}function Go(){}function $o(){this.a=new Go}function Wo(t,e,n){var r=n||"";try{co(t,function(t,n){var i=t;$n(t)&&(i=ci(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(ny){throw e.push(r+"type="+encodeURIComponent("_badmap")),ny}}function Ko(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Vo.prototype.cancel=function(){var t,e;if(this.c=Qo(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Un(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Go.prototype.stringify=function(t){return zn.JSON.stringify(t,void 0)},Go.prototype.parse=function(t){return zn.JSON.parse(t,void 0)};var Yo=zn.JSON.parse;function Zo(t){si.call(this),this.headers=new lo,this.l=t||null,this.b=!1,this.u=this.a=null,this.C="",this.h=0,this.f="",this.g=this.B=this.m=this.A=!1,this.s=0,this.o=null,this.I=Xo,this.F=this.G=!1}er(Zo,si);var Xo="",Jo=/^https?$/i,ts=["POST","PUT"];function es(t){return"content-type"==t.toLowerCase()}function ns(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,rs(t),os(t)}function rs(t){t.A||(t.A=!0,ai(t,"complete"),ai(t,"error"))}function is(t){if(t.b&&void 0!==Hn&&(!t.u[1]||4!=as(t)||2!=t.W()))if(t.m&&4==as(t))Si(t.Aa,0,t);else if(ai(t,"readystatechange"),4==as(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.C).match(po)[1]||null;if(!o&&zn.self&&zn.self.location){var s=zn.self.location.protocol;o=s.substr(0,s.length-1)}i=!Jo.test(o?o.toLowerCase():"")}e=i}if(e)ai(t,"complete"),ai(t,"success");else{t.h=6;try{var a=2<as(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",rs(t)}}finally{os(t)}}}function os(t,e){if(t.a){ss(t);var n=t.a,r=t.u[0]?Qn:null;t.a=null,t.u=null,e||ai(t,"ready");try{n.onreadystatechange=r}catch(ny){}}}function ss(t){t.a&&t.F&&(t.a.ontimeout=null),t.o&&(zn.clearTimeout(t.o),t.o=null)}function as(t){return t.a?t.a.readyState:0}function us(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return pr(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):_o(t,e,n))}function cs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ls(t){this.qa=0,this.g=[],this.c=new xi,this.ha=this.ma=this.B=this.ga=this.a=this.oa=this.A=this.V=this.i=this.O=this.l=null,this.Pa=this.R=0,this.Ma=cs("failFast",!1,t),this.G=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.pa=this.P=-1,this.T=this.o=this.u=0,this.Ia=cs("baseRetryDelayMs",5e3,t),this.Sa=cs("retryDelaySeedMs",1e4,t),this.Na=cs("forwardChannelMaxRetries",2,t),this.na=cs("forwardChannelRequestTimeoutMs",2e4,t),this.Oa=t&&t.xmlHttpFactory||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Vo(t&&t.concurrentRequestLimit),this.la=new $o,this.ea=t&&t.fastHandshake||!1,this.Ja=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.ea&&this.S&&t&&t.detectBufferingProxy||!1,this.fa=void 0,this.N=0,this.F=!1,this.s=null,(this.La=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function hs(t){if(ds(t),3==t.v){var e=t.R++,n=mo(t.B);_o(n,"SID",t.J),_o(n,"RID",e),_o(n,"TYPE","terminate"),ys(t,n),(e=new Ki(t,t.c,e,void 0)).G=2,e.i=So(mo(n)),n=!1,zn.navigator&&zn.navigator.sendBeacon&&(n=zn.navigator.sendBeacon(e.i.toString(),"")),!n&&zn.Image&&((new Image).src=e.i,n=!0),n||(e.a=xs(e.g,null),e.a.ba(e.i)),e.u=tr(),ro(e)}Is(t)}function fs(t){t.a&&(_s(t),t.a.cancel(),t.a=null)}function ds(t){fs(t),t.j&&(zn.clearTimeout(t.j),t.j=null),Es(t),t.b.cancel(),t.h&&("number"==typeof t.h&&zn.clearTimeout(t.h),t.h=null)}function ps(t,e){t.g.push(new Lo(t.Pa++,e)),3==t.v&&gs(t)}function gs(t){Uo(t.b)||t.h||(t.h=!0,mi(t.Ca,t),t.u=0)}function ms(t,e){var n;n=e?e.f:t.R++;var r=mo(t.B);_o(r,"SID",t.J),_o(r,"RID",n),_o(r,"AID",t.P),ys(t,r),t.i&&t.l&&us(r,t.i,t.l),n=new Ki(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=bs(t,n,1e3),n.setTimeout(Math.round(.5*t.na)+Math.round(.5*t.na*Math.random())),Ho(t.b,n),Ji(n,r,e)}function ys(t,e){t.f&&co({},function(t,n){_o(e,n,t)})}function bs(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Xn(t.f.Ka,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Wo(l,s,"req"+c+"_")}catch(fa){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function vs(t){t.a||t.j||(t.T=1,mi(t.Ba,t),t.o=0)}function ws(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Fi(Xn(t.Ba,t),Ts(t,t.o)),t.o++,0))}function _s(t){null!=t.s&&(zn.clearTimeout(t.s),t.s=null)}function Ss(t){t.a=new Ki(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=mo(t.ma);_o(e,"RID","rpc"),_o(e,"SID",t.J),_o(e,"CI",t.G?"0":"1"),_o(e,"AID",t.P),ys(t,e),_o(e,"TYPE","xmlhttp"),t.i&&t.l&&us(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ha,n.G=1,n.i=So(mo(e)),n.j=null,n.I=!0,to(n,t)}function Es(t){null!=t.m&&(zn.clearTimeout(t.m),t.m=null)}function Os(t,e){var n=null;if(t.a==e){Es(t),_s(t),t.a=null;var r=2}else{if(!Bo(t.b,e))return;n=e.s,zo(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=tr()-e.u;var i=t.u;ai(r=Ni(),new Vi(r,n,e,i)),gs(t)}else vs(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(qo(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ma?0:t.Na)||(t.h=Fi(Xn(t.Ca,t,e),Ts(t,t.u)),t.u++,0)))}(t,e)||2==r&&ws(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Cs(t,5);break;case 4:Cs(t,10);break;case 3:Cs(t,6);break;default:Cs(t,2)}}function Ts(t,e){var n=t.Ia+Math.floor(Math.random()*t.Sa);return t.f||(n*=2),n*e}function Cs(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Xn(t.cb,t);n||(n=new go("//www.google.com/images/cleardot.gif"),zn.location&&"http"==zn.location.protocol||yo(n,"https"),So(n)),function(t,e){var n=new xi;if(zn.Image){var r=new Image;r.onload=Jn(Ko,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Jn(Ko,n,r,"TestLoadImage: error",!1,e),r.onabort=Jn(Ko,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Jn(Ko,n,r,"TestLoadImage: timeout",!1,e),zn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Li(2);t.v=0,t.f&&t.f.sa(e),Is(t),ds(t)}function Is(t){t.v=0,t.I=-1,t.f&&(0==Qo(t.b).length&&0==t.g.length||(t.b.c.length=0,sr(t.g),t.g.length=0),t.f.ra())}function As(t,e,n){var r=function(t){return t instanceof go?mo(t):new go(t,void 0)}(n);if(""!=r.c)e&&bo(r,e+"."+r.c),vo(r,r.h);else{var i=zn.location;r=function(t,e,n,r){var i=new go(null,void 0);return t&&yo(i,t),e&&bo(i,e),n&&vo(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&pr(t.V,function(t,e){_o(r,e,t)}),n=t.oa,(e=t.A)&&n&&_o(r,e,n),_o(r,"VER",t.ia),ys(t,r),r}function xs(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Zo(t.Oa)).G=t.C,e}function ks(){}function js(){if(Sr&&!(10<=Number(Nr)))throw Error("Environmental error: no available transport.")}function Ds(t,e){si.call(this),this.a=new ls(e),this.g=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!ar(t)&&(this.a.i=t),this.o=e&&e.supportsCrossDomainXhr||!1,this.m=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ar(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Rs(this)}function Ns(t){Gi.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Ps(){$i.call(this),this.status=1}function Rs(t){this.a=t}function Ms(t){this.f=t}function Ls(t){si.call(this),this.u=t,this.h=void 0,this.readyState=Vs,this.status=0,this.responseType=this.responseText=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.o="",this.a=!1,this.m=this.f=this.g=null}(qn=Zo.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.C+"; newUri="+t);e=e?e.toUpperCase():"GET",this.C=t,this.f="",this.h=0,this.A=!1,this.b=!0,this.a=this.l?this.l.a():zi.a(),this.u=function(t){return t.b||(t.b=t.c())}(this.l?this.l:zi),this.a.onreadystatechange=Xn(this.Aa,this);try{this.B=!0,this.a.open(e,String(t),!0),this.B=!1}catch(o){return void ns(this,o)}t=n||"";var i=new lo(this.headers);r&&co(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=es,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=zn.FormData&&t instanceof zn.FormData,!(0<=rr(ts,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.G&&(this.a.withCredentials=this.G);try{ss(this),0<this.s&&((this.F=function(t){return Sr&&Dr(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.s,this.a.ontimeout=Xn(this.ya,this)):this.o=Si(this.ya,this.s,this)),this.m=!0,this.a.send(t),this.m=!1}catch(o){ns(this,o)}},qn.ya=function(){void 0!==Hn&&this.a&&(this.f="Timed out after "+this.s+"ms, aborting",this.h=8,ai(this,"timeout"),this.abort(8))},qn.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,ai(this,"complete"),ai(this,"abort"),os(this))},qn.H=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),os(this,!0)),Zo.X.H.call(this)},qn.Aa=function(){this.j||(this.B||this.m||this.g?is(this):this.Za())},qn.Za=function(){is(this)},qn.W=function(){try{return 2<as(this)?this.a.status:-1}catch(wr){return-1}},qn.$=function(){try{return this.a?this.a.responseText:""}catch(wr){return""}},qn.Qa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Yo(e)}},qn.va=function(){return this.h},qn.Ra=function(){return"string"==typeof this.f?this.f:String(this.f)},(qn=ls.prototype).ia=8,qn.v=1,qn.Ca=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Ki(this,this.c,t,void 0),r=this.l;if(this.O&&(r?yr(r=gr(r),this.O):r=this.O),null===this.i&&(n.B=r),this.ea)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=bs(this,n,e),_o(i=mo(this.B),"RID",t),_o(i,"CVER",22),this.A&&_o(i,"X-HTTP-Session-Id",this.A),ys(this,i),this.i&&r&&us(i,this.i,r),Ho(this.b,n),this.Ja&&_o(i,"TYPE","init"),this.ea?(_o(i,"$req",e),_o(i,"SID","null"),n.U=!0,Ji(n,i,null)):Ji(n,i,e),this.v=2}}else 3==this.v&&(t?ms(this,t):0==this.g.length||Uo(this.b)||ms(this))},qn.Ba=function(){if(this.j=null,Ss(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Fi(Xn(this.Ya,this),t)}},qn.Ya=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.F=!0,Li(10),fs(this),Ss(this))},qn.Xa=function(){null!=this.m&&(this.m=null,fs(this),ws(this),Li(19))},qn.cb=function(t){t?(this.c.info("Successfully pinged google.com"),Li(2)):(this.c.info("Failed to ping google.com"),Li(1))},(qn=ks.prototype).ua=function(){},qn.ta=function(){},qn.sa=function(){},qn.ra=function(){},qn.Ka=function(){},js.prototype.a=function(t,e){return new Ds(t,e)},er(Ds,si),Ds.prototype.h=function(){this.a.f=this.f,this.o&&(this.a.C=!0);var t=this.a,e=this.g,n=this.b||void 0;Li(0),t.ga=e,t.V=n||{},t.G=t.S,t.B=As(t,null,t.ga),gs(t)},Ds.prototype.close=function(){hs(this.a)},Ds.prototype.l=function(t){if("string"==typeof t){var e={};e.__data__=t,ps(this.a,e)}else this.m?((e={}).__data__=ci(t),ps(this.a,e)):ps(this.a,t)},Ds.prototype.H=function(){this.a.f=null,delete this.f,hs(this.a),delete this.a,Ds.X.H.call(this)},er(Ns,Gi),er(Ps,$i),er(Rs,ks),Rs.prototype.ua=function(){ai(this.a,"a")},Rs.prototype.ta=function(t){ai(this.a,new Ns(t))},Rs.prototype.sa=function(t){ai(this.a,new Ps(t))},Rs.prototype.ra=function(){ai(this.a,"b")},er(Ms,Bi),Ms.prototype.a=function(){return new Ls(this.f)},Ms.prototype.c=function(t){return function(){return t}}({}),er(Ls,si);var Vs=0;function Fs(t){t.f.read().then(t.Ta.bind(t)).catch(t.ca.bind(t))}function Us(t){t.readyState=4,t.g=null,t.f=null,t.m=null,qs(t)}function qs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(qn=Ls.prototype).open=function(t,e){if(this.readyState!=Vs)throw this.abort(),Error("Error reopening a connection");this.s=t,this.o=e,this.readyState=1,qs(this)},qn.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.o,e)).then(this.Wa.bind(this),this.ca.bind(this))},qn.abort=function(){this.responseText="",this.l=new Headers,this.status=0,this.f&&this.f.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Us(this)),this.readyState=Vs},qn.Wa=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,qs(this)),this.a&&(this.readyState=3,qs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.Ua.bind(this),this.ca.bind(this)):void 0!==zn.ReadableStream&&"body"in t?(this.responseText="",this.f=t.body.getReader(),this.m=new TextDecoder,Fs(this)):t.text().then(this.Va.bind(this),this.ca.bind(this)))))},qn.Ta=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.responseText+=e),t.done?Us(this):qs(this),3==this.readyState&&Fs(this)}},qn.Va=function(t){this.a&&(this.responseText=t,Us(this))},qn.Ua=function(){this.a&&Us(this)},qn.ca=function(){this.a&&Us(this)},qn.setRequestHeader=function(t,e){this.l.append(t,e)},qn.getResponseHeader=function(t){return this.b&&this.b.get(t.toLowerCase())||""},qn.getAllResponseHeaders=function(){if(!this.b)return"";for(var t=[],e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Ls.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),js.prototype.createWebChannel=js.prototype.a,Ds.prototype.send=Ds.prototype.l,Ds.prototype.open=Ds.prototype.h,Ds.prototype.close=Ds.prototype.close,Ui.NO_ERROR=0,Ui.TIMEOUT=8,Ui.HTTP_ERROR=6,qi.COMPLETE="complete",Hi.EventType=Qi,Qi.OPEN="a",Qi.CLOSE="b",Qi.ERROR="c",Qi.MESSAGE="d",si.prototype.listen=si.prototype.wa,Zo.prototype.listenOnce=Zo.prototype.xa,Zo.prototype.getLastError=Zo.prototype.Ra,Zo.prototype.getLastErrorCode=Zo.prototype.va,Zo.prototype.getStatus=Zo.prototype.W,Zo.prototype.getResponseJson=Zo.prototype.Qa,Zo.prototype.getResponseText=Zo.prototype.$,Zo.prototype.send=Zo.prototype.ba;var Bs=Ui,Hs=qi,zs=ji,Qs=Ms,Gs=Hi,$s=Zo,Ws=n("mrSG"),Ks=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Ks.o=-1;var Ys={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Zs=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Ws.c)(e,t),e}(Error),Xs=new Vn.b("@firebase/firestore");function Js(){return Xs.logLevel}function ta(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Xs.logLevel<=Vn.a.DEBUG){var r=e.map(ra);Xs.debug.apply(Xs,Object(Ws.f)(["Firestore (8.6.5): "+t],r))}}function ea(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Xs.logLevel<=Vn.a.ERROR){var r=e.map(ra);Xs.error.apply(Xs,Object(Ws.f)(["Firestore (8.6.5): "+t],r))}}function na(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Xs.logLevel<=Vn.a.WARN){var r=e.map(ra);Xs.warn.apply(Xs,Object(Ws.f)(["Firestore (8.6.5): "+t],r))}}function ra(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(ny){return t}}function ia(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.6.5) INTERNAL ASSERTION FAILED: "+t;throw ea(e),new Error(e)}function oa(t,e){t||ia()}function sa(t,e){return t}function aa(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ua=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=aa(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function ca(t,e){return t<e?-1:t>e?1:0}function la(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function ha(t){return t+"\0"}var fa=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Zs(Ys.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Zs(Ys.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Zs(Ys.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Zs(Ys.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?ca(this.nanoseconds,t.nanoseconds):ca(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),da=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new fa(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function pa(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ga(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ma(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ya=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&ia(),void 0===n?n=t.length-e:n>t.length-e&&ia(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ba=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ws.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Zs(Ys.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(ya),va=/^[_a-zA-Z][_a-zA-Z0-9]*$/,wa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ws.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return va.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Zs(Ys.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Zs(Ys.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Zs(Ys.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Zs(Ys.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(ya),_a=function(){function t(t){this.fields=t,t.sort(wa.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return la(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Sa=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return ca(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Sa.EMPTY_BYTE_STRING=new Sa("");var Ea=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oa(t){if(oa(!!t),"string"==typeof t){var e=0,n=Ea.exec(t);if(oa(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ta(t.seconds),nanos:Ta(t.nanos)}}function Ta(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ca(t){return"string"==typeof t?Sa.fromBase64String(t):Sa.fromUint8Array(t)}function Ia(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Aa(t){var e=t.mapValue.fields.__previous_value__;return Ia(e)?Aa(e):e}function xa(t){var e=Oa(t.mapValue.fields.__local_write_time__.timestampValue);return new fa(e.seconds,e.nanos)}function ka(t){return null==t}function ja(t){return 0===t&&1/t==-1/0}function Da(t){return"number"==typeof t&&Number.isInteger(t)&&!ja(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Na=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(ba.fromString(e))},t.fromName=function(e){return new t(ba.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ba.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return ba.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new ba(e.slice()))},t}();function Pa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ia(t)?4:10:ia()}function Ra(t,e){var n=Pa(t);if(n!==Pa(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xa(t).isEqual(xa(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Oa(t.timestampValue),r=Oa(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Ca(t.bytesValue).isEqual(Ca(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ta(t.geoPointValue.latitude)===Ta(e.geoPointValue.latitude)&&Ta(t.geoPointValue.longitude)===Ta(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ta(t.integerValue)===Ta(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Ta(t.doubleValue),r=Ta(e.doubleValue);return n===r?ja(n)===ja(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return la(t.arrayValue.values||[],e.arrayValue.values||[],Ra);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(pa(n)!==pa(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ra(n[i],r[i])))return!1;return!0}(t,e);default:return ia()}}function Ma(t,e){return void 0!==(t.values||[]).find(function(t){return Ra(t,e)})}function La(t,e){var n=Pa(t),r=Pa(e);if(n!==r)return ca(n,r);switch(n){case 0:return 0;case 1:return ca(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Ta(t.integerValue||t.doubleValue),r=Ta(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Va(t.timestampValue,e.timestampValue);case 4:return Va(xa(t),xa(e));case 5:return ca(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Ca(t),r=Ca(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=ca(n[i],r[i]);if(0!==o)return o}return ca(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=ca(Ta(t.latitude),Ta(e.latitude));return 0!==n?n:ca(Ta(t.longitude),Ta(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=La(n[i],r[i]);if(o)return o}return ca(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=ca(r[s],o[s]);if(0!==a)return a;var u=La(n[r[s]],i[o[s]]);if(0!==u)return u}return ca(r.length,o.length)}(t.mapValue,e.mapValue);default:throw ia()}}function Va(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ca(t,e);var n=Oa(t),r=Oa(e),i=ca(n.seconds,r.seconds);return 0!==i?i:ca(n.nanos,r.nanos)}function Fa(t){return Ua(t)}function Ua(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Oa(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ca(t.bytesValue).toBase64():"referenceValue"in t?Na.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Ua(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Ua(t.fields[o])}return e+"}"}(t.mapValue):ia();var e}function qa(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Ba(t){return!!t&&"integerValue"in t}function Ha(t){return!!t&&"arrayValue"in t}function za(t){return!!t&&"nullValue"in t}function Qa(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ga(t){return!!t&&"mapValue"in t}function $a(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue)return{timestampValue:Object.assign({},Oa(t.timestampValue))};if(t.mapValue){var e={mapValue:{fields:{}}};return ga(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=$a(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=$a(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Wa=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Ga(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=$a(e)},t.prototype.setAll=function(t){var e=this,n=wa.emptyPath(),r={},i=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=$a(t):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());Ga(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return Ra(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Ga(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){ga(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t($a(this.value))},t}();function Ka(t){var e=[];return ga(t.fields,function(t,n){var r=new wa([t]);if(Ga(n)){var i=Ka(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new _a(e)}var Ya=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,da.min(),Wa.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Wa.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Wa.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Wa.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Wa.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Za=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Xa(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Za(t,e,n,r,i,o,s)}function Ja(t){var e=sa(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Fa(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),ka(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=fu(e.startAt)),e.endAt&&(n+="|ub:",n+=fu(e.endAt)),e.h=n}return e.h}function tu(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!pu(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Ra(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mu(t.startAt,e.startAt)&&mu(t.endAt,e.endAt)}function eu(t){return Na.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var nu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Ws.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new ru(t,n,r):"array-contains"===n?new au(t,r):"in"===n?new uu(t,r):"not-in"===n?new cu(t,r):"array-contains-any"===n?new lu(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new iu(t,n):new ou(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(La(e,this.value)):null!==e&&Pa(this.value)===Pa(e)&&this.m(La(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ia()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),ru=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Na.fromName(r.referenceValue),i}return Object(Ws.c)(e,t),e.prototype.matches=function(t){var e=Na.comparator(t.key,this.key);return this.m(e)},e}(nu),iu=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=su(0,n),r}return Object(Ws.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(nu),ou=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=su(0,n),r}return Object(Ws.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(nu);function su(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Na.fromName(t.referenceValue)})}var au=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Ws.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Ha(e)&&Ma(e.arrayValue,this.value)},e}(nu),uu=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Ws.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Ma(this.value.arrayValue,e)},e}(nu),cu=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Ws.c)(e,t),e.prototype.matches=function(t){if(Ma(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Ma(this.value.arrayValue,e)},e}(nu),lu=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Ws.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Ha(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Ma(e.value.arrayValue,t)})},e}(nu),hu=function(t,e){this.position=t,this.before=e};function fu(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Fa(t)}).join(",")}var du=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function pu(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function gu(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Na.comparator(Na.fromName(s.referenceValue),n.key):La(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function mu(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Ra(t.position[n],e.position[n]))return!1;return!0}var yu=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function bu(t,e,n,r,i,o,s,a){return new yu(t,e,n,r,i,o,s,a)}function vu(t){return new yu(t)}function wu(t){return!ka(t.limit)&&"F"===t.limitType}function _u(t){return!ka(t.limit)&&"L"===t.limitType}function Su(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Eu(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Ou(t){return null!==t.collectionGroup}function Tu(t){var e=sa(t);if(null===e.p){e.p=[];var n=Eu(e),r=Su(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new du(n)),e.p.push(new du(wa.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new du(wa.keyField(),u))}}}return e.p}function Cu(t){var e=sa(t);if(!e.T)if("F"===e.limitType)e.T=Xa(e.path,e.collectionGroup,Tu(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Tu(e);r<i.length;r++){var o=i[r];n.push(new du(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new hu(e.endAt.position,!e.endAt.before):null,a=e.startAt?new hu(e.startAt.position,!e.startAt.before):null;e.T=Xa(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function Iu(t,e,n){return new yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Au(t,e){return tu(Cu(t),Cu(e))&&t.limitType===e.limitType}function xu(t){return Ja(Cu(t))+"|lt:"+t.limitType}function ku(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Fa(e.value);var e}).join(", ")+"]"),ka(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+fu(t.startAt)),t.endAt&&(e+=", endAt: "+fu(t.endAt)),"Target("+e+")"}(Cu(t))+"; limitType="+t.limitType+")"}function ju(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Na.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!gu(t.startAt,Tu(t),e)||t.endAt&&gu(t.endAt,Tu(t),e))}(t,e)}function Du(t){return function(e,n){for(var r=!1,i=0,o=Tu(t);i<o.length;i++){var s=o[i],a=Nu(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function Nu(t,e,n){var r=t.field.isKeyField()?Na.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?La(r,i):ia()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ia()}}function Pu(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ja(e)?"-0":e}}function Ru(t){return{integerValue:""+t}}function Mu(t,e){return Da(e)?Ru(e):Pu(t,e)}var Lu=function(){this._=void 0};function Vu(t,e,n){return t instanceof qu?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Bu?Hu(t,e):t instanceof zu?Qu(t,e):function(t,e){var n=Uu(t,e),r=$u(n)+$u(t.A);return Ba(n)&&Ba(t.A)?Ru(r):Pu(t.R,r)}(t,e)}function Fu(t,e,n){return t instanceof Bu?Hu(t,e):t instanceof zu?Qu(t,e):n}function Uu(t,e){return t instanceof Gu?Ba(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var qu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ws.c)(e,t),e}(Lu),Bu=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ws.c)(e,t),e}(Lu);function Hu(t,e){for(var n=Wu(e),r=function(t){n.some(function(e){return Ra(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var zu=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ws.c)(e,t),e}(Lu);function Qu(t,e){for(var n=Wu(e),r=function(t){n=n.filter(function(e){return!Ra(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Gu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(Ws.c)(e,t),e}(Lu);function $u(t){return Ta(t.integerValue||t.doubleValue)}function Wu(t){return Ha(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ku=function(t,e){this.field=t,this.transform=e},Yu=function(t,e){this.version=t,this.transformResults=e},Zu=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Xu(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Ju=function(){};function tc(t,e,n){t instanceof oc?function(t,e,n){var r=t.value.clone(),i=uc(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof sc?function(t,e,n){if(Xu(t.precondition,e)){var r=uc(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(ac(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function ec(t,e,n){t instanceof oc?function(t,e,n){if(Xu(t.precondition,e)){var r=t.value.clone(),i=cc(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(ic(e),r).setHasLocalMutations()}}(t,e,n):t instanceof sc?function(t,e,n){if(Xu(t.precondition,e)){var r=cc(t.fieldTransforms,n,e),i=e.data;i.setAll(ac(t)),i.setAll(r),e.convertToFoundDocument(ic(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Xu(t.precondition,e)&&e.convertToNoDocument(da.min())}(t,e)}function nc(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=Uu(o.transform,s||null);null!=a&&(null==n&&(n=Wa.empty()),n.set(o.field,a))}return n||null}function rc(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&la(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Bu&&e instanceof Bu||t instanceof zu&&e instanceof zu?la(t.elements,e.elements,Ra):t instanceof Gu&&e instanceof Gu?Ra(t.A,e.A):t instanceof qu&&e instanceof qu}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function ic(t){return t.isFoundDocument()?t.version:da.min()}var oc=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(Ws.c)(e,t),e}(Ju),sc=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(Ws.c)(e,t),e}(Ju);function ac(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function uc(t,e,n){var r=new Map;oa(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Fu(s,a,n[i]))}return r}function cc(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,Vu(a,u,e))}return r}var lc,hc,fc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(Ws.c)(e,t),e}(Ju),dc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(Ws.c)(e,t),e}(Ju),pc=function(t){this.count=t};function gc(t){switch(t){case Ys.OK:return ia();case Ys.CANCELLED:case Ys.UNKNOWN:case Ys.DEADLINE_EXCEEDED:case Ys.RESOURCE_EXHAUSTED:case Ys.INTERNAL:case Ys.UNAVAILABLE:case Ys.UNAUTHENTICATED:return!1;case Ys.INVALID_ARGUMENT:case Ys.NOT_FOUND:case Ys.ALREADY_EXISTS:case Ys.PERMISSION_DENIED:case Ys.FAILED_PRECONDITION:case Ys.ABORTED:case Ys.OUT_OF_RANGE:case Ys.UNIMPLEMENTED:case Ys.DATA_LOSS:return!0;default:return ia()}}function mc(t){if(void 0===t)return ea("GRPC error has no .code"),Ys.UNKNOWN;switch(t){case lc.OK:return Ys.OK;case lc.CANCELLED:return Ys.CANCELLED;case lc.UNKNOWN:return Ys.UNKNOWN;case lc.DEADLINE_EXCEEDED:return Ys.DEADLINE_EXCEEDED;case lc.RESOURCE_EXHAUSTED:return Ys.RESOURCE_EXHAUSTED;case lc.INTERNAL:return Ys.INTERNAL;case lc.UNAVAILABLE:return Ys.UNAVAILABLE;case lc.UNAUTHENTICATED:return Ys.UNAUTHENTICATED;case lc.INVALID_ARGUMENT:return Ys.INVALID_ARGUMENT;case lc.NOT_FOUND:return Ys.NOT_FOUND;case lc.ALREADY_EXISTS:return Ys.ALREADY_EXISTS;case lc.PERMISSION_DENIED:return Ys.PERMISSION_DENIED;case lc.FAILED_PRECONDITION:return Ys.FAILED_PRECONDITION;case lc.ABORTED:return Ys.ABORTED;case lc.OUT_OF_RANGE:return Ys.OUT_OF_RANGE;case lc.UNIMPLEMENTED:return Ys.UNIMPLEMENTED;case lc.DATA_LOSS:return Ys.DATA_LOSS;default:return ia()}}(hc=lc||(lc={}))[hc.OK=0]="OK",hc[hc.CANCELLED=1]="CANCELLED",hc[hc.UNKNOWN=2]="UNKNOWN",hc[hc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hc[hc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hc[hc.NOT_FOUND=5]="NOT_FOUND",hc[hc.ALREADY_EXISTS=6]="ALREADY_EXISTS",hc[hc.PERMISSION_DENIED=7]="PERMISSION_DENIED",hc[hc.UNAUTHENTICATED=16]="UNAUTHENTICATED",hc[hc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hc[hc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hc[hc.ABORTED=10]="ABORTED",hc[hc.OUT_OF_RANGE=11]="OUT_OF_RANGE",hc[hc.UNIMPLEMENTED=12]="UNIMPLEMENTED",hc[hc.INTERNAL=13]="INTERNAL",hc[hc.UNAVAILABLE=14]="UNAVAILABLE",hc[hc.DATA_LOSS=15]="DATA_LOSS";var yc=function(){function t(t,e){this.comparator=t,this.root=e||vc.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vc.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vc.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new bc(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new bc(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new bc(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new bc(this.root,t,this.comparator,!0)},t}(),bc=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),vc=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw ia();if(this.right.isRed())throw ia();var t=this.left.check();if(t!==this.right.check())throw ia();return t+(this.isRed()?0:1)},t}();vc.EMPTY=null,vc.RED=!0,vc.BLACK=!1,vc.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw ia()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw ia()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw ia()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw ia()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw ia()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new vc(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var wc=function(){function t(t){this.comparator=t,this.data=new yc(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new _c(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new _c(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),_c=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Sc=new yc(Na.comparator);function Ec(){return Sc}var Oc=new yc(Na.comparator);function Tc(){return Oc}var Cc=new yc(Na.comparator);function Ic(){return Cc}var Ac=new wc(Na.comparator);function xc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ac,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var kc=new wc(ca);function jc(){return kc}var Dc=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Nc.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(da.min(),r,jc(),Ec(),xc())},t}(),Nc=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Sa.EMPTY_BYTE_STRING,n,xc(),xc(),xc())},t}(),Pc=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Rc=function(t,e){this.targetId=t,this.V=e},Mc=function(t,e,n,r){void 0===n&&(n=Sa.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Lc=function(){function t(){this.S=0,this.D=Uc(),this.C=Sa.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=xc(),e=xc(),n=xc();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:ia()}}),new Nc(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Uc()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Vc=function(){function t(t){this.W=t,this.G=new Map,this.H=Ec(),this.J=Fc(),this.Y=new wc(ca)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:ia()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(eu(i))if(0===n){var o=new Na(i.path);this.tt(e,o,Ya.newNoDocument(o,da.min()))}else oa(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&eu(o.target)){var s=new Na(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,Ya.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=xc();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Dc(t,n,this.Y,this.H,r);return this.H=Ec(),this.J=Fc(),this.Y=new wc(ca),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Lc,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new wc(ca),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||ta("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Lc),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Fc(){return new yc(Na.comparator)}function Uc(){return new yc(Na.comparator)}var qc={asc:"ASCENDING",desc:"DESCENDING"},Bc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hc=function(t,e){this.databaseId=t,this.I=e};function zc(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qc(t,e){return t.I?e.toBase64():e.toUint8Array()}function Gc(t,e){return zc(t,e.toTimestamp())}function $c(t){return oa(!!t),da.fromTimestamp(function(t){var e=Oa(t);return new fa(e.seconds,e.nanos)}(t))}function Wc(t,e){return function(t){return new ba(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Kc(t){var e=ba.fromString(t);return oa(vl(e)),e}function Yc(t,e){return Wc(t.databaseId,e.path)}function Zc(t,e){var n=Kc(e);if(n.get(1)!==t.databaseId.projectId)throw new Zs(Ys.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Zs(Ys.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Na(el(n))}function Xc(t,e){return Wc(t.databaseId,e)}function Jc(t){var e=Kc(t);return 4===e.length?ba.emptyPath():el(e)}function tl(t){return new ba(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function el(t){return oa(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function nl(t,e,n){return{name:Yc(t,e),fields:n.value.mapValue.fields}}function rl(t,e,n){var r=Zc(t,e.name),i=$c(e.updateTime),o=new Wa({mapValue:{fields:e.fields}}),s=Ya.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function il(t,e){var n;if(e instanceof oc)n={update:nl(t,e.key,e.value)};else if(e instanceof fc)n={delete:Yc(t,e.key)};else if(e instanceof sc)n={update:nl(t,e.key,e.data),updateMask:bl(e.fieldMask)};else{if(!(e instanceof dc))return ia();n={verify:Yc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof qu)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Bu)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof zu)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Gu)return{fieldPath:e.field.canonicalString(),increment:n.A};throw ia()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Gc(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:ia()}(t,e.precondition)),n}function ol(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Zu.updateTime($c(t.updateTime)):void 0!==t.exists?Zu.exists(t.exists):Zu.none()}(e.currentDocument):Zu.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(oa("REQUEST_TIME"===e.setToServerValue),n=new qu):"appendMissingElements"in e?n=new Bu(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new zu(e.removeAllFromArray.values||[]):"increment"in e?n=new Gu(t,e.increment):ia();var r=wa.fromServerFormat(e.fieldPath);return new Ku(r,n)}(t,e)}):[];if(e.update){var i=Zc(t,e.update.name),o=new Wa({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new _a((t.fieldPaths||[]).map(function(t){return wa.fromServerFormat(t)}))}(e.updateMask);return new sc(i,o,s,n,r)}return new oc(i,o,n,r)}if(e.delete){var a=Zc(t,e.delete);return new fc(a,n)}if(e.verify){var u=Zc(t,e.verify);return new dc(u,n)}return ia()}function sl(t,e){return{documents:[Xc(t,e.path)]}}function al(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Xc(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Xc(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Qa(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NAN"}};if(za(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Qa(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NOT_NAN"}};if(za(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pl(t.field),op:dl(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:pl(t.field),direction:fl(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||ka(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=ll(e.startAt)),e.endAt&&(n.structuredQuery.endAt=ll(e.endAt)),n}function ul(t){var e=Jc(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){oa(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=cl(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new du(gl(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return ka(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=hl(n.startAt));var l=null;return n.endAt&&(l=hl(n.endAt)),bu(e,i,a,s,u,"F",c,l)}function cl(t){return t?void 0!==t.unaryFilter?[yl(t)]:void 0!==t.fieldFilter?[ml(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return cl(t)}).reduce(function(t,e){return t.concat(e)}):ia():[]}function ll(t){return{before:t.before,values:t.position}}function hl(t){return new hu(t.values||[],!!t.before)}function fl(t){return qc[t]}function dl(t){return Bc[t]}function pl(t){return{fieldPath:t.canonicalString()}}function gl(t){return wa.fromServerFormat(t.fieldPath)}function ml(t){return nu.create(gl(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ia()}}(t.fieldFilter.op),t.fieldFilter.value)}function yl(t){switch(t.unaryFilter.op){case"IS_NAN":var e=gl(t.unaryFilter.field);return nu.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=gl(t.unaryFilter.field);return nu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=gl(t.unaryFilter.field);return nu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=gl(t.unaryFilter.field);return nu.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ia()}}function bl(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function vl(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function wl(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Sl(e)),e=_l(t.get(n),e);return Sl(e)}function _l(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Sl(t){return t+"\x01\x01"}function El(t){var e=t.length;if(oa(e>=2),2===e)return oa("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),ba.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&ia(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:ia()}o=s+2}return new ba(r)}var Ol=function(t,e){this.seconds=t,this.nanoseconds=e},Tl=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Tl.store="owner",Tl.key="owner";var Cl=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Cl.store="mutationQueues",Cl.keyPath="userId";var Il=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Il.store="mutations",Il.keyPath="batchId",Il.userMutationsIndex="userMutationsIndex",Il.userMutationsKeyPath=["userId","batchId"];var Al=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,wl(e)]},t.key=function(t,e,n){return[t,wl(e),n]},t}();Al.store="documentMutations",Al.PLACEHOLDER=new Al;var xl=function(t,e){this.path=t,this.readTime=e},kl=function(t,e){this.path=t,this.version=e},jl=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};jl.store="remoteDocuments",jl.readTimeIndex="readTimeIndex",jl.readTimeIndexPath="readTime",jl.collectionReadTimeIndex="collectionReadTimeIndex",jl.collectionReadTimeIndexPath=["parentPath","readTime"];var Dl=function(t){this.byteSize=t};Dl.store="remoteDocumentGlobal",Dl.key="remoteDocumentGlobalKey";var Nl=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Nl.store="targets",Nl.keyPath="targetId",Nl.queryTargetsIndexName="queryTargetsIndex",Nl.queryTargetsKeyPath=["canonicalId","targetId"];var Pl=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Pl.store="targetDocuments",Pl.keyPath=["targetId","path"],Pl.documentTargetsIndex="documentTargetsIndex",Pl.documentTargetsKeyPath=["path","targetId"];var Rl=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Rl.key="targetGlobalKey",Rl.store="targetGlobal";var Ml=function(t,e){this.collectionId=t,this.parent=e};Ml.store="collectionParents",Ml.keyPath=["collectionId","parent"];var Ll=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Ll.store="clientMetadata",Ll.keyPath="clientId";var Vl=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Vl.store="bundles",Vl.keyPath="bundleId";var Fl=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Fl.store="namedQueries",Fl.keyPath="name";var Ul=Object(Ws.f)(Object(Ws.f)([],Object(Ws.f)(Object(Ws.f)([],Object(Ws.f)(Object(Ws.f)([],Object(Ws.f)(Object(Ws.f)([],[Cl.store,Il.store,Al.store,jl.store,Nl.store,Tl.store,Rl.store,Pl.store]),[Ll.store])),[Dl.store])),[Ml.store])),[Vl.store,Fl.store]),ql="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Bl=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Hl=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},zl=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&ia(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Ql=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Hl,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Wl(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Jl(e.target.error);n.ft.reject(new Wl(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Wl(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(ta("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Yl(e)},t}(),Gl=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(Ln.i)())&&ea("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return ta("SimpleDb","Removing database:",t),Zl(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(Ln.i)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(Ws.b)(this,void 0,void 0,function(){var e,n=this;return Object(Ws.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(ta("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Wl(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Zs(Ys.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Wl(t,n))},i.onupgradeneeded=function(t){ta("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){ta("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Ws.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(Ws.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(Ws.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Ql.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),zl.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return ta("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),$l=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Zl(this.Pt.delete())},t}(),Wl=function(t){function e(e,n){var r=this;return(r=t.call(this,Ys.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Ws.c)(e,t),e}(Zs);function Kl(t){return"IndexedDbTransactionError"===t.name}var Yl=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(ta("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ta("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Zl(n)},t.prototype.add=function(t){return ta("SimpleDb","ADD",this.store.name,t,t),Zl(this.store.add(t))},t.prototype.get=function(t){var e=this;return Zl(this.store.get(t)).next(function(n){return void 0===n&&(n=null),ta("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return ta("SimpleDb","DELETE",this.store.name,t),Zl(this.store.delete(t))},t.prototype.count=function(){return ta("SimpleDb","COUNT",this.store.name),Zl(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){ta("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new zl(function(n,r){e.onerror=function(t){var e=Jl(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new zl(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new $l(i),s=e(i.primaryKey,i.value,o);if(s instanceof zl){var a=s.catch(function(t){return o.done(),zl.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return zl.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Zl(t){return new zl(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Jl(t.target.error);n(e)}})}var Xl=!1;function Jl(t){var e=Gl._t(Object(Ln.i)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Zs("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Xl||(Xl=!0,setTimeout(function(){throw r},0)),r}}return t}var th=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(Ws.c)(e,t),e}(Bl);function eh(t,e){var n=sa(t);return Gl.It(n.Mt,e)}var nh=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&tc(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&ec(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&ec(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(da.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},xc())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&la(this.mutations,t.mutations,function(t,e){return rc(t,e)})&&la(this.baseMutations,t.baseMutations,function(t,e){return rc(t,e)})},t}(),rh=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){oa(e.mutations.length===r.length);for(var i=Ic(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),ih=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=da.min()),void 0===o&&(o=da.min()),void 0===s&&(s=Sa.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),oh=function(t){this.Lt=t};function sh(t,e){if(e.document)return rl(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Na.fromSegments(e.noDocument.path),r=hh(e.noDocument.readTime),i=Ya.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Na.fromSegments(e.unknownDocument.path);return r=hh(e.unknownDocument.version),Ya.newUnknownDocument(o,r)}return ia()}function ah(t,e,n){var r=uh(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Yc(t,e.key),fields:e.data.value.mapValue.fields,updateTime:zc(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new jl(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=lh(e.version);return s=e.hasCommittedMutations,new jl(null,new xl(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=lh(e.version);return new jl(new kl(c,l),null,null,!0,r,i)}return ia()}function uh(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ch(t){var e=new fa(t[0],t[1]);return da.fromTimestamp(e)}function lh(t){var e=t.toTimestamp();return new Ol(e.seconds,e.nanoseconds)}function hh(t){var e=new fa(t.seconds,t.nanoseconds);return da.fromTimestamp(e)}function fh(t,e){for(var n=(e.baseMutations||[]).map(function(e){return ol(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return ol(t.Lt,e)}),o=fa.fromMillis(e.localWriteTimeMs);return new nh(e.batchId,o,n,i)}function dh(t){var e,n,r=hh(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?hh(t.lastLimboFreeSnapshotVersion):da.min();return void 0!==t.query.documents?(oa(1===(n=t.query).documents.length),e=Cu(vu(Jc(n.documents[0])))):e=function(t){return Cu(ul(t))}(t.query),new ih(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Sa.fromBase64String(t.resumeToken))}function ph(t,e){var n,r=lh(e.snapshotVersion),i=lh(e.lastLimboFreeSnapshotVersion);n=eu(e.target)?sl(t.Lt,e.target):al(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Nl(e.targetId,Ja(e.target),r,o,e.sequenceNumber,i,n)}function gh(t){var e=ul({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Iu(e,e.limit,"L"):e}var mh=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return yh(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:hh(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return yh(t).put({bundleId:(n=e).id,createTime:lh($c(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return bh(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:gh(e.bundledQuery),readTime:hh(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return bh(t).put(function(t){return{name:t.name,readTime:lh($c(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function yh(t){return eh(t,Vl.store)}function bh(t){return eh(t,Fl.store)}var vh=function(){function t(){this.Bt=new wh}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),zl.resolve()},t.prototype.getCollectionParents=function(t,e){return zl.resolve(this.Bt.getEntries(e))},t}(),wh=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new wc(ba.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new wc(ba.comparator)).toArray()},t}(),_h=function(){function t(){this.qt=new wh}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:wl(i)};return Sh(t).put(o)}return zl.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ha(e),""],!1,!0);return Sh(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(El(o.parent))}return n})},t}();function Sh(t){return eh(t,Ml.store)}var Eh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Oh=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Th(t,e,n){var r=t.store(Il.store),i=t.store(Al.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){oa(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Al.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return zl.waitFor(o).next(function(){return c})}function Ch(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ia();e=t.noDocument}return JSON.stringify(e).length}Oh.DEFAULT_COLLECTION_PERCENTILE=10,Oh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Oh.DEFAULT=new Oh(41943040,Oh.DEFAULT_COLLECTION_PERCENTILE,Oh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Oh.DISABLED=new Oh(-1,0,0);var Ih=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return oa(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xh(t).$t({index:Il.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=kh(t),s=xh(t);return s.add({}).next(function(a){oa("number"==typeof a);for(var u=new nh(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return il(t.Lt,e)}),i=n.mutations.map(function(e){return il(t.Lt,e)});return new Il(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new wc(function(t,e){return ca(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Al.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,Al.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=u.keys()}),zl.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return xh(t).get(e).next(function(t){return t?(oa(t.userId===n.userId),fh(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?zl.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return xh(t).$t({index:Il.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(oa(e.batchId>=r),o=fh(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return xh(t).$t({index:Il.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xh(t).Nt(Il.userMutationsIndex,n).next(function(t){return t.map(function(t){return fh(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Al.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return kh(t).$t({range:i},function(r,i,s){var a=r[0],u=r[2],c=El(r[1]);if(a===n.userId&&e.path.isEqual(c))return xh(t).get(u).next(function(t){if(!t)throw ia();oa(t.userId===n.userId),o.push(fh(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new wc(ca),i=[];return e.forEach(function(e){var o=Al.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=kh(t).$t({range:s},function(t,i,o){var s=t[0],a=t[2],u=El(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),zl.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Al.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new wc(ca);return kh(t).$t({range:s},function(t,e,o){var s=t[0],u=t[2],c=El(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(xh(t).get(e).next(function(t){if(null===t)throw ia();oa(t.userId===n.userId),r.push(fh(n.R,t))}))}),zl.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Th(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),zl.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return zl.resolve();var r=IDBKeyRange.lowerBound(Al.prefixForUser(e.userId)),i=[];return kh(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var o=El(t[1]);i.push(o)}else r.done()}).next(function(){oa(0===i.length)})})},t.prototype.containsKey=function(t,e){return Ah(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return jh(t).get(this.userId).next(function(t){return t||new Cl(e.userId,-1,"")})},t}();function Ah(t,e,n){var r=Al.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return kh(t).$t({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function xh(t){return eh(t,Il.store)}function kh(t){return eh(t,Al.store)}function jh(t){return eh(t,Cl.store)}var Dh=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Nh=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new Dh(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return da.fromTimestamp(new fa(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Ph(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return oa(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Ph(t).$t(function(s,a){var u=dh(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return zl.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Ph(t).$t(function(t,n){var r=dh(n);e(r)})},t.prototype.Xt=function(t){return Rh(t).get(Rl.key).next(function(t){return oa(null!==t),t})},t.prototype.Zt=function(t,e){return Rh(t).put(Rl.key,e)},t.prototype.te=function(t,e){return Ph(t).put(ph(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Ja(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ph(t).$t({range:r,index:Nl.queryTargetsIndexName},function(t,n,r){var o=dh(n);tu(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Mh(t);return e.forEach(function(e){var s=wl(e.path);i.push(o.put(new Pl(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),zl.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Mh(t);return zl.forEach(e,function(e){var o=wl(e.path);return zl.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Mh(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Mh(t),i=xc();return r.$t({range:n,kt:!0},function(t,e,n){var r=El(t[1]),o=new Na(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=wl(e.path),r=IDBKeyRange.bound([n],[ha(n)],!1,!0),i=0;return Mh(t).$t({index:Pl.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return Ph(t).get(e).next(function(t){return t?dh(t):null})},t}();function Ph(t){return eh(t,Nl.store)}function Rh(t){return eh(t,Rl.store)}function Mh(t){return eh(t,Pl.store)}function Lh(t){return Object(Ws.b)(this,void 0,void 0,function(){return Object(Ws.d)(this,function(e){if(t.code!==Ys.FAILED_PRECONDITION||t.message!==ql)throw t;return ta("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Vh(t,e){var n=t[1],r=e[1],i=ca(t[0],e[0]);return 0===i?ca(n,r):i}var Fh=function(){function t(t){this.ne=t,this.buffer=new wc(Vh),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Vh(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Uh=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;ta("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(Ws.b)(e,void 0,void 0,function(){var e;return Object(Ws.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Kl(e=n.sent())?(ta("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Lh(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),qh=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return zl.resolve(Ks.o);var r=new Fh(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ta("LruGarbageCollector","Garbage collection skipped; disabled"),zl.resolve(Eh)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(ta("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Eh):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(ta("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Js()<=Vn.a.DEBUG&&ta("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),zl.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Bh=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new qh(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Hh(t,n)},t.prototype.removeReference=function(t,e,n){return Hh(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Hh(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return jh(t).Ot(function(r){return Ah(t,r,e).next(function(t){return t&&(n=!0),zl.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),Mh(t).delete([0,wl(s.path)])})});i.push(u)}}).next(function(){return zl.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Hh(t,e)},t.prototype.we=function(t,e){var n,r=Mh(t),i=Ks.o;return r.$t({index:Pl.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Ks.o&&e(new Na(El(n)),i),i=s,n=o):i=Ks.o}).next(function(){i!==Ks.o&&e(new Na(El(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Hh(t,e){return Mh(t).put(function(t,e){return new Pl(0,wl(t.path),e)}(e,t.currentSequenceNumber))}var zh=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){ga(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return ma(this.inner)},t}(),Qh=function(){function t(){this.changes=new zh(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:da.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Ya.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?zl.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Gh=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Kh(t).put(Yh(e),n)},t.prototype.removeEntry=function(t,e){var n=Kh(t),r=Yh(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Kh(t).get(Yh(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Kh(t).get(Yh(e)).next(function(t){return{document:n.ye(e,t),size:Ch(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=Ec();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=Ec(),i=new yc(Na.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Ch(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return zl.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Kh(t).$t({range:r},function(t,e,r){for(var s=Na.fromSegments(t);o&&Na.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Ec(),o=e.path.length+1,s={};if(n.isEqual(da.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=uh(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=jl.collectionReadTimeIndex}return Kh(t).$t(s,function(t,n,s){if(t.length===o){var a=sh(r.R,n);e.path.isPrefixOf(a.key.path)?ju(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new $h(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Wh(t).get(Dl.key).next(function(t){return oa(!!t),t})},t.prototype.me=function(t,e){return Wh(t).put(Dl.key,e)},t.prototype.ye=function(t,e){if(e){var n=sh(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(da.min()))return n}return Ya.newInvalidDocument(t)},t}(),$h=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new zh(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Ws.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new wc(function(t,e){return ca(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=ah(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Ch(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=ah(e.Ie.R,Ya.newNoDocument(o,da.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),zl.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(Qh);function Wh(t){return eh(t,Dl.store)}function Kh(t){return eh(t,jl.store)}function Yh(t){return t.path.toArray()}var Zh=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;oa(n<r&&n>=0&&r<=11);var o=new Ql("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Tl.store)}(t),function(t){t.createObjectStore(Cl.store,{keyPath:Cl.keyPath}),t.createObjectStore(Il.store,{keyPath:Il.keyPath,autoIncrement:!0}).createIndex(Il.userMutationsIndex,Il.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Al.store)}(t),Xh(t),function(t){t.createObjectStore(jl.store)}(t));var s=zl.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Pl.store),t.deleteObjectStore(Nl.store),t.deleteObjectStore(Rl.store)}(t),Xh(t)),s=s.next(function(){return function(t){var e=t.store(Rl.store),n=new Rl(0,0,da.min().toTimestamp(),0);return e.put(Rl.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Il.store).Nt().next(function(n){t.deleteObjectStore(Il.store),t.createObjectStore(Il.store,{keyPath:Il.keyPath,autoIncrement:!0}).createIndex(Il.userMutationsIndex,Il.userMutationsKeyPath,{unique:!0});var r=e.store(Il.store),i=n.map(function(t){return r.put(t)});return zl.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(Ll.store,{keyPath:Ll.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Dl.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(jl.store);e.createIndex(jl.readTimeIndex,jl.readTimeIndexPath,{unique:!1}),e.createIndex(jl.collectionReadTimeIndex,jl.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Vl.store,{keyPath:Vl.keyPath})}(t),function(t){t.createObjectStore(Fl.store,{keyPath:Fl.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(jl.store).$t(function(t,n){e+=Ch(n)}).next(function(){var n=new Dl(e);return t.store(Dl.store).put(Dl.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(Cl.store),r=t.store(Il.store);return n.Nt().next(function(n){return zl.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Il.userMutationsIndex,i).next(function(r){return zl.forEach(r,function(r){oa(r.userId===n.userId);var i=fh(e.R,r);return Th(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(Pl.store),n=t.store(jl.store);return t.store(Rl.store).get(Rl.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new ba(n),s=function(t){return[0,wl(t)]}(o);r.push(e.get(s).next(function(n){return n?zl.resolve():function(n){return e.put(new Pl(0,wl(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return zl.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(Ml.store,{keyPath:Ml.keyPath});var n=e.store(Ml.store),r=new wh,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:wl(i)})}};return e.store(jl.store).$t({kt:!0},function(t,e){var n=new ba(t);return i(n.popLast())}).next(function(){return e.store(Al.store).$t({kt:!0},function(t,e){var n=El(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(Nl.store);return n.$t(function(t,r){var i=dh(r),o=ph(e.R,i);return n.put(o)})},t}();function Xh(t){t.createObjectStore(Pl.store,{keyPath:Pl.keyPath}).createIndex(Pl.documentTargetsIndex,Pl.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Nl.store,{keyPath:Nl.keyPath}).createIndex(Nl.queryTargetsIndexName,Nl.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Rl.store)}var Jh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",tf=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Zs(Ys.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Bh(this,i),this.Le=n+"main",this.R=new oh(u),this.Be=new Gl(this.Le,11,new Zh(this.R)),this.qe=new Nh(this.referenceDelegate,this.R),this.Ut=new _h,this.Ue=function(t,e){return new Gh(t,e)}(this.R,this.Ut),this.Qe=new mh,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&ea("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Zs(Ys.FAILED_PRECONDITION,Jh);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Ks(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(Ws.b)(e,void 0,void 0,function(){return Object(Ws.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(Ws.b)(e,void 0,void 0,function(){return Object(Ws.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(Ws.b)(e,void 0,void 0,function(){return Object(Ws.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return nf(e).put(new Ll(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Kl(e))return ta("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return ta("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return ef(t).get(Tl.key).next(function(t){return zl.resolve(e.tn(t))})},t.prototype.en=function(t){return nf(t).delete(this.clientId)},t.prototype.nn=function(){return Object(Ws.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Ws.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=eh(t,Ll.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return zl.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?zl.resolve(!0):ef(t).get(Tl.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Zs(Ys.FAILED_PRECONDITION,Jh);return!1}}return!(!e.networkEnabled||!e.inForeground)||nf(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&ta("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(Ws.b)(this,void 0,void 0,function(){var t=this;return Object(Ws.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Tl.store,Ll.store],function(e){var n=new th(e,Ks.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return nf(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Ih.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return ta("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Ul,function(o){return r=new th(o,i.Ne?i.Ne.next():Ks.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw ea("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Zs(Ys.FAILED_PRECONDITION,ql);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return ef(t).get(Tl.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Zs(Ys.FAILED_PRECONDITION,Jh)})},t.prototype.Ze=function(t){var e=new Tl(this.clientId,this.allowTabSynchronization,Date.now());return ef(t).put(Tl.key,e)},t.yt=function(){return Gl.yt()},t.prototype.Xe=function(t){var e=this,n=ef(t);return n.get(Tl.key).next(function(t){return e.tn(t)?(ta("IndexedDbPersistence","Releasing primary lease."),n.delete(Tl.key)):zl.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(ea("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return ta("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return ea("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){ea("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ef(t){return eh(t,Tl.store)}function nf(t){return eh(t,Ll.store)}function rf(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var of=function(t,e){this.progress=t,this.wn=e},sf=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Na.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Ou(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Na(e)).next(function(t){var e=Tc();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Tc();return this.Ut.getCollectionParents(t,i).next(function(s){return zl.forEach(s,function(s){var a=function(t,e){return new yu(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=Ya.newInvalidDocument(c),r=r.insert(c,l)),ec(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){ju(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=xc(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof sc&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),af=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=xc(),i=xc(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),uf=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(da.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(wu(e)||_u(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(Js()<=Vn.a.DEBUG&&ta("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ku(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new wc(Du(t));return e.forEach(function(e,r){ju(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Js()<=Vn.a.DEBUG&&ta("QueryEngine","Using full collection scan to execute query:",ku(e)),this.Sn.getDocumentsMatchingQuery(t,e,da.min())},t}(),cf=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new yc(ca),this.kn=new zh(function(t){return Ja(t)},tu),this.$n=da.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new sf(this.On,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function lf(t,e,n,r){return new cf(t,e,n,r)}function hf(t,e){return Object(Ws.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Ws.d)(this,function(s){switch(s.label){case 0:return n=sa(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new sf(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=xc(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function ff(t,e){var n=sa(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=zl.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);oa(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function df(t){var e=sa(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function pf(t,e){var n=sa(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return oa(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=Ec();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(gf(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(da.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return zl.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function gf(t,e,n,r,i){var o=xc();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Ec();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(da.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):ta("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function mf(t,e){var n=sa(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function yf(t,e){var n=sa(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?zl.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new ih(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function bf(t,e,n){return Object(Ws.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Ws.d)(this,function(a){switch(a.label){case 0:r=sa(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Kl(s=a.sent()))throw s;return ta("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function vf(t,e,n){var r=sa(t),i=da.min(),o=xc();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=sa(t),i=r.kn.get(n);return void 0!==i?zl.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Cu(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:da.min(),n?o:xc())}).next(function(t){return{documents:t,Bn:o}})})}function wf(t,e){var n=sa(t),r=sa(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function _f(t){var e=sa(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=sa(t),i=Ec(),o=uh(n),s=Kh(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:jl.readTimeIndex,range:a},function(t,e){var n=sh(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:ch(o)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function Sf(t){return Object(Ws.b)(this,void 0,void 0,function(){var e;return Object(Ws.d)(this,function(n){return[2,(e=sa(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Kh(t),n=da.min();return e.$t({index:jl.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=ch(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function Ef(t,e,n,r){return Object(Ws.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return Object(Ws.d)(this,function(p){switch(p.label){case 0:for(i=sa(t),o=xc(),s=Ec(),a=Ic(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,yf(i,function(t){return Cu(vu(ba.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return gf(t,f,s,da.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function Of(t,e,n){return void 0===n&&(n=xc()),Object(Ws.b)(this,void 0,void 0,function(){var r,i;return Object(Ws.d)(this,function(o){switch(o.label){case 0:return[4,yf(t,Cu(gh(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=sa(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=$c(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var s=r.withResumeToken(Sa.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var Tf=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return zl.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:$c(n.createTime)}),zl.resolve()},t.prototype.getNamedQuery=function(t,e){return zl.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:gh(t.bundledQuery),readTime:$c(t.readTime)}}(e)),zl.resolve()},t}(),Cf=function(){function t(){this.Wn=new wc(If.Gn),this.zn=new wc(If.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new If(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new If(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new Na(new ba([])),r=new If(n,t),i=new If(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Na(new ba([])),n=new If(e,t),r=new If(e,t+1),i=xc();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new If(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),If=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Na.comparator(t.key,e.key)||ca(t.ns,e.ns)},t.Hn=function(t,e){return ca(t.ns,e.ns)||Na.comparator(t.key,e.key)},t}(),Af=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new wc(If.Gn)}return t.prototype.checkEmpty=function(t){return zl.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new nh(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new If(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return zl.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return zl.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return zl.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return zl.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return zl.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new If(e,0),i=new If(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),zl.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new wc(ca);return e.forEach(function(t){var e=new If(t,0),i=new If(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),zl.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Na.isDocumentKey(i)||(i=i.child(""));var o=new If(new Na(i),0),s=new wc(ca);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),zl.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;oa(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return zl.forEach(e.mutations,function(i){var o=new If(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new If(e,0),r=this.rs.firstAfterOrEqual(n);return zl.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return zl.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),xf=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new yc(Na.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return zl.resolve(n?n.document.clone():Ya.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Ec();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Ya.newInvalidDocument(t))}),zl.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Ec(),i=new Na(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||ju(e,u)&&(r=r.insert(u.key,u.clone()))}return zl.resolve(r)},t.prototype.fs=function(t,e){return zl.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new kf(this)},t.prototype.getSize=function(t){return zl.resolve(this.size)},t}(),kf=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(Ws.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),zl.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Qh),jf=function(){function t(t){this.persistence=t,this.ds=new zh(function(t){return Ja(t)},tu),this.lastRemoteSnapshotVersion=da.min(),this.highestTargetId=0,this.ws=0,this._s=new Cf,this.targetCount=0,this.ys=Dh.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),zl.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return zl.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return zl.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),zl.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),zl.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Dh(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,zl.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),zl.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,zl.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),zl.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return zl.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return zl.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),zl.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),zl.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),zl.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return zl.resolve(n)},t.prototype.containsKey=function(t,e){return zl.resolve(this._s.containsKey(e))},t}(),Df=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Ks(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new jf(this),this.Ut=new vh,this.Ue=function(t,e){return new xf(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new oh(e),this.Qe=new Tf(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Af(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;ta("MemoryPersistence","Starting transaction:",t);var i=new Nf(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return zl.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Nf=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Ws.c)(e,t),e}(Bl),Pf=function(){function t(t){this.persistence=t,this.As=new Cf,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ia()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),zl.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),zl.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),zl.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zl.forEach(this.vs,function(r){var i=Na.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return zl.or([function(){return zl.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Rf=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Mf(t,e){return"firestore_clients_"+t+"_"+e}function Lf(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Vf(t,e){return"firestore_targets_"+t+"_"+e}Rf.UNAUTHENTICATED=new Rf(null),Rf.GOOGLE_CREDENTIALS=new Rf("google-credentials-uid"),Rf.FIRST_PARTY=new Rf("first-party-uid");var Ff=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Zs(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(ea("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Uf=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Zs(i.error.code,i.error.message)),o?new t(e,i.state,r):(ea("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),qf=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=jc(),s=0;i&&s<r.activeTargetIds.length;++s)i=Da(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(ea("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Bf=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(ea("SharedClientState","Failed to parse online state: "+e),null)},t}(),Hf=function(){function t(){this.activeTargetIds=jc()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),zf=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new yc(ca),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Mf(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Hf),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Ws.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(Ws.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Mf(this.persistenceKey,r)))&&(o=qf.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Vf(this.persistenceKey,t));if(n){var r=Uf.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Vf(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return ta("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){ta("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){ta("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(ta("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void ea("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(Ws.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(Ws.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Ks.o;if(null!=t)try{var n=JSON.parse(t);oa("number"==typeof n),e=n}catch(t){ea("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ks.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Ff(this.currentUser,t,e,n),i=Lf(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Lf(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Vf(this.persistenceKey,t),i=new Uf(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return qf.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Ff.Vs(new Rf(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Uf.Vs(r,e)},t.prototype.js=function(t){return Bf.Vs(t)},t.prototype.ii=function(t){return Object(Ws.b)(this,void 0,void 0,function(){return Object(Ws.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(ta("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=jc();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Qf=function(){function t(){this.li=new Hf,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Hf,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Gf=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),$f=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){ta("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){ta("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Wf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Kf=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Yf=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(Ws.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var s=new $s;s.listenOnce(Hs.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Bs.NO_ERROR:var e=s.getResponseJson();ta("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Bs.TIMEOUT:ta("Connection",'RPC "'+t+'" timed out'),o(new Zs(Ys.DEADLINE_EXCEEDED,"Request time out"));break;case Bs.HTTP_ERROR:var n=s.getStatus();if(ta("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Ys).indexOf(e)>=0?e:Ys.UNKNOWN}(r.status);o(new Zs(a,r.message))}else o(new Zs(Ys.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Zs(Ys.UNAVAILABLE,"Connection failed."));break;default:ia()}}finally{ta("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new js,i=Ni(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Qs({})),this.Fi(o.initMessageHeaders,e),Object(Ln.n)()||Object(Ln.p)()||Object(Ln.l)()||Object(Ln.m)()||Object(Ln.q)()||Object(Ln.k)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");ta("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Kf({Ei:function(t){c?ta("Connection","Not sending because WebChannel is closed:",t):(u||(ta("Connection","Opening WebChannel transport."),a.open(),u=!0),ta("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Gs.EventType.OPEN,function(){c||ta("Connection","WebChannel transport opened.")}),h(a,Gs.EventType.CLOSE,function(){c||(c=!0,ta("Connection","WebChannel transport closed"),l.Vi())}),h(a,Gs.EventType.ERROR,function(t){c||(c=!0,na("Connection","WebChannel transport errored:",t),l.Vi(new Zs(Ys.UNAVAILABLE,"The operation could not be completed")))}),h(a,Gs.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];oa(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){ta("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=lc[t];if(void 0!==e)return mc(e)}(i),s=r.message;void 0===o&&(o=Ys.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Zs(o,s)),a.close()}else ta("Connection","WebChannel received:",n),l.Si(n)}}),h(i,zs.STAT_EVENT,function(t){10===t.stat?ta("Connection","Detected buffering proxy"):11===t.stat&&ta("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);ta("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return ta("RestConnection","Received: ",t),t},function(e){throw na("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.6.5",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Wf[t]},t}());function Zf(){return"undefined"!=typeof window?window:null}function Xf(){return"undefined"!=typeof document?document:null}function Jf(t){return new Hc(t,!0)}var td=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&ta("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),ed=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new td(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(Ws.b)(this,void 0,void 0,function(){return Object(Ws.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(Ws.b)(this,void 0,void 0,function(){return Object(Ws.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(Ws.b)(this,void 0,void 0,function(){return Object(Ws.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Ys.RESOURCE_EXHAUSTED?(ea(e.toString()),ea("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Ys.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Zs(Ys.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(Ws.b)(t,void 0,void 0,function(){return Object(Ws.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return ta("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(ta("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),nd=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Object(Ws.c)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:ia()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(oa(void 0===e||"string"==typeof e),Sa.fromBase64String(e||"")):(oa(void 0===e||e instanceof Uint8Array),Sa.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Ys.UNKNOWN:mc(t.code);return new Zs(e,t.message||"")}(a);n=new Mc(r,i,o,s||null)}else if("documentChange"in e){i=Zc(t,(r=e.documentChange).document.name),o=$c(r.document.updateTime);var a=new Wa({mapValue:{fields:r.document.fields}}),u=(s=Ya.newFoundDocument(i,o,a),r.targetIds||[]);n=new Pc(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Zc(t,(r=e.documentDelete).document),o=r.readTime?$c(r.readTime):da.min(),a=Ya.newNoDocument(i,o),n=new Pc([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Zc(t,(r=e.documentRemove).document),n=new Pc([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return ia();var c=e.filter;i=new pc(r=c.count||0),n=new Rc(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return da.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?da.min():e.readTime?$c(e.readTime):da.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=tl(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=eu(r)?{documents:sl(t,r)}:{query:al(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Qc(t,e.resumeToken):e.snapshotVersion.compareTo(da.min())>0&&(n.readTime=zc(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ia()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=tl(this.R),e.removeTarget=t,this.cr(e)},e}(ed),rd=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Object(Ws.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(oa(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(oa(void 0!==e),t.map(function(t){return function(t,e){var n=$c(t.updateTime?t.updateTime:e);return n.isEqual(da.min())&&(n=$c(e)),new Yu(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=$c(t.commitTime);return this.listener.Tr(n,e)}return oa(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=tl(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return il(e.R,t)})};this.cr(n)},e}(ed),id=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(Ws.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new Zs(Ys.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Ys.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Zs(Ys.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Ys.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Zs(Ys.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),od=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(ea(e),this.Vr=!1):ta("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),sd=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(Ws.b)(o,void 0,void 0,function(){return Object(Ws.d)(this,function(t){switch(t.label){case 0:return gd(this)?(ta("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Ws.b)(this,void 0,void 0,function(){var e;return Object(Ws.d)(this,function(n){switch(n.label){case 0:return(e=sa(t)).Or.add(4),[4,ud(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,ad(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new od(n,r)};function ad(t){return Object(Ws.b)(this,void 0,void 0,function(){var e,n;return Object(Ws.d)(this,function(r){switch(r.label){case 0:if(!gd(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function ud(t){return Object(Ws.b)(this,void 0,void 0,function(){var e,n;return Object(Ws.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function cd(t,e){var n=sa(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),pd(n)?dd(n):kd(n).er()&&hd(n,e))}function ld(t,e){var n=sa(t),r=kd(n);n.$r.delete(e),r.er()&&fd(n,e),0===n.$r.size&&(r.er()?r.ir():gd(n)&&n.Br.set("Unknown"))}function hd(t,e){t.qr.U(e.targetId),kd(t).mr(e)}function fd(t,e){t.qr.U(e),kd(t).yr(e)}function dd(t){t.qr=new Vc({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),kd(t).start(),t.Br.Sr()}function pd(t){return gd(t)&&!kd(t).tr()&&t.$r.size>0}function gd(t){return 0===sa(t).Or.size}function md(t){t.qr=void 0}function yd(t){return Object(Ws.b)(this,void 0,void 0,function(){return Object(Ws.d)(this,function(e){return t.$r.forEach(function(e,n){hd(t,e)}),[2]})})}function bd(t,e){return Object(Ws.b)(this,void 0,void 0,function(){return Object(Ws.d)(this,function(n){return md(t),pd(t)?(t.Br.Nr(e),dd(t)):t.Br.set("Unknown"),[2]})})}function vd(t,e,n){return Object(Ws.b)(this,void 0,void 0,function(){var r,i,o;return Object(Ws.d)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof Mc&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Ws.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Ws.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),ta("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,wd(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Pc?t.qr.X(e):e instanceof Rc?t.qr.rt(e):t.qr.et(e),n.isEqual(da.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,df(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(Sa.EMPTY_BYTE_STRING,n.snapshotVersion)),fd(t,e);var r=new ih(n.target,e,1,n.sequenceNumber);hd(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return ta("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,wd(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function wd(t,e,n){return Object(Ws.b)(this,void 0,void 0,function(){var r=this;return Object(Ws.d)(this,function(i){switch(i.label){case 0:if(!Kl(e))throw e;return t.Or.add(1),[4,ud(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return df(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(Ws.b)(r,void 0,void 0,function(){return Object(Ws.d)(this,function(e){switch(e.label){case 0:return ta("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,ad(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function _d(t,e){return e().catch(function(n){return wd(t,n,e)})}function Sd(t){return Object(Ws.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(Ws.d)(this,function(s){switch(s.label){case 0:e=sa(t),n=jd(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return gd(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,mf(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=jd(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,wd(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Ed(e)&&Od(e),[2]}})})}function Ed(t){return gd(t)&&!jd(t).tr()&&t.kr.length>0}function Od(t){jd(t).start()}function Td(t){return Object(Ws.b)(this,void 0,void 0,function(){return Object(Ws.d)(this,function(e){return jd(t).Ar(),[2]})})}function Cd(t){return Object(Ws.b)(this,void 0,void 0,function(){var e,n,r;return Object(Ws.d)(this,function(i){for(e=jd(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function Id(t,e,n){return Object(Ws.b)(this,void 0,void 0,function(){var r,i;return Object(Ws.d)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=rh.from(r,e,n),[4,_d(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Sd(t)];case 2:return o.sent(),[2]}})})}function Ad(t,e){return Object(Ws.b)(this,void 0,void 0,function(){return Object(Ws.d)(this,function(n){switch(n.label){case 0:return e&&jd(t).pr?[4,function(t,e){return Object(Ws.b)(this,void 0,void 0,function(){var n,r;return Object(Ws.d)(this,function(i){switch(i.label){case 0:return gc(r=e.code)&&r!==Ys.ABORTED?(n=t.kr.shift(),jd(t).sr(),[4,_d(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Sd(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Ed(t)&&Od(t),[2]}})})}function xd(t,e){return Object(Ws.b)(this,void 0,void 0,function(){var n;return Object(Ws.d)(this,function(r){switch(r.label){case 0:return n=sa(t),e?(n.Or.delete(2),[4,ad(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,ud(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function kd(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=sa(t);return r.br(),new nd(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:yd.bind(null,t),Ri:bd.bind(null,t),_r:vd.bind(null,t)}),t.Mr.push(function(n){return Object(Ws.b)(e,void 0,void 0,function(){return Object(Ws.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),pd(t)?dd(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),md(t),e.label=3;case 3:return[2]}})})})),t.Ur}function jd(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=sa(t);return r.br(),new rd(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Td.bind(null,t),Ri:Ad.bind(null,t),Ir:Cd.bind(null,t),Tr:Id.bind(null,t)}),t.Mr.push(function(n){return Object(Ws.b)(e,void 0,void 0,function(){return Object(Ws.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,Sd(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(ta("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var Dd=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Hl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Zs(Ys.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Nd(t,e){if(ea("AsyncQueue",e+": "+t),Kl(t))return new Zs(Ys.UNAVAILABLE,e+": "+t);throw t}var Pd=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Na.comparator(e.key,n.key)}:function(t,e){return Na.comparator(t.key,e.key)},this.keyedMap=Tc(),this.sortedSet=new yc(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Rd=function(){function t(){this.Kr=new yc(Na.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):ia():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Md=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Pd.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Au(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Ld=function(){this.Wr=void 0,this.listeners=[]},Vd=function(){this.queries=new zh(function(t){return xu(t)},Au),this.onlineState="Unknown",this.Gr=new Set};function Fd(t,e){return Object(Ws.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(Ws.d)(this,function(c){switch(c.label){case 0:if(n=sa(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Ld),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=Nd(a,"Initialization of query '"+ku(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Hd(n),[2]}})})}function Ud(t,e){return Object(Ws.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Ws.d)(this,function(a){return n=sa(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function qd(t,e){for(var n=sa(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&Hd(n)}function Bd(t,e,n){var r=sa(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Hd(t){t.Gr.forEach(function(t){t.next()})}var zd=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Md(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Md.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Qd=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Gd=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Zc(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?rl(this.R,t.document,!1):Ya.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return $c(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Gd(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||xc()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Ws.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Ws.d)(this,function(o){switch(o.label){case 0:return[4,Ef(this.localStore,new Gd(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Of(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new of(Object.assign({},this.progress),t))]}})})}}();var $d=function(t){this.key=t},Wd=function(t){this.key=t},Kd=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=xc(),this.mutatedKeys=xc(),this.lo=Du(t),this.fo=new Pd(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Rd,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=wu(this.query)&&i.size===this.query.limit?i.last():null,c=_u(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=ju(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),wu(this.query)||_u(this.query))for(;s.size>this.query.limit;){var l=wu(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ia()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new Md(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Rd,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=xc(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new Wd(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new $d(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=xc();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Md.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Yd=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Zd=function(t){this.key=t,this.bo=!1},Xd=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new zh(function(t){return xu(t)},Au),this.Vo=new Map,this.So=new Set,this.Do=new yc(Na.comparator),this.Co=new Map,this.No=new Cf,this.xo={},this.Fo=new Map,this.ko=Dh.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Jd(t,e){return Object(Ws.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Ws.d)(this,function(a){switch(a.label){case 0:return n=Ap(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,yf(n.localStore,Cu(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,tp(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&cd(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function tp(t,e,n,r){return Object(Ws.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(Ws.d)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return Object(Ws.b)(this,void 0,void 0,function(){var i,o,s;return Object(Ws.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,vf(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(dp(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,vf(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Kd(e,i.Bn),s=o._o(i.documents),a=Nc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),dp(t,n,u.To),c=new Yd(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function ep(t,e){return Object(Ws.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ws.d)(this,function(o){switch(o.label){case 0:return n=sa(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Au(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,bf(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),ld(n.remoteStore,r.targetId),hp(n,r.targetId)}).catch(Lh)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return hp(n,r.targetId),[4,bf(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function np(t,e,n){return Object(Ws.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Ws.d)(this,function(a){switch(a.label){case 0:r=xp(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=sa(t),i=fa.now(),o=e.reduce(function(t,e){return t.add(e.key)},xc());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=nc(c,n.get(c.key));null!=l&&s.push(new sc(c.key,l,Ka(l.value.mapValue),Zu.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new yc(ca)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,mp(r,i.changes)];case 3:return a.sent(),[4,Sd(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Nd(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function rp(t,e){return Object(Ws.b)(this,void 0,void 0,function(){var n,r;return Object(Ws.d)(this,function(i){switch(i.label){case 0:n=sa(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,pf(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(oa(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?oa(r.bo):t.removedDocuments.size>0&&(oa(r.bo),r.bo=!1))}),[4,mp(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Lh(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function ip(t,e,n){var r=sa(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=sa(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&Hd(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function op(t,e,n){return Object(Ws.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(Ws.d)(this,function(c){switch(c.label){case 0:return(r=sa(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new yc(Na.comparator)).insert(o,Ya.newNoDocument(o,da.min())),a=xc().add(o),u=new Dc(da.min(),new Map,new wc(ca),s,a),[4,rp(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),gp(r),[3,4];case 2:return[4,bf(r.localStore,e,!1).then(function(){return hp(r,e,n)}).catch(Lh)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function sp(t,e){return Object(Ws.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ws.d)(this,function(o){switch(o.label){case 0:n=sa(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,ff(n.localStore,e)];case 2:return i=o.sent(),lp(n,r,null),cp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,mp(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Lh(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function ap(t,e,n){return Object(Ws.b)(this,void 0,void 0,function(){var r,i;return Object(Ws.d)(this,function(o){switch(o.label){case 0:r=sa(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=sa(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return oa(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),lp(r,e,n),cp(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,mp(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Lh(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function up(t,e){return Object(Ws.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Ws.d)(this,function(a){switch(a.label){case 0:gd((n=sa(t)).remoteStore)||ta("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=sa(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=Nd(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function cp(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function lp(t,e,n){var r=sa(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function hp(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||fp(t,e)})}function fp(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(ld(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),gp(t))}function dp(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof $d?(t.No.addReference(o.key,e),pp(t,o)):o instanceof Wd?(ta("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||fp(t,o.key)):ia()}}function pp(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(ta("SyncEngine","New document in limbo: "+n),t.So.add(r),gp(t))}function gp(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Na(ba.fromString(e)),r=t.ko.next();t.Co.set(r,new Zd(n)),t.Do=t.Do.insert(n,r),cd(t.remoteStore,new ih(Cu(vu(n.path)),r,2,Ks.o))}}function mp(t,e,n){return Object(Ws.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Ws.d)(this,function(a){switch(a.label){case 0:return r=sa(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=af.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(Ws.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(Ws.d)(this,function(l){switch(l.label){case 0:n=sa(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return zl.forEach(e,function(e){return zl.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return zl.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Kl(r=l.sent()))throw r;return ta("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function yp(t,e){return Object(Ws.b)(this,void 0,void 0,function(){var n,r;return Object(Ws.d)(this,function(i){switch(i.label){case 0:return(n=sa(t)).currentUser.isEqual(e)?[3,3]:(ta("SyncEngine","User change. New user:",e.toKey()),[4,hf(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new Zs(Ys.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,mp(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function bp(t,e){var n=sa(t),r=n.Co.get(e);if(r&&r.bo)return xc().add(r.key);var i=xc(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function vp(t,e){return Object(Ws.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ws.d)(this,function(o){switch(o.label){case 0:return[4,vf((n=sa(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&dp(n,e.targetId,i.To),i)]}})})}function wp(t){return Object(Ws.b)(this,void 0,void 0,function(){var e;return Object(Ws.d)(this,function(n){return[2,_f((e=sa(t)).localStore).then(function(t){return mp(e,t)})]})})}function _p(t,e,n,r){return Object(Ws.b)(this,void 0,void 0,function(){var i,o;return Object(Ws.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=sa(t),r=sa(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):zl.resolve(null)})})}((i=sa(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Sd(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(lp(i,e,r||null),cp(i,e),function(t,e){sa(sa(t)._n).Gt(e)}(i.localStore,e)):ia(),s.label=4;case 4:return[4,mp(i,o)];case 5:return s.sent(),[3,7];case 6:ta("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function Sp(t,e){return Object(Ws.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(Ws.d)(this,function(c){switch(c.label){case 0:return Ap(n=sa(t)),xp(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Ep(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,xd(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)cd(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return hp(n,e),bf(n.localStore,e,!0)}),ld(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,Ep(n,a)];case 5:return c.sent(),function(t){var e=sa(t);e.Co.forEach(function(t,n){ld(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new yc(Na.comparator)}(n),n.$o=!1,[4,xd(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Ep(t,e,n){return Object(Ws.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(Ws.d)(this,function(g){switch(g.label){case 0:n=sa(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,yf(n.localStore,Cu(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,vp(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,wf(n.localStore,a)];case 8:return p=g.sent(),[4,yf(n.localStore,p)];case 9:return u=g.sent(),[4,tp(n,Op(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function Op(t){return bu(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Tp(t){var e=sa(t);return sa(sa(e.localStore).persistence).fn()}function Cp(t,e,n,r){return Object(Ws.b)(this,void 0,void 0,function(){var i,o,s;return Object(Ws.d)(this,function(a){switch(a.label){case 0:return(i=sa(t)).$o?(ta("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,_f(i.localStore)];case 3:return o=a.sent(),s=Dc.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,mp(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,bf(i.localStore,e,!0)];case 6:return a.sent(),hp(i,e,r),[3,8];case 7:ia(),a.label=8;case 8:return[2]}})})}function Ip(t,e,n){return Object(Ws.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(Ws.d)(this,function(f){switch(f.label){case 0:if(!(r=Ap(t)).$o)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(ta("SyncEngine","Adding an already active target "+s),[3,5]):[4,wf(r.localStore,s)]:[3,6];case 2:return a=f.sent(),[4,yf(r.localStore,a)];case 3:return u=f.sent(),[4,tp(r,Op(a),u.targetId,!1)];case 4:f.sent(),cd(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Ws.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,bf(r.localStore,t,!1).then(function(){ld(r.remoteStore,t),hp(r,t)}).catch(Lh)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Ap(t){var e=sa(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bp.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=op.bind(null,e),e.vo._r=qd.bind(null,e.eventManager),e.vo.Mo=Bd.bind(null,e.eventManager),e}function xp(t){var e=sa(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ap.bind(null,e),e}var kp=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Ws.b)(this,void 0,void 0,function(){return Object(Ws.d)(this,function(e){switch(e.label){case 0:return this.R=Jf(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return lf(this.persistence,new uf,t.initialUser,this.R)},t.prototype.qo=function(t){return new Df(Pf.bs,this.R)},t.prototype.Bo=function(t){return new Qf},t.prototype.terminate=function(){return Object(Ws.b)(this,void 0,void 0,function(){return Object(Ws.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),jp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Ws.c)(e,t),e.prototype.initialize=function(e){return Object(Ws.b)(this,void 0,void 0,function(){return Object(Ws.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Sf(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,xp(this.Ko.syncEngine)];case 4:return n.sent(),[4,Sd(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return lf(this.persistence,new uf,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Uh(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=rf(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Oh.withCacheSize(this.cacheSizeBytes):Oh.DEFAULT;return new tf(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Zf(),Xf(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Qf},e}(kp),Dp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Ws.c)(e,t),e.prototype.initialize=function(e){return Object(Ws.b)(this,void 0,void 0,function(){var n,r=this;return Object(Ws.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof zf?(this.sharedClientState.syncEngine={ui:_p.bind(null,n),ai:Cp.bind(null,n),hi:Ip.bind(null,n),fn:Tp.bind(null,n),ci:wp.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(Ws.b)(r,void 0,void 0,function(){return Object(Ws.d)(this,function(e){switch(e.label){case 0:return[4,Sp(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Zf();if(!zf.yt(e))throw new Zs(Ys.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=rf(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new zf(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(jp),Np=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Ws.b)(this,void 0,void 0,function(){var n=this;return Object(Ws.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return ip(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=yp.bind(null,this.syncEngine),[4,xd(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Vd},t.prototype.createDatastore=function(t){var e=Jf(t.databaseInfo.databaseId),n=new Yf(t.databaseInfo);return function(t,e,n){return new id(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return ip(s.syncEngine,t,0)},o=$f.yt()?new $f:new Gf,new sd(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new Xd(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Ws.b)(this,void 0,void 0,function(){var e;return Object(Ws.d)(this,function(n){switch(n.label){case 0:return e=sa(t),ta("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,ud(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),Pp=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Rp=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Hl,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(Ws.b)(this,void 0,void 0,function(){return Object(Ws.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(Ws.b)(this,void 0,void 0,function(){return Object(Ws.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(Ws.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Ws.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Qd(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(Ws.b)(this,void 0,void 0,function(){var t,e;return Object(Ws.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(Ws.b)(this,void 0,void 0,function(){var e;return Object(Ws.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(Ws.b)(this,void 0,void 0,function(){var t,e;return Object(Ws.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Ws.b)(this,void 0,void 0,function(){var e,n=this;return Object(Ws.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Zs(Ys.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Ws.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(Ws.d)(this,function(u){switch(u.label){case 0:return n=sa(t),r=tl(n.R)+"/documents",i={documents:e.map(function(t){return Yc(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){oa(!!e.found);var n=Zc(t,e.found.name),r=$c(e.found.updateTime),i=new Wa({mapValue:{fields:e.found.fields}});return Ya.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){oa(!!e.missing),oa(!!e.readTime);var n=Zc(t,e.missing),r=$c(e.readTime);return Ya.newNoDocument(n,r)}(t,e):ia()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());oa(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new fc(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Ws.b)(this,void 0,void 0,function(){var t,e=this;return Object(Ws.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Na.fromPath(n);e.mutations.push(new dc(r,e.precondition(r)))}),[4,function(t,e){return Object(Ws.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ws.d)(this,function(o){switch(o.label){case 0:return n=sa(t),r=tl(n.R)+"/documents",i={writes:e.map(function(t){return il(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ia();e=da.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Zs(Ys.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Zu.updateTime(e):Zu.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(da.min()))throw new Zs(Ys.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zu.updateTime(e)}return Zu.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Mp=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new td(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(Ws.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Ws.d)(this,function(r){return t=new Rp(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!ka(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!gc(e)}return!1},t}(),Lp=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Rf.UNAUTHENTICATED,this.clientId=ua.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return Object(Ws.b)(r,void 0,void 0,function(){return Object(Ws.d)(this,function(e){switch(e.label){case 0:return ta("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return Object(Ws.b)(this,void 0,void 0,function(){return Object(Ws.d)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Zs(Ys.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Hl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Ws.b)(t,void 0,void 0,function(){var t,n;return Object(Ws.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Nd(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Vp(t,e){return Object(Ws.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Ws.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),ta("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return Object(Ws.b)(i,void 0,void 0,function(){return Object(Ws.d)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,hf(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Fp(t,e){return Object(Ws.b)(this,void 0,void 0,function(){var n,r;return Object(Ws.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Up(t)];case 1:return n=i.sent(),ta("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return Object(Ws.b)(this,void 0,void 0,function(){var n,r;return Object(Ws.d)(this,function(i){switch(i.label){case 0:return(n=sa(t)).asyncQueue.verifyOperationInProgress(),ta("RemoteStore","RemoteStore received new credentials"),r=gd(n),n.Or.add(3),[4,ud(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,ad(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function Up(t){return Object(Ws.b)(this,void 0,void 0,function(){return Object(Ws.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(ta("FirestoreClient","Using default OfflineComponentProvider"),[4,Vp(t,new kp)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function qp(t){return Object(Ws.b)(this,void 0,void 0,function(){return Object(Ws.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(ta("FirestoreClient","Using default OnlineComponentProvider"),[4,Fp(t,new Np)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Bp(t){return Up(t).then(function(t){return t.persistence})}function Hp(t){return Up(t).then(function(t){return t.localStore})}function zp(t){return qp(t).then(function(t){return t.remoteStore})}function Qp(t){return qp(t).then(function(t){return t.syncEngine})}function Gp(t){return Object(Ws.b)(this,void 0,void 0,function(){var e,n;return Object(Ws.d)(this,function(r){switch(r.label){case 0:return[4,qp(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Jd.bind(null,e.syncEngine),n.onUnlisten=ep.bind(null,e.syncEngine),n)]}})})}function $p(t,e,n){var r=this;void 0===n&&(n={});var i=new Hl;return t.asyncQueue.enqueueAndForget(function(){return Object(Ws.b)(r,void 0,void 0,function(){var r;return Object(Ws.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Pp({next:function(o){e.enqueueAndForget(function(){return Ud(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Zs(Ys.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Zs(Ys.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new zd(vu(n.path),o,{includeMetadataChanges:!0,so:!0});return Fd(t,s)},[4,Gp(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Wp(t,e,n){var r=this;void 0===n&&(n={});var i=new Hl;return t.asyncQueue.enqueueAndForget(function(){return Object(Ws.b)(r,void 0,void 0,function(){var r;return Object(Ws.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Pp({next:function(n){e.enqueueAndForget(function(){return Ud(t,s)}),n.fromCache&&"server"===r.source?i.reject(new Zs(Ys.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new zd(n,o,{includeMetadataChanges:!0,so:!0});return Fd(t,s)},[4,Gp(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Kp=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},Yp=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Zp=new Map,Xp=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Jp=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(Rf.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),tg=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),eg=function(){function t(t){var e=this;this.currentUser=Rf.UNAUTHENTICATED,this.oc=new Hl,this.cc=0,this.changeListener=function(){return Promise.resolve()},this.uc=!1,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.ac=function(){e.cc++,e.currentUser=e.hc(),e.oc.resolve(),e.uc&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){ta("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.lc(),e.auth.addAuthTokenListener(e.ac)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):e.uc&&(ta("FirebaseCredentialsProvider","Auth not yet detected"),e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)}))}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(ta("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(oa("string"==typeof n.accessToken),new Xp(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){this.uc=!0,this.asyncQueue=t,this.changeListener=e},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.ac),this.changeListener=function(){return Promise.resolve()}},t.prototype.hc=function(){var t=this.auth&&this.auth.getUid();return oa(null===t||"string"==typeof t),new Rf(t)},t.prototype.lc=function(){var t=this;this.uc&&(this.uc=!1,this.asyncQueue.enqueueRetryable(function(){return Object(Ws.b)(t,void 0,void 0,function(){return Object(Ws.d)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,this.changeListener(this.currentUser)];case 2:return t.sent(),this.uc=!0,[2]}})})}))},t}(),ng=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n,this.type="FirstParty",this.user=Rf.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.dc},e=this.fc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.wc&&(t["X-Goog-Iam-Authorization-Token"]=this.wc),t},enumerable:!1,configurable:!0}),t}(),rg=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n}return t.prototype.getToken=function(){return Promise.resolve(new ng(this.fc,this.dc,this.wc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(Rf.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function ig(t,e,n){if(!n)throw new Zs(Ys.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function og(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Zs(Ys.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function sg(t,e,n,r){if(!0===e&&!0===r)throw new Zs(Ys.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function ag(t){if(!Na.isDocumentKey(t))throw new Zs(Ys.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function ug(t){if(Na.isDocumentKey(t))throw new Zs(Ys.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function cg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":ia()}function lg(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Zs(Ys.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=cg(t);throw new Zs(Ys.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function hg(t,e){if(e<=0)throw new Zs(Ys.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var fg=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Zs(Ys.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Zs(Ys.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,sg("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),dg=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fg({}),this._settingsFrozen=!1,t instanceof Yp?(this._databaseId=t,this._credentials=new Jp):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Zs(Ys.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yp(t.options.projectId)}(t),this._credentials=new eg(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Zs(Ys.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Zs(Ys.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fg(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Jp;switch(t.type){case"gapi":var e=t.client;return oa(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new rg(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Zs(Ys.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Zp.get(this))&&(ta("ComponentProvider","Removing Datastore"),Zp.delete(this),t.terminate()),Promise.resolve();var t},t}(),pg=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new mg(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),gg=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),mg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,vu(r))||this)._path=r,i.type="collection",i}return Object(Ws.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new pg(this.firestore,null,new Na(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(gg);function yg(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(Ln.h)(t),ig("collection","path",e),t instanceof dg)return ug(n=ba.fromString.apply(ba,Object(Ws.f)([e],r))),new mg(t,null,n);if(!(t instanceof pg||t instanceof mg))throw new Zs(Ys.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ug(n=ba.fromString.apply(ba,Object(Ws.f)([t.path],r)).child(ba.fromString(e))),new mg(t.firestore,null,n)}function bg(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(Ln.h)(t),1===arguments.length&&(e=ua.u()),ig("doc","path",e),t instanceof dg)return ag(n=ba.fromString.apply(ba,Object(Ws.f)([e],r))),new pg(t,null,new Na(n));if(!(t instanceof pg||t instanceof mg))throw new Zs(Ys.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ag(n=t._path.child(ba.fromString.apply(ba,Object(Ws.f)([e],r)))),new pg(t.firestore,t instanceof mg?t.converter:null,new Na(n))}function vg(t,e){return t=Object(Ln.h)(t),e=Object(Ln.h)(e),(t instanceof pg||t instanceof mg)&&(e instanceof pg||e instanceof mg)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function wg(t,e){return t=Object(Ln.h)(t),e=Object(Ln.h)(e),t instanceof gg&&e instanceof gg&&t.firestore===e.firestore&&Au(t._query,e._query)&&t.converter===e.converter}var _g=function(){function t(){var t=this;this._c=Promise.resolve(),this.mc=[],this.yc=!1,this.gc=[],this.Ec=null,this.Tc=!1,this.Ic=[],this.Zi=new td(this,"async_queue_retry"),this.Ac=function(){var e=Xf();e&&ta("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Xf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ac)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.yc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Rc(),this.bc(t)},t.prototype.enterRestrictedMode=function(){if(!this.yc){this.yc=!0;var t=Xf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ac)}},t.prototype.enqueue=function(t){return this.Rc(),this.yc?new Promise(function(t){}):this.bc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.mc.push(t),e.vc()})},t.prototype.vc=function(){return Object(Ws.b)(this,void 0,void 0,function(){var t,e=this;return Object(Ws.d)(this,function(n){switch(n.label){case 0:if(0===this.mc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.mc[0]()];case 2:return n.sent(),this.mc.shift(),this.Zi.reset(),[3,4];case 3:if(!Kl(t=n.sent()))throw t;return ta("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.mc.length>0&&this.Zi.ji(function(){return e.vc()}),n.label=5;case 5:return[2]}})})},t.prototype.bc=function(t){var e=this,n=this._c.then(function(){return e.Tc=!0,t().catch(function(t){throw e.Ec=t,e.Tc=!1,ea("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.Tc=!1,t})});return this._c=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Rc(),this.Ic.indexOf(t)>-1&&(e=0);var i=Dd.createAndSchedule(this,t,e,n,function(t){return r.Pc(t)});return this.gc.push(i),i},t.prototype.Rc=function(){this.Ec&&ia()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Vc=function(){return Object(Ws.b)(this,void 0,void 0,function(){var t;return Object(Ws.d)(this,function(e){switch(e.label){case 0:return[4,t=this._c];case 1:e.sent(),e.label=2;case 2:if(t!==this._c)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Sc=function(t){for(var e=0,n=this.gc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Dc=function(t){var e=this;return this.Vc().then(function(){e.gc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.gc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Vc()})},t.prototype.Cc=function(t){this.Ic.push(t)},t.prototype.Pc=function(t){var e=this.gc.indexOf(t);this.gc.splice(e,1)},t}();function Sg(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Hl,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Eg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new _g,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(Ws.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Tg(this),this._firestoreClient.terminate()},e}(dg);function Og(t){return t._firestoreClient||Tg(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Tg(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Kp(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Lp(t._credentials,t._queue,r)}function Cg(t,e,n){var r=this,i=new Hl;return t.asyncQueue.enqueue(function(){return Object(Ws.b)(r,void 0,void 0,function(){var r;return Object(Ws.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Vp(t,n)];case 1:return o.sent(),[4,Fp(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Ys.FAILED_PRECONDITION||t.code===Ys.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Ig(t){if(t._initialized||t._terminated)throw new Zs(Ys.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ag=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Zs(Ys.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wa(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),xg=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Sa.fromBase64String(e))}catch(e){throw new Zs(Ys.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Sa.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),kg=function(t){this._methodName=t},jg=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Zs(Ys.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Zs(Ys.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return ca(this._lat,t._lat)||ca(this._long,t._long)},t}(),Dg=/^__.*__$/,Ng=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new sc(t,this.data,this.fieldMask,e,this.fieldTransforms):new oc(t,this.data,e,this.fieldTransforms)},t}(),Pg=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new sc(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Rg(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ia()}}var Mg=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Nc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xc",{get:function(){return this.settings.xc},enumerable:!1,configurable:!0}),t.prototype.Fc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,$c:!1});return r.Oc(t),r},t.prototype.Mc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,$c:!1});return r.Nc(),r},t.prototype.Lc=function(t){return this.Fc({path:void 0,$c:!0})},t.prototype.Bc=function(t){return nm(t,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Uc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Nc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Oc(this.path.get(t))},t.prototype.Oc=function(t){if(0===t.length)throw this.Bc("Document fields must not be empty");if(Rg(this.xc)&&Dg.test(t))throw this.Bc('Document fields cannot begin and end with "__"')},t}(),Lg=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Jf(t)}return t.prototype.Qc=function(t,e,n,r){return void 0===r&&(r=!1),new Mg({xc:t,methodName:e,Uc:n,path:wa.emptyPath(),$c:!1,qc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Vg(t){var e=t._freezeSettings(),n=Jf(t._databaseId);return new Lg(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Fg(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Qc(o.merge||o.mergeFields?2:0,e,n,i);Xg("Data must be an object, but it was:",s,r);var a,u,c=Yg(r,s);if(o.merge)a=new _a(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Jg(e,f[h],n);if(!s.contains(d))throw new Zs(Ys.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");rm(l,d)||l.push(d)}a=new _a(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new Ng(new Wa(c),a,u)}var Ug=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ws.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.xc)throw t.Bc(1===t.xc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(kg);function qg(t,e,n){return new Mg({xc:3,Uc:e.settings.Uc,methodName:t._methodName,$c:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Bg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ws.c)(e,t),e.prototype._toFieldTransform=function(t){return new Ku(t.path,new qu)},e.prototype.isEqual=function(t){return t instanceof e},e}(kg),Hg=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(Ws.c)(e,t),e.prototype._toFieldTransform=function(t){var e=qg(this,t,!0),n=this.Kc.map(function(t){return Kg(t,e)}),r=new Bu(n);return new Ku(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(kg),zg=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(Ws.c)(e,t),e.prototype._toFieldTransform=function(t){var e=qg(this,t,!0),n=this.Kc.map(function(t){return Kg(t,e)}),r=new zu(n);return new Ku(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(kg),Qg=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(Ws.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new Gu(t.R,Mu(t.R,this.jc));return new Ku(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(kg);function Gg(t,e,n,r){var i=t.Qc(1,e,n);Xg("Data must be an object, but it was:",i,r);var o=[],s=Wa.empty();ga(r,function(t,r){var a=em(e,t,n);r=Object(Ln.h)(r);var u=i.Mc(a);if(r instanceof Ug)o.push(a);else{var c=Kg(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new _a(o);return new Pg(s,a,i.fieldTransforms)}function $g(t,e,n,r,i,o){var s=t.Qc(1,e,n),a=[Jg(e,r,n)],u=[i];if(o.length%2!=0)throw new Zs(Ys.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Jg(e,o[c])),u.push(o[c+1]);for(var l=[],h=Wa.empty(),f=a.length-1;f>=0;--f)if(!rm(l,a[f])){var d=a[f],p=u[f];p=Object(Ln.h)(p);var g=s.Mc(d);if(p instanceof Ug)l.push(d);else{var m=Kg(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new _a(l);return new Pg(h,y,s.fieldTransforms)}function Wg(t,e,n,r){return void 0===r&&(r=!1),Kg(n,t.Qc(r?4:3,e))}function Kg(t,e){if(Zg(t=Object(Ln.h)(t)))return Xg("Unsupported field value:",e,t),Yg(t,e);if(t instanceof kg)return function(t,e){if(!Rg(e.xc))throw e.Bc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Bc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.$c&&4!==e.xc)throw e.Bc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Kg(o[i],e.Lc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(Ln.h)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Mu(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=fa.fromDate(t);return{timestampValue:zc(e.R,n)}}if(t instanceof fa)return n=new fa(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:zc(e.R,n)};if(t instanceof jg)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof xg)return{bytesValue:Qc(e.R,t._byteString)};if(t instanceof pg){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Bc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Wc(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Bc("Unsupported field value: "+cg(t))}(t,e)}function Yg(t,e){var n={};return ma(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ga(t,function(t,r){var i=Kg(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Zg(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof fa||t instanceof jg||t instanceof xg||t instanceof pg||t instanceof kg)}function Xg(t,e,n){if(!Zg(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=cg(n);throw e.Bc("an object"===r?t+" a custom object":t+" "+r)}}function Jg(t,e,n){if((e=Object(Ln.h)(e))instanceof Ag)return e._internalPath;if("string"==typeof e)return em(t,e);throw nm("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var tm=new RegExp("[~\\*/\\[\\]]");function em(t,e,n){if(e.search(tm)>=0)throw nm("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Ag.bind.apply(Ag,Object(Ws.f)([void 0],e.split(".")))))._internalPath}catch(r){throw nm("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function nm(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Zs(Ys.INVALID_ARGUMENT,(a+=". ")+t+u)}function rm(t,e){return t.some(function(t){return t.isEqual(e)})}var im=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new pg(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new om(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(sm("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),om=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ws.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(im);function sm(t,e){return"string"==typeof e?em(t,e):e instanceof Ag?e._internalPath:e._delegate._internalPath}var am=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),um=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(Ws.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new cm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(sm("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(im),cm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ws.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(um),lm=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new am(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new cm(n._firestore,n._userDataWriter,r.key,r,new am(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Zs(Ys.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new cm(t._firestore,t._userDataWriter,e.doc.key,e.doc,new am(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new cm(t._firestore,t._userDataWriter,e.doc.key,e.doc,new am(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:hm(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function hm(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ia()}}function fm(t,e){return t instanceof um&&e instanceof um?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof lm&&e instanceof lm&&t._firestore===e._firestore&&wg(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function dm(t){if(_u(t)&&0===t.explicitOrderBy.length)throw new Zs(Ys.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var pm=function(){};function gm(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var mm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Wc=e,i.Gc=n,i.zc=r,i.type="where",i}return Object(Ws.c)(e,t),e.prototype._apply=function(t){var e=Vg(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Zs(Ys.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Em(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(Sm(r,t,l[c]));a={arrayValue:{values:u}}}else a=Sm(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Em(s,o),a=Wg(n,"where",s,"in"===o||"not-in"===o);var h=nu.create(i,o,a);return function(t,e){if(e.g()){var n=Eu(t);if(null!==n&&!n.isEqual(e.field))throw new Zs(Ys.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Su(t);null!==r&&Om(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Zs(Ys.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Wc,this.Gc,this.zc);return new gg(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(pm),ym=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Wc=e,r.Hc=n,r.type="orderBy",r}return Object(Ws.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Zs(Ys.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Zs(Ys.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new du(e,n);return function(t,e){if(null===Su(t)){var n=Eu(t);null!==n&&Om(0,n,e.field)}}(t,r),r}(t._query,this.Wc,this.Hc);return new gg(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new yu(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(pm),bm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return Object(Ws.c)(e,t),e.prototype._apply=function(t){return new gg(t.firestore,t.converter,Iu(t._query,this.Jc,this.Yc))},e}(pm),vm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Object(Ws.c)(e,t),e.prototype._apply=function(t){var e=_m(t,this.type,this.Xc,this.Zc);return new gg(t.firestore,t.converter,function(t,e){return new yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(pm),wm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Object(Ws.c)(e,t),e.prototype._apply=function(t){var e=_m(t,this.type,this.Xc,this.Zc);return new gg(t.firestore,t.converter,function(t,e){return new yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(pm);function _m(t,e,n,r){if(n[0]=Object(Ln.h)(n[0]),n[0]instanceof im)return function(t,e,n,r,i){if(!r)throw new Zs(Ys.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Tu(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(qa(e,r.key));else{var c=r.data.field(u.field);if(Ia(c))throw new Zs(Ys.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Zs(Ys.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new hu(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Vg(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Zs(Ys.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new Zs(Ys.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Ou(t)&&-1!==c.indexOf("/"))throw new Zs(Ys.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(ba.fromString(c));if(!Na.isDocumentKey(l))throw new Zs(Ys.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Na(l);a.push(qa(e,h))}else{var f=Wg(n,r,c);a.push(f)}}return new hu(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Sm(t,e,n){if("string"==typeof(n=Object(Ln.h)(n))){if(""===n)throw new Zs(Ys.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ou(e)&&-1!==n.indexOf("/"))throw new Zs(Ys.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(ba.fromString(n));if(!Na.isDocumentKey(r))throw new Zs(Ys.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return qa(t,new Na(r))}if(n instanceof pg)return qa(t,n._key);throw new Zs(Ys.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+cg(n)+".")}function Em(t,e){if(!Array.isArray(t)||0===t.length)throw new Zs(Ys.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Zs(Ys.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Om(t,e,n){if(!n.isEqual(e))throw new Zs(Ys.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Tm=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Pa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ta(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ca(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ia()}},t.prototype.convertObject=function(t,e){var n=this,r={};return ga(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new jg(Ta(t.latitude),Ta(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Aa(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(xa(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Oa(t);return new fa(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=ba.fromString(t);oa(vl(n));var r=new Yp(n.get(1),n.get(3)),i=new Na(n.popFirst(5));return r.isEqual(e)||ea("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Cm(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Im=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ws.c)(e,t),e.prototype.convertBytes=function(t){return new xg(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new pg(this.firestore,null,e)},e}(Tm),Am=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Vg(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=xm(t,this._firestore),i=Cm(r.converter,e,n),o=Fg(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Zu.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=xm(t,this._firestore);return o="string"==typeof(e=Object(Ln.h)(e))||e instanceof Ag?$g(this._dataReader,"WriteBatch.update",s._key,e,n,r):Gg(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Zu.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=xm(t,this._firestore);return this._mutations=this._mutations.concat(new fc(e._key,Zu.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Zs(Ys.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function xm(t,e){if((t=Object(Ln.h)(t)).firestore!==e)throw new Zs(Ys.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var km=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ws.c)(e,t),e.prototype.convertBytes=function(t){return new xg(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new pg(this.firestore,null,e)},e}(Tm);function jm(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=lg(t,pg);var o=lg(t.firestore,Eg),s=Vg(o);return Nm(o,[("string"==typeof(e=Object(Ln.h)(e))||e instanceof Ag?$g(s,"updateDoc",t._key,e,n,r):Gg(s,"updateDoc",t._key,e)).toMutation(t._key,Zu.exists(!0))])}function Dm(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(Ln.h)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Sg(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Sg(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof pg)c=lg(t.firestore,Eg),l=vu(t._key.path),u={next:function(e){i[a]&&i[a](Pm(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=lg(t,gg);c=lg(d.firestore,Eg),l=d._query;var p=new km(c);u={next:function(t){i[a]&&i[a](new lm(c,p,d,t))},error:i[a+1],complete:i[a+2]},dm(t._query)}return function(t,e,n,r){var i=this,o=new Pp(r),s=new zd(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(Ws.b)(i,void 0,void 0,function(){var e;return Object(Ws.d)(this,function(n){switch(n.label){case 0:return e=Fd,[4,Gp(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Ws.b)(i,void 0,void 0,function(){var e;return Object(Ws.d)(this,function(n){switch(n.label){case 0:return e=Ud,[4,Gp(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(Og(c),l,h,u)}function Nm(t,e){return function(t,e){var n=this,r=new Hl;return t.asyncQueue.enqueueAndForget(function(){return Object(Ws.b)(n,void 0,void 0,function(){var n;return Object(Ws.d)(this,function(i){switch(i.label){case 0:return n=np,[4,Qp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Og(t),e)}function Pm(t,e,n){var r=n.docs.get(e._key),i=new km(t);return new um(t,i,e._key,r,new am(n.hasPendingWrites,n.fromCache),e.converter)}var Rm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(Ws.c)(e,t),e.prototype.get=function(e){var n=this,r=xm(e,this._firestore),i=new km(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new um(n._firestore,i,r._key,t._document,new am(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Vg(t)}return t.prototype.get=function(t){var e=this,n=xm(t,this._firestore),r=new Im(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return ia();var i=t[0];if(i.isFoundDocument())return new im(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new im(e._firestore,r,n._key,null,n.converter);throw ia()})},t.prototype.set=function(t,e,n){var r=xm(t,this._firestore),i=Cm(r.converter,e,n),o=Fg(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=xm(t,this._firestore);return o="string"==typeof(e=Object(Ln.h)(e))||e instanceof Ag?$g(this._dataReader,"Transaction.update",s._key,e,n,r):Gg(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=xm(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Mm(){if("undefined"==typeof Uint8Array)throw new Zs(Ys.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Lm(){if("undefined"==typeof atob)throw new Zs(Ys.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Vm=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Lm(),new t(xg.fromBase64String(e))},t.fromUint8Array=function(e){return Mm(),new t(xg.fromUint8Array(e))},t.prototype.toBase64=function(){return Lm(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Mm(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Fm=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Ig(t=lg(t,Eg));var n=Og(t),r=t._freezeSettings(),i=new Np;return Cg(n,i,new jp(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Ig(t=lg(t,Eg));var e=Og(t),n=t._freezeSettings(),r=new Np;return Cg(e,r,new Dp(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Zs(Ys.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Hl;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Ws.b)(e,void 0,void 0,function(){var e;return Object(Ws.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Ws.b)(this,void 0,void 0,function(){return Object(Ws.d)(this,function(e){switch(e.label){case 0:return Gl.yt()?[4,Gl.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(rf(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),Um=function(){function t(t,e,n){var r=this;this._delegate=e,this.tu=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Yp||(this.eu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||na("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=lg(t,dg))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&na("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=Object(Ln.d)(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Zs(Ys.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new tg(new Xp(o,new Rf(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Ws.b)(e,void 0,void 0,function(){var e,n;return Object(Ws.d)(this,function(r){switch(r.label){case 0:return[4,Bp(t)];case 1:return e=r.sent(),[4,zp(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=sa(t);return e.Or.delete(0),ad(e)}(n))]}})})})}(Og(lg(this._delegate,Eg)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Ws.b)(e,void 0,void 0,function(){var e,n;return Object(Ws.d)(this,function(r){switch(r.label){case 0:return[4,Bp(t)];case 1:return e=r.sent(),[4,zp(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Ws.b)(this,void 0,void 0,function(){var e;return Object(Ws.d)(this,function(n){switch(n.label){case 0:return(e=sa(t)).Or.add(0),[4,ud(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(Og(lg(this._delegate,Eg)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&sg("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.tu.enableMultiTabIndexedDbPersistence(this):this.tu.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.tu.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.eu&&(this.eu._removeServiceInstance("firestore"),this.eu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Hl;return t.asyncQueue.enqueueAndForget(function(){return Object(Ws.b)(e,void 0,void 0,function(){var e;return Object(Ws.d)(this,function(r){switch(r.label){case 0:return e=up,[4,Qp(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Og(lg(this._delegate,Eg)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Pp(e);return t.asyncQueue.enqueueAndForget(function(){return Object(Ws.b)(n,void 0,void 0,function(){var e;return Object(Ws.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){sa(t).Gr.add(e),e.next()},[4,Gp(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Ws.b)(n,void 0,void 0,function(){var e;return Object(Ws.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){sa(t).Gr.delete(e)},[4,Gp(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Og(t=lg(t,Eg)),Sg(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.eu)throw new Zs(Ys.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.eu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new ty(this,yg(this._delegate,t))}catch(t){throw Gm(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Qm(this,bg(this._delegate,t))}catch(t){throw Gm(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Zm(this,function(t,e){if(t=lg(t,dg),ig("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Zs(Ys.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new gg(t,null,function(t){return new yu(ba.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Gm(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Hl;return t.asyncQueue.enqueueAndForget(function(){return Object(Ws.b)(n,void 0,void 0,function(){var n;return Object(Ws.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return qp(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new Mp(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(Og(t),function(n){return e(new Rm(t,n))})}(this._delegate,function(n){return t(new Bm(e,n))})},t.prototype.batch=function(){var t=this;return Og(this._delegate),new Hm(new Am(this._delegate,function(e){return Nm(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Zs(Ys.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Zs(Ys.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),qm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ws.c)(e,t),e.prototype.convertBytes=function(t){return new Vm(new xg(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Qm.nu(e,this.firestore,null)},e}(Tm),Bm=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new qm(t)}return t.prototype.get=function(t){var e=this,n=ey(t);return this._delegate.get(n).then(function(t){return new Km(e._firestore,new um(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=ey(t);return n?(og("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=ey(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(Ws.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=ey(t);return this._delegate.delete(e),this},t}(),Hm=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=ey(t);return n?(og("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=ey(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(Ws.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=ey(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),zm=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new cm(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Ym(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.su=function(e,n){var r=t.iu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new qm(e),n),i.set(n,o)),o},t}();zm.iu=new WeakMap;var Qm=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new qm(t)}return t.ru=function(e,n,r){if(e.length%2!=0)throw new Zs(Ys.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new pg(n._delegate,r,new Na(e)))},t.nu=function(e,n,r){return new t(n,new pg(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ty(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new ty(this.firestore,yg(this._delegate,t))}catch(t){throw Gm(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(Ln.h)(t))instanceof pg&&vg(this._delegate,t)},t.prototype.set=function(t,e){e=og("DocumentReference.set",e);try{return function(t,e,n){t=lg(t,pg);var r=lg(t.firestore,Eg),i=Cm(t.converter,e,n);return Nm(r,[Fg(Vg(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Zu.none())])}(this._delegate,t,e)}catch(t){throw Gm(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?jm(this._delegate,t):jm.apply(void 0,Object(Ws.f)([this._delegate,t,e],n))}catch(t){throw Gm(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Nm(lg((t=this._delegate).firestore,Eg),[new fc(t._key,Zu.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=$m(e),i=Wm(e,function(e){return new Km(t.firestore,new um(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return Dm(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=lg(t,pg);var e=lg(t.firestore,Eg),n=Og(e),r=new km(e);return function(t,e){var n=this,r=new Hl;return t.asyncQueue.enqueueAndForget(function(){return Object(Ws.b)(n,void 0,void 0,function(){var n;return Object(Ws.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Ws.b)(this,void 0,void 0,function(){var r,i;return Object(Ws.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=sa(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Zs(Ys.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Nd(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Hp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new um(e,r,t._key,n,new am(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=lg(t,pg);var e=lg(t.firestore,Eg);return $p(Og(e),t._key,{source:"server"}).then(function(n){return Pm(e,t,n)})}(this._delegate):function(t){t=lg(t,pg);var e=lg(t.firestore,Eg);return $p(Og(e),t._key).then(function(n){return Pm(e,t,n)})}(this._delegate)).then(function(t){return new Km(e.firestore,new um(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?zm.su(this.firestore,e):null))},t}();function Gm(t,e,n){return t.message=t.message.replace(e,n),t}function $m(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Sg(r))return r}return{}}function Wm(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Sg(t[0])?t[0]:Sg(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Km=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Qm(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return fm(this._delegate,t._delegate)},t}(),Ym=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ws.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Km),Zm=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new qm(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,gm(this._delegate,function(t,e,n){var r=e,i=sm("where",t);return new mm(i,r,n)}(e,n,r)))}catch(e){throw Gm(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,gm(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=sm("orderBy",t);return new ym(r,n)}(e,n)))}catch(e){throw Gm(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,gm(this._delegate,function(t){return hg("limit",t),new bm("limit",t,"F")}(e)))}catch(e){throw Gm(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,gm(this._delegate,function(t){return hg("limitToLast",t),new bm("limitToLast",t,"L")}(e)))}catch(e){throw Gm(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,gm(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new vm("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw Gm(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,gm(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new vm("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw Gm(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,gm(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new wm("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw Gm(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,gm(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new wm("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw Gm(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return wg(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=lg(t,gg);var e=lg(t.firestore,Eg),n=Og(e),r=new km(e);return function(t,e){var n=this,r=new Hl;return t.asyncQueue.enqueueAndForget(function(){return Object(Ws.b)(n,void 0,void 0,function(){var n;return Object(Ws.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Ws.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(Ws.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,vf(t,e,!0)];case 1:return a=u.sent(),r=new Kd(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Nd(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Hp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new lm(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=lg(t,gg);var e=lg(t.firestore,Eg),n=Og(e),r=new km(e);return Wp(n,t._query,{source:"server"}).then(function(n){return new lm(e,r,t,n)})}(this._delegate):function(t){t=lg(t,gg);var e=lg(t.firestore,Eg),n=Og(e),r=new km(e);return dm(t._query),Wp(n,t._query).then(function(n){return new lm(e,r,t,n)})}(this._delegate)).then(function(t){return new Jm(e.firestore,new lm(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=$m(e),i=Wm(e,function(e){return new Jm(t.firestore,new lm(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Dm(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?zm.su(this.firestore,e):null))},t}(),Xm=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Ym(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Jm=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Zm(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Ym(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Xm(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Ym(n._firestore,r))})},t.prototype.isEqual=function(t){return fm(this._delegate,t._delegate)},t}(),ty=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(Ws.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Qm(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Qm(this.firestore,void 0===t?bg(this._delegate):bg(this._delegate,t))}catch(t){throw Gm(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=lg(t.firestore,Eg),r=bg(t),i=Cm(t.converter,e);return Nm(n,[Fg(Vg(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Zu.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Qm(e.firestore,t)})},e.prototype.isEqual=function(t){return vg(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?zm.su(this.firestore,t):null))},e}(Zm);function ey(t){return lg(t,pg)}var ny,ry=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Ag.bind.apply(Ag,Object(Ws.f)([void 0],t)))}return t.documentId=function(){return new t(wa.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(Ln.h)(t))instanceof Ag&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),iy=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Bg("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Ug("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hg("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zg("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Qg("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),oy=n("/6Yf"),sy={Firestore:Um,GeoPoint:jg,Timestamp:fa,Blob:Vm,Transaction:Bm,WriteBatch:Hm,DocumentReference:Qm,DocumentSnapshot:Km,Query:Zm,QueryDocumentSnapshot:Ym,QuerySnapshot:Jm,CollectionReference:ty,FieldPath:ry,FieldValue:iy,setLogLevel:function(t){Xs.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new oy.a("firestore",function(t){return function(t,e){return new Um(t,new Eg(t,e),new Fm)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},sy)))})(ny=Mn.a),ny.registerVersion("@firebase/firestore","2.3.4");var ay=n("XNiG"),uy=n("VRyK"),cy=n("zx2A");function ly(t,e){return"function"==typeof e?n=>n.pipe(ly((n,r)=>Object($t.a)(t(n,r)).pipe(Object(Yt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new hy(t))}class hy{constructor(t){this.project=t}call(t,e){return e.subscribe(new fy(t,this.project))}}class fy extends cy.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new cy.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(cy.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var dy=n("qgXg"),py=n("quSY"),gy=n("9ppp"),my=n("Ylt2");class yy extends ay.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new by(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new gy.a;if(this.isStopped||this.hasError?o=py.a.EMPTY:(this.observers.push(t),o=new my.a(this,t)),r&&t.add(t=new Nn.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||dy.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class by{constructor(t,e){this.time=t,this.value=e}}function vy(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new yy(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}const wy=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),_y=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var Sy=n("EY2u");function Ey(t){return e=>0===t?Object(Sy.b)():e.lift(new Oy(t))}class Oy{constructor(t){if(this.total=t,this.total<0)throw new _y}call(t,e){return e.subscribe(new Ty(t,this.total))}}class Ty extends _n.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Cy(t=null){return e=>e.lift(new Iy(t))}class Iy{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Ay(t,this.defaultValue))}}class Ay extends _n.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function xy(t=Dy){return e=>e.lift(new ky(t))}class ky{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new jy(t,this.errorFactory))}}class jy extends _n.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(ny){t=ny}this.destination.error(t)}}}function Dy(){return new wy}var Ny=n("SpAZ");function Py(t,e){const n=arguments.length>=2;return r=>r.pipe(t?kn((e,n)=>t(e,n,r)):Ny.a,Ey(1),n?Cy(e):xy(()=>new wy))}function Ry(t,e){return e?ly(()=>t,e):ly(()=>t)}var My=n("tf+s");const Ly=new r.r("angularfire2.auth.use-emulator"),Vy=new r.r("angularfire2.auth.settings"),Fy=new r.r("angularfire2.auth.tenant-id"),Uy=new r.r("angularfire2.auth.langugage-code"),qy=new r.r("angularfire2.auth.use-device-language"),By=new r.r("angularfire.auth.persistence");let Hy=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new Pn.d(i),f=Object(Pn.h)(h),d=new ay.a,p=Object(mn.a)(void 0).pipe(Object(Nn.b)(h.outsideAngular),ly(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Yt.a)(()=>Object(Pn.g)(t,i,e)),Object(Yt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(Pn.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),vy({bufferSize:1,refCount:!1}));if(dt(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(mn.a)(null);else{p.pipe(Py()).subscribe();const t=p.pipe(ly(t=>t.getRedirectResult().then(t=>t,()=>null)),f,vy({bufferSize:1,refCount:!1})),e=t=>new Wt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(ly(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(ly(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Ry(n),Object(My.a)(h.outsideAngular),Object(Nn.b)(h.insideAngular)),this.user=t.pipe(Ry(r),Object(My.a)(h.outsideAngular),Object(Nn.b)(h.insideAngular)),this.idToken=this.user.pipe(ly(t=>t?Object($t.a)(t.getIdToken()):Object(mn.a)(null))),this.idTokenResult=this.user.pipe(ly(t=>t?Object($t.a)(t.getIdTokenResult()):Object(mn.a)(null))),this.credential=Object(uy.a)(t,d,this.authState.pipe(kn(t=>!t))).pipe(Object(Yt.a)(t=>(null==t?void 0:t.user)?t:null),Object(My.a)(h.outsideAngular),Object(Nn.b)(h.insideAngular))}return Object(Pn.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Pn.c),r.Ub(Pn.b,8),r.Ub(r.C),r.Ub(r.A),r.Ub(Ly,8),r.Ub(Vy,8),r.Ub(Fy,8),r.Ub(Uy,8),r.Ub(qy,8),r.Ub(By,8))},t.\u0275prov=r.Hb({factory:function(){return new t(r.Ub(Pn.c),r.Ub(Pn.b,8),r.Ub(r.C),r.Ub(r.A),r.Ub(Ly,8),r.Ub(Vy,8),r.Ub(Fy,8),r.Ub(Uy,8),r.Ub(qy,8),r.Ub(By,8))},token:t,providedIn:"any"}),t})();Object(Pn.e)(Hy,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let zy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[Hy]}),t})();function Qy(t,e){return function(t,e=gn.a){return new Wt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Gy(t,e){return Qy(t,e).pipe(Object(Yt.a)(t=>({payload:t,type:"query"})))}function $y(t,e){return Gy(t,e).pipe(wn(void 0),Sn(),Object(Yt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Wy(t,e,n){return $y(t,n).pipe(Tn((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Ky(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Ky(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Ky(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new An(void 0,void 0)),Object(Yt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Ky(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Yy(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class Zy{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=$y(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Yt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(wn(void 0),Sn(),kn(([t,e])=>e.length>0||!t),Object(Yt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Tn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Yy(t);return Wy(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Gy(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Yt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object($t.a)(this.query.get(t)).pipe(Object(Nn.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Xy(this.ref.doc(t),this.afs)}}class Xy{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=ib(n,e);return new Zy(r,i,this.afs)}snapshotChanges(){return Qy(this.ref,this.afs.schedulers.outsideAngular).pipe(wn(void 0),Sn(),Object(Yt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Yt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object($t.a)(this.ref.get(t)).pipe(Object(Nn.b)(this.afs.schedulers.insideAngular))}}class Jy{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?$y(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Yt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),kn(t=>t.length>0),this.afs.keepUnstableUntilFirst):$y(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Tn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Yy(t);return Wy(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Gy(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Yt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object($t.a)(this.query.get(t)).pipe(Object(Nn.b)(this.afs.schedulers.insideAngular))}}const tb=new r.r("angularfire2.enableFirestorePersistence"),eb=new r.r("angularfire2.firestore.persistenceSettings"),nb=new r.r("angularfire2.firestore.settings"),rb=new r.r("angularfire2.firestore.use-emulator");function ib(t,e=(t=>t)){return{query:e(t),ref:t}}let ob=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new Pn.d(o),this.keepUnstableUntilFirst=Object(Pn.h)(this.schedulers);const c=Object(Pn.g)(t,o,e);!Rn.a.auth&&u&&Object(Pn.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Pn.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!dt(i)){const e=()=>{try{return Object($t.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(ny){return"undefined"!=typeof console&&console.warn(ny),Object(mn.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(mn.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=ib(n,e),o=this.schedulers.ngZone.run(()=>r);return new Zy(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Jy(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Xy(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Pn.c),r.Ub(Pn.b,8),r.Ub(tb,8),r.Ub(nb,8),r.Ub(r.C),r.Ub(r.A),r.Ub(eb,8),r.Ub(rb,8),r.Ub(Ly,8))},t.\u0275prov=r.Hb({factory:function(){return new t(r.Ub(Pn.c),r.Ub(Pn.b,8),r.Ub(tb,8),r.Ub(nb,8),r.Ub(r.C),r.Ub(r.A),r.Ub(eb,8),r.Ub(rb,8),r.Ub(Ly,8))},token:t,providedIn:"any"}),t})(),sb=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:tb,useValue:!0},{provide:eb,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[ob]}),t})();function ab(t,e){if(1&t){const t=r.Rb();r.Ob(0),r.Qb(1,"div",9),r.Qb(2,"div",10),r.Mb(3,"input",11),r.Pb(),r.Qb(4,"div",10),r.Mb(5,"textarea",12),r.Pb(),r.Qb(6,"div",13),r.Qb(7,"button",14),r.Xb("click",function(){return r.ec(t),r.Zb().addNotice()}),r.Qb(8,"span",15),r.ic(9," send "),r.Pb(),r.ic(10," Submit"),r.Pb(),r.Pb(),r.Pb(),r.Nb()}if(2&t){const t=r.Zb();r.Bb(1),r.cc("formGroup",t.noticeForm),r.Bb(6),r.cc("disabled",!t.noticeForm.valid)}}function ub(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",8),r.Qb(1,"h6",16),r.ic(2),r.Pb(),r.Qb(3,"p"),r.Qb(4,"small"),r.ic(5),r.ac(6,"date"),r.Pb(),r.Pb(),r.Qb(7,"p"),r.ic(8),r.Pb(),r.Qb(9,"button",17),r.Xb("click",function(){r.ec(t);const n=e.$implicit;return r.Zb().deleteNotice(n.title)}),r.ic(10,"Delete"),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit;r.Bb(2),r.jc(t.title),r.Bb(3),r.jc(r.bc(6,3,t.date,"dd-MM-YYYY")),r.Bb(3),r.kc(" ",t.notice," ")}}let cb=(()=>{class t{constructor(t){this.DB=t,this.isAddNotice=!1,this.noticeForm=new We({})}ngOnInit(){let t=new Date;this.noticeForm=new We({title:new $e(null,ce.required),notice:new $e(null,ce.required),date:new $e(t.toString())}),this.DB.collection("notice").valueChanges().subscribe(t=>{this.getAllNotice=t,console.log(t)})}openAddNotice(){this.isAddNotice=!this.isAddNotice}addNotice(){let t=this.noticeForm.value;this.DB.collection("notice").add(t),this.noticeForm.reset()}deleteNotice(t){console.log("ssss",t),this.DB.collection("notice").doc(t).delete().then(()=>{console.log("Document successfully deleted!")}).catch(t=>{console.error("Error removing document: ",t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ob))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-notice-board"]],decls:20,vars:2,consts:[[1,"container"],[1,"bg-white","p-4","shadow","rounded"],[1,"d-flex","justify-content-between","align-items-center"],[1,"h5","mb-0"],[1,"addNotice"],[1,"btn","btn-success",3,"click"],[4,"ngIf"],["class","border p-3 mb-4",4,"ngFor","ngForOf"],[1,"border","p-3","mb-4"],[1,"border","bg-light","p-4","mt-4",3,"formGroup"],[1,"form-group"],["type","text","placeholder","Add Title","formControlName","title",1,"form-control"],["name","","id","","cols","30","rows","4","placeholder","Add note","formControlName","notice",1,"form-control"],[1,"w-100"],[1,"btn","btn-success",3,"disabled","click"],[1,"material-icons"],[1,""],[1,"btn",3,"click"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.ic(4,"Notice Board"),r.Pb(),r.Qb(5,"div",4),r.Qb(6,"button",5),r.Xb("click",function(){return e.openAddNotice()}),r.ic(7,"Create Notice"),r.Pb(),r.Pb(),r.Pb(),r.hc(8,ab,11,2,"ng-container",6),r.Mb(9,"hr"),r.hc(10,ub,11,6,"div",7),r.Qb(11,"div",8),r.Qb(12,"b"),r.ic(13,"Note:"),r.Pb(),r.ic(14," Add your details individually , then I will add amount of your maintenance fee. This is for transparency. All data will be verify by our president (suman chakraborty). Thank you \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "),r.Mb(15,"br"),r.Mb(16,"br"),r.Qb(17,"b"),r.ic(18,"\u09ac\u09bf\u0983\u09a6\u09cd\u09b0\u0983:"),r.Pb(),r.ic(19," \u0986\u09aa\u09a8\u09be\u09b0 \u09ac\u09bf\u09b6\u09a6 \u09aa\u09c3\u09a5\u0995\u09ad\u09be\u09ac\u09c7 \u09af\u09c1\u0995\u09cd\u09a4 \u0995\u09b0\u09c1\u09a8, \u09a4\u09be\u09b0\u09aa\u09b0\u09c7 \u0986\u09ae\u09bf \u0986\u09aa\u09a8\u09be\u09b0 \u09b0\u0995\u09cd\u09b7\u09a3\u09be\u09ac\u09c7\u0995\u09cd\u09b7\u09a3\u09c7\u09b0 \u09ab\u09bf \u09af\u09cb\u0997 \u0995\u09b0\u09ac\u0964 \u098f\u099f\u09bf \u09b8\u09cd\u09ac\u099a\u09cd\u099b\u09a4\u09be\u09b0 \u099c\u09a8\u09cd\u09af\u0964 \u09b8\u09ae\u09b8\u09cd\u09a4 \u09a1\u09c7\u099f\u09be \u0986\u09ae\u09be\u09a6\u09c7\u09b0 \u09b8\u09a6\u09b8\u09cd\u09af (\u09b8\u09c1\u09ae\u09a8 \u099a\u0995\u09cd\u09b0\u09ac\u09b0\u09cd\u09a4\u09c0) \u09a6\u09cd\u09ac\u09be\u09b0\u09be \u09af\u09be\u099a\u09be\u0987 \u0995\u09b0\u09be \u09b9\u09ac\u09c7\u0964 \u09a7\u09a8\u09cd\u09af\u09ac\u09be\u09a6 "),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Bb(8),r.cc("ngIf",!0===e.isAddNotice),r.Bb(2),r.cc("ngForOf",e.getAllNotice))},directives:[ut,st,xe,tn,re,Ae,nn],pipes:[ht],styles:[""]}),t})(),lb=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-balance-sheet"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Qb(0,"p"),r.ic(1,"balance-sheet works!"),r.Pb())},styles:[""]}),t})();function hb(t,e){if(1&t){const t=r.Rb();r.Ob(0),r.Qb(1,"div",4),r.Qb(2,"h4"),r.ic(3,"Add Member"),r.Pb(),r.Qb(4,"button",8),r.Xb("click",function(){return r.ec(t),r.Zb().addMemberSection()}),r.ic(5,"Cancel"),r.Pb(),r.Pb(),r.Mb(6,"hr"),r.Qb(7,"div",9),r.Qb(8,"div",10),r.Qb(9,"div",11),r.Mb(10,"input",12),r.Pb(),r.Pb(),r.Qb(11,"div",13),r.Qb(12,"div",11),r.Mb(13,"input",14),r.Pb(),r.Pb(),r.Qb(14,"div",15),r.Qb(15,"div",11),r.Mb(16,"input",16),r.Pb(),r.Pb(),r.Qb(17,"div",15),r.Qb(18,"div",11),r.Mb(19,"input",17),r.Pb(),r.Pb(),r.Qb(20,"div",13),r.Qb(21,"div",11),r.Qb(22,"button",18),r.Xb("click",function(){return r.ec(t),r.Zb().postMember()}),r.Qb(23,"span",19),r.ic(24," person_add "),r.Pb(),r.ic(25," Add Member"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Nb()}if(2&t){const t=r.Zb();r.Bb(7),r.cc("formGroup",t.addMember),r.Bb(15),r.cc("disabled",!t.addMember.valid)}}function fb(t,e){if(1&t){const t=r.Rb();r.Ob(0),r.Qb(1,"button",20),r.Xb("click",function(){return r.ec(t),r.Zb().addMemberSection()}),r.ic(2,"Add Member"),r.Pb(),r.Nb()}}function db(t,e){if(1&t&&(r.Ob(0),r.Qb(1,"span",23),r.ic(2),r.Pb(),r.Nb()),2&t){const t=r.Zb().$implicit;r.Bb(2),r.kc(" ",null==t?null:t.flat_maintenance_collection_status,"")}}function pb(t,e){if(1&t&&(r.Ob(0),r.Qb(1,"span",24),r.ic(2),r.Pb(),r.Nb()),2&t){const t=r.Zb().$implicit;r.Bb(2),r.kc(" ",null==t?null:t.flat_maintenance_collection_status,"")}}function gb(t,e){if(1&t&&(r.Ob(0),r.Qb(1,"span",25),r.ic(2),r.Pb(),r.Nb()),2&t){const t=r.Zb().$implicit;r.Bb(2),r.kc(" ",null==t?null:t.flat_maintenance_collection_status,"")}}function mb(t,e){if(1&t&&(r.Qb(0,"tr"),r.Qb(1,"td"),r.ic(2),r.Pb(),r.Qb(3,"td",21),r.ic(4),r.Pb(),r.Qb(5,"td"),r.ic(6),r.Pb(),r.Qb(7,"td",22),r.ic(8),r.Pb(),r.Qb(9,"td"),r.ic(10),r.Pb(),r.Qb(11,"td"),r.ic(12),r.Pb(),r.Qb(13,"td"),r.ic(14),r.Pb(),r.Qb(15,"td"),r.ic(16),r.Pb(),r.Qb(17,"td",21),r.hc(18,db,3,1,"ng-container",2),r.hc(19,pb,3,1,"ng-container",2),r.hc(20,gb,3,1,"ng-container",2),r.Pb(),r.Pb()),2&t){const t=e.$implicit,n=e.index;r.Bb(2),r.jc(n+1),r.Bb(2),r.jc(t.flat_owner_name),r.Bb(2),r.jc(t.flat_owner_contact),r.Bb(2),r.jc(t.flat_number),r.Bb(2),r.kc("",t.flat_unit," sq. ft."),r.Bb(2),r.kc("",null==t?null:t.flat_maintenance_charge," Rs"),r.Bb(2),r.kc("",null==t?null:t.flat_maintenance_collection_price," Rs"),r.Bb(2),r.kc("",null==t?null:t.flat_maintenance_collection_price_due," Rs"),r.Bb(2),r.cc("ngIf","success"==(null==t?null:t.flat_maintenance_collection_status)),r.Bb(1),r.cc("ngIf","due"==(null==t?null:t.flat_maintenance_collection_status)),r.Bb(1),r.cc("ngIf","pending"==(null==t?null:t.flat_maintenance_collection_status))}}let yb=(()=>{class t{constructor(t){this.db=t,this.addMemberSectionToggle=!1,this.addMember=new We({})}ngOnInit(){this.addMember=new We({flat_owner_name:new $e(null,ce.required),flat_owner_contact:new $e(null,ce.required),flat_number:new $e(null,ce.required),flat_unit:new $e(null,ce.required),flat_maintenance_charges:new $e(null),flat_owner_active:new $e(!0)}),this.db.collection("member_list").valueChanges().subscribe(t=>{this.getAllMember=t}),this.db.collection("passbook").valueChanges().subscribe(t=>{this.passbook=t,console.log(t)})}postMember(){let t=this.addMember.value.flat_number.toLowerCase();console.log(this.addMember.value,t),1==["0a","1a","1b","1c","1d","2a","2b","2c","2d","3a","3b","3c","3d","4a","4b","4c","4d"].includes(t)?this.db.doc(`member_list/${t}`).update(this.addMember.value).then(()=>{alert("Oh ho !!!, You are already a member")}).catch(e=>{console.log("Error updating user",e),this.db.doc(`member_list/${t}`).set(this.addMember.value),this.addMember.reset(),alert("Thank You , Now you are a new member")}):alert("Sorry , This flat not available in Gitanjali")}addMemberSection(){this.addMemberSectionToggle=!this.addMemberSectionToggle}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ob))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-add-member"]],decls:32,vars:3,consts:[[1,"container"],[1,"bg-white-bf","rounded","shadow","p-3"],[4,"ngIf"],[1,"w-100"],[1,"d-flex","justify-content-between"],[1,"table-responsive","rounded"],[1,"table","bg-white","table-hover","table-bordered","table-striped"],[4,"ngFor","ngForOf"],[1,"btn","btn-danger",3,"click"],[1,"row",3,"formGroup"],[1,"col-md-8"],[1,"form-group"],["type","text","placeholder","Full Name","formControlName","flat_owner_name",1,"form-control"],[1,"col-md-4"],["type","text","placeholder","Phone","formControlName","flat_owner_contact",1,"form-control"],[1,"col-6","col-md-4"],["type","text","placeholder","Flat Number","formControlName","flat_number",1,"form-control"],["type","text","placeholder","Flat Area in sq. ft.","formControlName","flat_unit",1,"form-control"],[1,"btn","btn-success","w-100",3,"disabled","click"],[1,"material-icons","mb-0","align-middle"],[1,"btn","btn-success",3,"click"],[1,"text-capitalize"],[1,"text-uppercase"],[1,"text-success"],[1,"text-danger"],[1,"text-warning"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.hc(2,hb,26,2,"ng-container",2),r.Qb(3,"div",3),r.Qb(4,"div",4),r.Qb(5,"h4"),r.ic(6,"Member List"),r.Pb(),r.hc(7,fb,3,0,"ng-container",2),r.Pb(),r.Mb(8,"hr"),r.Qb(9,"div",5),r.Qb(10,"table",6),r.Qb(11,"thead"),r.Qb(12,"tr"),r.Qb(13,"th"),r.ic(14,"SL"),r.Pb(),r.Qb(15,"th"),r.ic(16,"Name"),r.Pb(),r.Qb(17,"th"),r.ic(18,"Contact"),r.Pb(),r.Qb(19,"th"),r.ic(20,"Flat Number"),r.Pb(),r.Qb(21,"th"),r.ic(22,"Area"),r.Pb(),r.Qb(23,"th"),r.ic(24,"Maintenance"),r.Pb(),r.Qb(25,"th"),r.ic(26,"Deposit"),r.Pb(),r.Qb(27,"th"),r.ic(28,"Pending"),r.Pb(),r.Qb(29,"th"),r.ic(30,"Status"),r.Pb(),r.Pb(),r.Pb(),r.hc(31,mb,21,11,"tr",7),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Bb(2),r.cc("ngIf",1==e.addMemberSectionToggle),r.Bb(5),r.cc("ngIf",0==e.addMemberSectionToggle),r.Bb(24),r.cc("ngForOf",e.getAllMember))},directives:[ut,st,xe,tn,re,Ae,nn],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{white-space:nowrap}"]}),t})();function bb(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",9),r.Qb(1,"div",10),r.Qb(2,"div",11),r.Mb(3,"input",12),r.Pb(),r.Qb(4,"div",11),r.Mb(5,"input",13),r.Pb(),r.Qb(6,"div",14),r.Qb(7,"button",15),r.Xb("click",function(){return r.ec(t),r.Zb().login()}),r.ic(8,"Login"),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.Zb();r.Bb(1),r.cc("formGroup",t.loginForm)}}function vb(t,e){if(1&t&&(r.Qb(0,"option",26),r.ic(1),r.Pb()),2&t){const t=e.$implicit;r.Bb(1),r.jc(t.flat_owner_name)}}function wb(t,e){1&t&&(r.Qb(0,"small"),r.ic(1,"Please enter value"),r.Pb())}function _b(t,e){1&t&&(r.Qb(0,"small"),r.ic(1,"Please enter value"),r.Pb())}function Sb(t,e){1&t&&(r.Qb(0,"small"),r.ic(1,"Please enter value"),r.Pb())}function Eb(t,e){if(1&t){const t=r.Rb();r.Qb(0,"form",16),r.Xb("ngSubmit",function(){return r.ec(t),r.Zb().onSubmit()}),r.Qb(1,"div",17),r.Qb(2,"select",18),r.Qb(3,"option",19),r.ic(4,"Select Owner Name"),r.Pb(),r.hc(5,vb,2,1,"option",20),r.Pb(),r.hc(6,wb,2,0,"small",21),r.Pb(),r.Qb(7,"div",17),r.Mb(8,"input",22),r.hc(9,_b,2,0,"small",21),r.Pb(),r.Qb(10,"div",17),r.Mb(11,"input",23),r.hc(12,Sb,2,0,"small",21),r.Pb(),r.Qb(13,"div",24),r.Qb(14,"button",25),r.ic(15,"Submit"),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.Zb();r.cc("formGroup",t.maintenance_charge_details),r.Bb(3),r.cc("selected",!0),r.Bb(2),r.cc("ngForOf",t.getAllMember),r.Bb(1),r.cc("ngIf",!t.maintenance_charge_details.get("flat_owner_name").valid&&t.maintenance_charge_details.get("flat_owner_name").touched),r.Bb(3),r.cc("ngIf",!t.maintenance_charge_details.get("flat_maintenance_charge").valid&&t.maintenance_charge_details.get("flat_maintenance_charge").touched),r.Bb(3),r.cc("ngIf",!t.maintenance_charge_details.get("flat_maintenance_collection_price_due").valid&&t.maintenance_charge_details.get("flat_maintenance_collection_price_due").touched),r.Bb(2),r.cc("disabled",!t.maintenance_charge_details.valid)}}function Ob(t,e){if(1&t&&(r.Qb(0,"tr"),r.Qb(1,"td"),r.ic(2),r.Pb(),r.Qb(3,"td"),r.ic(4),r.Pb(),r.Qb(5,"td"),r.ic(6),r.Pb(),r.Qb(7,"td"),r.ic(8),r.Pb(),r.Qb(9,"td"),r.ic(10),r.Pb(),r.Qb(11,"td"),r.ic(12,"0 Rs"),r.Pb(),r.Qb(13,"td"),r.ic(14,"0 Rs"),r.Pb(),r.Qb(15,"td"),r.ic(16,"Null"),r.Pb(),r.Pb()),2&t){const t=e.$implicit,n=e.index;r.Bb(2),r.jc(n+1),r.Bb(2),r.jc(t.flat_owner_name),r.Bb(2),r.jc(t.flat_owner_contact),r.Bb(2),r.jc(t.flat_number),r.Bb(2),r.kc("",t.flat_unit," sq. ft.")}}let Tb=(()=>{class t{constructor(t){this.db=t,this.loginSuccessFull=!1,this.order="flat_owner_name",this.memberList=[],this.loginForm=new We({})}ngOnInit(){console.warn(localStorage.getItem("login")),"done"==localStorage.getItem("login")&&(this.loginSuccessFull=!0),this.db.collection("member_list").valueChanges().subscribe(t=>{this.getAllMember=t,console.log(typeof t,t)}),this.loginForm=new We({user_name:new $e(null),password:new $e(null)}),this.maintenance_charge_details=new We({flat_owner_name:new $e(null,ce.required),flat_maintenance_charge:new $e(null,ce.required),flat_maintenance_collection_price_due:new $e(null,ce.required)})}onSubmit(){console.warn(this.maintenance_charge_details.value)}login(){"bengal"===this.loginForm.value.user_name&&"bengal@123"===this.loginForm.value.password?(this.loginSuccessFull=!0,localStorage.setItem("login","done")):this.loginSuccessFull=!1,console.log(this.loginSuccessFull),console.log(this.loginForm.value)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ob))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-maintenance-charge"]],decls:33,vars:3,consts:[[1,"container"],["role","alert",1,"alert","alert-warning","shadow"],[1,"mb-0"],[1,"material-icons","mb-0","align-middle"],["class","loginForm p-3 py-sm-4 shadow bg-light",4,"ngIf"],["class","row",3,"formGroup","ngSubmit",4,"ngIf"],[1,"table-responsive","bg-white","p-3","rounded"],[1,"table","bg-white","table-hover","table-bordered","table-striped"],[4,"ngFor","ngForOf"],[1,"loginForm","p-3","py-sm-4","shadow","bg-light"],[1,"row",3,"formGroup"],[1,"col-sm"],["type","text","placeholder","User name","formControlName","user_name",1,"form-control"],["type","password","placeholder","**** ****","formControlName","password",1,"form-control"],[1,"col-sm-auto"],[1,"btn","btn-success",3,"click"],[1,"row",3,"formGroup","ngSubmit"],[1,"col-md"],["formControlName","flat_owner_name",1,"form-control"],["value","0",3,"selected"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["type","text","placeholder","Price","formControlName","flat_maintenance_charge",1,"form-control"],["type","text","placeholder","Due","formControlName","flat_maintenance_collection_price_due",1,"form-control"],[1,"col-md-auto"],[1,"btn","btn-primary","text-uppercase",3,"disabled"],[3,"value"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Mb(1,"hr"),r.Qb(2,"div",1),r.Qb(3,"p",2),r.Qb(4,"span",3),r.ic(5," info "),r.Pb(),r.ic(6," Entry Permission only for Dibyendu "),r.Pb(),r.Pb(),r.hc(7,bb,9,1,"div",4),r.hc(8,Eb,16,7,"form",5),r.Mb(9,"hr"),r.Qb(10,"div",6),r.Qb(11,"h4"),r.ic(12,"Member List"),r.Pb(),r.Qb(13,"table",7),r.Qb(14,"thead"),r.Qb(15,"tr"),r.Qb(16,"th"),r.ic(17,"SL"),r.Pb(),r.Qb(18,"th"),r.ic(19,"Name"),r.Pb(),r.Qb(20,"th"),r.ic(21,"Contact"),r.Pb(),r.Qb(22,"th"),r.ic(23,"Flat Number"),r.Pb(),r.Qb(24,"th"),r.ic(25,"Area"),r.Pb(),r.Qb(26,"th"),r.ic(27,"Amount"),r.Pb(),r.Qb(28,"th"),r.ic(29,"Due"),r.Pb(),r.Qb(30,"th"),r.ic(31,"Status"),r.Pb(),r.Pb(),r.Pb(),r.hc(32,Ob,17,5,"tr",8),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Bb(7),r.cc("ngIf",!0!==e.loginSuccessFull),r.Bb(1),r.cc("ngIf",!0===e.loginSuccessFull),r.Bb(24),r.cc("ngForOf",e.getAllMember))},directives:[ut,st,xe,tn,re,Ae,nn,Ye,sn,an,hn],styles:[".ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:var(--bs-red);box-shadow:none}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{white-space:nowrap}"]}),t})();class Cb extends ay.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new gy.a;return this._value}next(t){super.next(this._value=t)}}class Ib extends _n.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Ab extends _n.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var xb=n("SeVD");function kb(t,e,n,r,i=new Ab(t,n,r)){if(!i.closed)return e instanceof Wt.a?e.subscribe(i):Object(xb.a)(e)(i)}var jb=n("yCtX");const Db={};class Nb{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Pb(t,this.resultSelector))}}class Pb extends Ib{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Db),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(kb(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Db?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function Rb(t){return new Wt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object($t.a)(n):Object(Sy.b)()).subscribe(e)})}var Mb=n("EQ5u");function Lb(t){return function(e){const n=new Vb(t),r=e.lift(n);return n.caught=r}}class Vb{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Fb(t,this.selector,this.caught))}}class Fb extends cy.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new cy.a(this);this.add(r);const i=Object(cy.c)(n,r);i!==r&&this.add(i)}}}var Ub=n("5+tZ");function qb(t,e){return Object(Ub.a)(t,e,1)}function Bb(t){return function(e){return 0===t?Object(Sy.b)():e.lift(new Hb(t))}}class Hb{constructor(t){if(this.total=t,this.total<0)throw new _y}call(t,e){return e.subscribe(new zb(t,this.total))}}class zb extends _n.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var Qb=n("vkgz"),Gb=n("x+ZX");class $b{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Wb(t,this.callback))}}class Wb extends _n.a{constructor(t,e){super(t),this.add(new py.a(e))}}class Kb{constructor(t,e){this.id=t,this.url=e}}class Yb extends Kb{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Zb extends Kb{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xb extends Kb{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jb extends Kb{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tv extends Kb{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ev extends Kb{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nv extends Kb{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rv extends Kb{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iv extends Kb{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ov{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sv{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class av{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uv{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cv{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lv{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hv{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const fv="primary";class dv{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function pv(t){return new dv(t)}function gv(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function mv(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function yv(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!bv(t[i],e[i]))return!1;return!0}function bv(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function vv(t){return Array.prototype.concat.apply([],t)}function wv(t){return t.length>0?t[t.length-1]:null}function _v(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Sv(t){return Object(r.rb)(t)?t:Object(r.sb)(t)?Object($t.a)(Promise.resolve(t)):Object(mn.a)(t)}function Ev(t,e,n){return n?function(t,e){return yv(t,e)}(t.queryParams,e.queryParams)&&Ov(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>bv(t[n],e[n]))}(t.queryParams,e.queryParams)&&Tv(t.root,e.root)}function Ov(t,e){if(!kv(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Ov(t.children[n],e.children[n]))return!1}return!0}function Tv(t,e){return Cv(t,e,e.segments)}function Cv(t,e,n){if(t.segments.length>n.length)return!!kv(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!kv(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Tv(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!kv(t.segments,r)&&!!t.children.primary&&Cv(t.children.primary,e,i)}}class Iv{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pv(this.queryParams)),this._queryParamMap}toString(){return Nv.serialize(this)}}class Av{constructor(t,e){this.segments=t,this.children=e,this.parent=null,_v(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pv(this)}}class xv{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=pv(this.parameters)),this._parameterMap}toString(){return qv(this)}}function kv(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class jv{}class Dv{parse(t){const e=new Gv(t);return new Iv(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Rv(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Lv(e)}=${Lv(t)}`).join("&"):`${Lv(e)}=${Lv(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Nv=new Dv;function Pv(t){return t.segments.map(t=>qv(t)).join("/")}function Rv(t,e){if(!t.hasChildren())return Pv(t);if(e){const e=t.children.primary?Rv(t.children.primary,!1):"",n=[];return _v(t.children,(t,e)=>{e!==fv&&n.push(`${e}:${Rv(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return _v(t.children,(t,r)=>{r===fv&&(n=n.concat(e(t,r)))}),_v(t.children,(t,r)=>{r!==fv&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===fv?[Rv(t.children.primary,!1)]:[`${n}:${Rv(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Pv(t)}/${e[0]}`:`${Pv(t)}/(${e.join("//")})`}}function Mv(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lv(t){return Mv(t).replace(/%3B/gi,";")}function Vv(t){return Mv(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fv(t){return decodeURIComponent(t)}function Uv(t){return Fv(t.replace(/\+/g,"%20"))}function qv(t){return`${Vv(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Vv(t)}=${Vv(e[t])}`).join("")}`;var e}const Bv=/^[^\/()?;=#]+/;function Hv(t){const e=t.match(Bv);return e?e[0]:""}const zv=/^[^=?&#]+/,Qv=/^[^?&#]+/;class Gv{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Av([],{}):new Av([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Av(t,e)),n}parseSegment(){const t=Hv(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new xv(Fv(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Hv(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Hv(this.remaining);t&&(n=t,this.capture(n))}t[Fv(e)]=Fv(n)}parseQueryParam(t){const e=function(t){const e=t.match(zv);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Qv);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Uv(e),i=Uv(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Hv(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=fv);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Av([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class $v{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Wv(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Wv(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Kv(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Kv(t,this._root).map(t=>t.value)}}function Wv(t,e){if(t===e.value)return e;for(const n of e.children){const e=Wv(t,n);if(e)return e}return null}function Kv(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Kv(t,n);if(r.length)return r.unshift(e),r}return[]}class Yv{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Zv(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Xv extends $v{constructor(t,e){super(t),this.snapshot=e,iw(this,t)}toString(){return this.snapshot.toString()}}function Jv(t,e){const n=function(t,e){const n=new nw([],{},{},"",{},fv,e,null,t.root,-1,{});return new rw("",new Yv(n,[]))}(t,e),r=new Cb([new xv("",{})]),i=new Cb({}),o=new Cb({}),s=new Cb({}),a=new Cb(""),u=new tw(r,i,s,a,o,fv,e,n.root);return u.snapshot=n.root,new Xv(new Yv(u,[]),n)}class tw{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Yt.a)(t=>pv(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Yt.a)(t=>pv(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ew(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class nw{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pv(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pv(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rw extends $v{constructor(t,e){super(e),this.url=t,iw(this,e)}toString(){return ow(this._root)}}function iw(t,e){e.value._routerState=t,e.children.forEach(e=>iw(t,e))}function ow(t){const e=t.children.length>0?` { ${t.children.map(ow).join(", ")} } `:"";return`${t.value}${e}`}function sw(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,yv(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),yv(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!yv(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),yv(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function aw(t,e){return yv(t.params,e.params)&&function(t,e){return kv(t,e)&&t.every((t,n)=>yv(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||aw(t.parent,e.parent))}function uw(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return uw(t,e,r);return uw(t,e)})}(t,e,n);return new Yv(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return cw(e,t),t}}const n=new tw(new Cb((r=e.value).url),new Cb(r.params),new Cb(r.queryParams),new Cb(r.fragment),new Cb(r.data),r.outlet,r.component,r),i=e.children.map(e=>uw(t,e));return new Yv(n,i)}var r}function cw(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)cw(t.children[n],e.children[n])}function lw(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function hw(t){return"object"==typeof t&&null!=t&&t.outlets}function fw(t,e,n,r,i){let o={};return r&&_v(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Iv(n.root===t?e:dw(n.root,t,e),o,i)}function dw(t,e,n){const r={};return _v(t.children,(t,i)=>{r[i]=t===e?n:dw(t,e,n)}),new Av(t.segments,r)}class pw{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&lw(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(hw);if(r&&r!==wv(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gw{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function mw(t,e,n){if(t||(t=new Av([],{})),0===t.segments.length&&t.hasChildren())return yw(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(hw(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!_w(a,u,e))return o;r+=2}else{if(!_w(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Av(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Av(t.segments.slice(r.pathIndex),t.children),yw(e,0,i)}return r.match&&0===i.length?new Av(t.segments,{}):r.match&&!t.hasChildren()?bw(t,e,n):r.match?yw(t,0,i):bw(t,e,n)}function yw(t,e,n){if(0===n.length)return new Av(t.segments,{});{const r=function(t){return hw(t[0])?t[0].outlets:{[fv]:t}}(n),i={};return _v(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=mw(t.children[r],e,n))}),_v(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Av(t.segments,i)}}function bw(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(hw(o)){const t=vw(o.outlets);return new Av(r,t)}if(0===i&&lw(n[0])){r.push(new xv(t.segments[e].path,ww(n[0]))),i++;continue}const s=hw(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&lw(a)?(r.push(new xv(s,ww(a))),i+=2):(r.push(new xv(s,{})),i++)}return new Av(r,{})}function vw(t){const e={};return _v(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=bw(new Av([],{}),0,t))}),e}function ww(t){const e={};return _v(t,(t,n)=>e[n]=`${t}`),e}function _w(t,e,n){return t==n.path&&yv(e,n.parameters)}class Sw{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),sw(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Zv(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),_v(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Zv(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=Zv(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new lv(t.value.snapshot))}),t.children.length&&this.forwardEvent(new uv(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(sw(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Ew(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Ew(t){sw(t.value),t.children.forEach(Ew)}class Ow{constructor(t,e){this.routes=t,this.module=e}}function Tw(t){return"function"==typeof t}function Cw(t){return t instanceof Iv}const Iw=Symbol("INITIAL_VALUE");function Aw(){return ly(t=>function(...t){let e,n;return Object(vn.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Kt.a)(t[0])&&(t=t[0]),Object(jb.a)(t,n).lift(new Nb(e))}(t.map(t=>t.pipe(Ey(1),wn(Iw)))).pipe(Tn((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Iw)return t;if(r===Iw&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Cw(r))return r}return t},t)},Iw),kn(t=>t!==Iw),Object(Yt.a)(t=>Cw(t)?t:!0===t),Ey(1)))}let xw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Mb(0,"router-outlet")},directives:function(){return[E_]},encapsulation:2}),t})();function kw(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];jw(r,Dw(e,r))}}function jw(t,e){t.children&&kw(t.children,e)}function Dw(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Nw(t){const e=t.children&&t.children.map(Nw),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==fv&&(n.component=xw),n}function Pw(t){return t.outlet||fv}function Rw(t,e){const n=t.filter(t=>Pw(t)===e);return n.push(...t.filter(t=>Pw(t)!==e)),n}const Mw={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Lw(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Mw):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||mv)(n,t,e);if(!i)return Object.assign({},Mw);const o={};_v(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Vw(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Fw(t,e,n)&&Pw(n)!==fv)}(t,n,r)){const i=new Av(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Pw(o)!==fv){const n=new Av([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Pw(o)]=n}return i}(t,e,r,new Av(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Fw(t,e,n))}(t,n,r)){const o=new Av(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Fw(t,n,a)&&!i[Pw(a)]){const n=new Av([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Pw(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Av(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Fw(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Uw(t,e,n,r){return!!(Pw(t)===r||r!==fv&&Fw(e,n,t))&&("**"===t.path||Lw(e,t,n).matched)}function qw(t,e,n){return 0===e.length&&!t.children[n]}class Bw{constructor(t){this.segmentGroup=t||null}}class Hw{constructor(t){this.urlTree=t}}function zw(t){return new Wt.a(e=>e.error(new Bw(t)))}function Qw(t){return new Wt.a(e=>e.error(new Hw(t)))}function Gw(t){return new Wt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class $w{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=Vw(this.urlTree.root,[],[],this.config).segmentGroup,e=new Av(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,fv).pipe(Object(Yt.a)(t=>this.createUrlTree(Ww(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Lb(t=>{if(t instanceof Hw)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Bw)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,fv).pipe(Object(Yt.a)(e=>this.createUrlTree(Ww(e),t.queryParams,t.fragment))).pipe(Lb(t=>{if(t instanceof Bw)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Av([],{[fv]:t}):t;return new Iv(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Yt.a)(t=>new Av([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object($t.a)(r).pipe(qb(r=>{const i=n.children[r],o=Rw(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(Yt.a)(t=>({segment:t,outlet:r})))}),Tn((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?kn((e,n)=>t(e,n,r)):Ny.a,Bb(1),n?Cy(e):xy(()=>new wy))}())}expandSegment(t,e,n,r,i,o){return Object($t.a)(n).pipe(qb(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Lb(t=>{if(t instanceof Bw)return Object(mn.a)(null);throw t}))),Py(t=>!!t),Lb((t,n)=>{if(t instanceof wy||"EmptyError"===t.name){if(qw(e,r,i))return Object(mn.a)(new Av([],{}));throw new Bw(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Uw(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):zw(e):zw(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Qw(i):this.lineralizeSegments(n,i).pipe(Object(Ub.a)(n=>{const i=new Av(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Lw(e,r,i);if(!s)return zw(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Qw(l):this.lineralizeSegments(r,l).pipe(Object(Ub.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(mn.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(Yt.a)(t=>(n._loadedConfig=t,new Av(r,{})))):Object(mn.a)(new Av(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=Lw(e,n,r);if(!o)return zw(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(Ub.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=Vw(e,s,u,o),l=new Av(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(Yt.a)(t=>new Av(s,t)));if(0===o.length&&0===c.length)return Object(mn.a)(new Av(s,{}));const h=Pw(n)===i;return this.expandSegment(r,l,o,c,h?fv:i,!0).pipe(Object(Yt.a)(t=>new Av(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(mn.a)(new Ow(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(mn.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Ub.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Yt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Wt.a(e=>e.error(gv(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(mn.a)(new Ow([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(mn.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Tw(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Tw(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Sv(o)});return Object(mn.a)(i).pipe(Aw(),Object(Qb.a)(t=>{if(!Cw(t))return;const e=gv(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Yt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(mn.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Gw(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Iv(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return _v(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return _v(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Av(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Ww(t){const e={};for(const n of Object.keys(t.children)){const r=Ww(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Av(t.segments.concat(e.segments),e.children)}return t}(new Av(t.segments,e))}class Kw{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Yw{constructor(t,e){this.component=t,this.route=e}}function Zw(t,e,n){const r=t._root;return Jw(r,e?e._root:null,n,[r.value])}function Xw(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Jw(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Zv(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!kv(t.url,e.url);case"pathParamsOrQueryParamsChange":return!kv(t.url,e.url)||!yv(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!aw(t,e)||!yv(t.queryParams,e.queryParams);case"paramsChange":default:return!aw(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Kw(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Jw(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Yw(a.outlet.component,s))}else s&&t_(e,a,i),i.canActivateChecks.push(new Kw(r)),Jw(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),_v(o,(t,e)=>t_(t,n.getContext(e),i)),i}function t_(t,e,n){const r=Zv(t),i=t.value;_v(r,(t,r)=>{t_(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Yw(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class e_{}function n_(t){return new Wt.a(e=>e.error(t))}class r_{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=Vw(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,fv);if(null===e)return null;const n=new nw([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},fv,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Yv(n,e),i=new rw(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=ew(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=Rw(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=o_(n);return r.sort((t,e)=>t.value.outlet===fv?-1:e.value.outlet===fv?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return qw(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Uw(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?wv(n).parameters:{};i=new nw(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,u_(t),Pw(t),t.component,t,s_(e),a_(e)+n.length,c_(t))}else{const r=Lw(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new nw(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,u_(t),Pw(t),t.component,t,s_(e),a_(e)+o.length,c_(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Vw(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Yv(i,t)]}if(0===a.length&&0===c.length)return[new Yv(i,[])];const l=Pw(t)===r,h=this.processSegment(a,u,c,l?fv:r);return null===h?null:[new Yv(i,h)]}}function i_(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function o_(t){const e=[],n=new Set;for(const r of t){if(!i_(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=o_(r.children);e.push(new Yv(r.value,t))}return e.filter(t=>!n.has(t))}function s_(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function a_(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function u_(t){return t.data||{}}function c_(t){return t.resolve||{}}function l_(t){return ly(e=>{const n=t(e);return n?Object($t.a)(n).pipe(Object(Yt.a)(()=>e)):Object(mn.a)(e)})}class h_ extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const f_=new r.r("ROUTES");class d_{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(Yt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new Ow(vv(i.injector.get(f_,void 0,r.q.Self|r.q.Optional)).map(Nw),i)}),Lb(t=>{throw e._loader$=void 0,t}));return e._loader$=new Mb.a(n,()=>new ay.a).pipe(Object(Gb.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object($t.a)(this.loader.load(t)):Sv(t()).pipe(Object(Ub.a)(t=>t instanceof r.w?Object(mn.a)(t):Object($t.a)(this.compiler.compileModuleAsync(t))))}}class p_{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new g_,this.attachRef=null}}class g_{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new p_,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class m_{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function y_(t){throw t}function b_(t,e,n){return e.parse("/")}function v_(t,e){return Object(mn.a)(null)}let w_=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new ay.a,this.errorHandler=y_,this.malformedUriErrorHandler=b_,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:v_,afterPreactivation:v_},this.urlHandlingStrategy=new m_,this.routeReuseStrategy=new h_,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.y),this.console=o.get(r.Y);const c=o.get(r.A);this.isNgZoneEnabled=c instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Iv(new Av([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new d_(s,a,t=>this.triggerEvent(new ov(t)),t=>this.triggerEvent(new sv(t))),this.routerState=Jv(this.currentUrlTree,this.rootComponentType),this.transitions=new Cb({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(kn(t=>0!==t.id),Object(Yt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),ly(t=>{let n=!1,r=!1;return Object(mn.a)(t).pipe(Object(Qb.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ly(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(mn.a)(t).pipe(ly(t=>{const n=this.transitions.getValue();return e.next(new Yb(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Sy.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,ly(t=>function(t,e,n,r,i){return new $w(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Yt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(Qb.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(Ub.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new r_(t,e,n,r,i,o).recognize();return null===s?n_(new e_):Object(mn.a)(s)}catch(ny){return n_(ny)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Yt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Qb.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new tv(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Yb(n,this.serializeUrl(r),i,o);e.next(a);const u=Jv(r,this.rootComponentType).snapshot;return Object(mn.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Sy.a}),l_(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Qb.a)(t=>{const e=new ev(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Yt.a)(t=>Object.assign(Object.assign({},t),{guards:Zw(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(Ub.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(mn.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object($t.a)(t).pipe(Object(Ub.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(mn.a)(!0);const s=o.map(o=>{const s=Xw(o,e,i);let a;if(function(t){return t&&Tw(t.canDeactivate)}(s))a=Sv(s.canDeactivate(t,e,n,r));else{if(!Tw(s))throw new Error("Invalid CanDeactivate guard");a=Sv(s(t,e,n,r))}return a.pipe(Py())});return Object(mn.a)(s).pipe(Aw())}(t.component,t.route,n,e,r)),Py(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(Ub.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object($t.a)(e).pipe(qb(e=>bn(function(t,e){return null!==t&&e&&e(new av(t)),Object(mn.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new cv(t)),Object(mn.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Rb(()=>{const i=e.guards.map(i=>{const o=Xw(i,e.node,n);let s;if(function(t){return t&&Tw(t.canActivateChild)}(o))s=Sv(o.canActivateChild(r,t));else{if(!Tw(o))throw new Error("Invalid CanActivateChild guard");s=Sv(o(r,t))}return s.pipe(Py())});return Object(mn.a)(i).pipe(Aw())}));return Object(mn.a)(i).pipe(Aw())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(mn.a)(!0);const i=r.map(r=>Rb(()=>{const i=Xw(r,e,n);let o;if(function(t){return t&&Tw(t.canActivate)}(i))o=Sv(i.canActivate(e,t));else{if(!Tw(i))throw new Error("Invalid CanActivate guard");o=Sv(i(e,t))}return o.pipe(Py())}));return Object(mn.a)(i).pipe(Aw())}(t,e.route,n))),Py(t=>!0!==t,!0))}(r,o,t,e):Object(mn.a)(n)),Object(Yt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Qb.a)(t=>{if(Cw(t.guardsResult)){const e=gv(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new nv(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),kn(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Xb(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),l_(t=>{if(t.guards.canActivateChecks.length)return Object(mn.a)(t).pipe(Object(Qb.a)(t=>{const e=new rv(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),ly(t=>{let n=!1;return Object(mn.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(Ub.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(mn.a)(t);let o=0;return Object($t.a)(n).pipe(qb(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(mn.a)({});const o={};return Object($t.a)(i).pipe(Object(Ub.a)(i=>function(t,e,n,r){const i=Xw(t,e,r);return Sv(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Qb.a)(t=>{o[i]=t}))),Bb(1),Object(Ub.a)(()=>Object.keys(o).length===i.length?Object(mn.a)(o):Sy.a))}(t._resolve,t,e,r).pipe(Object(Yt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),ew(t,n).resolve),null)))}(t.route,e,r,i)),Object(Qb.a)(()=>o++),Bb(1),Object(Ub.a)(e=>o===n.length?Object(mn.a)(t):Sy.a))})),Object(Qb.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Xb(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Qb.a)(t=>{const e=new iv(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),l_(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Yt.a)(t=>{const e=function(t,e,n){const r=uw(t,e._root,n?n._root:void 0);return new Xv(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Qb.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Yt.a)(t=>(new Sw(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(Qb.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Xb(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new $b(i))),Lb(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Cw(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Xb(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Jb(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Cu){t.reject(Cu)}}var i;return Sy.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){kw(t),this.config=t.map(Nw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return fw(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new pw(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return _v(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new pw(n,e,r)}(n);if(o.toRoot())return fw(e.root,new Av([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new gw(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new gw(t,t===e.root,0)}const r=lw(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new gw(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?yw(s.segmentGroup,s.index,o.commands):mw(s.segmentGroup,s.index,o.commands);return fw(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Cw(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(ny){e=this.malformedUriErrorHandler(ny,this.urlSerializer,t)}return e}isActive(t,e){if(Cw(t))return Ev(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Ev(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Zb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.N),r.Ub(jv),r.Ub(g_),r.Ub(_),r.Ub(r.s),r.Ub(r.x),r.Ub(r.i),r.Ub(void 0))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),__=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new ay.a,this.subscription=t.events.subscribe(t=>{t instanceof Zb&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:S_(this.skipLocationChange),replaceUrl:S_(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:S_(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(w_),r.Lb(tw),r.Lb(m))},t.\u0275dir=r.Gb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Xb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Tb("href",e.href,r.fc),r.Cb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.zb]}),t})();function S_(t){return""===t||!!t}let E_=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||fv,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new O_(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(g_),r.Lb(r.Q),r.Lb(r.j),r.Vb("name"),r.Lb(r.h))},t.\u0275dir=r.Gb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class O_{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===tw?this.route:t===g_?this.childContexts:this.parent.get(t,e)}}class T_{}class C_{preload(t,e){return Object(mn.a)(null)}}let I_=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new d_(e,n,e=>t.triggerEvent(new ov(e)),e=>t.triggerEvent(new sv(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(kn(t=>t instanceof Zb),qb(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object($t.a)(n).pipe(Object(yn.a)(),Object(Yt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(mn.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(Ub.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(w_),r.Ub(r.x),r.Ub(r.i),r.Ub(r.s),r.Ub(T_))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),A_=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Yb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Zb&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof hv&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new hv(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(w_),r.Ub(pt),r.Ub(void 0))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const x_=new r.r("ROUTER_CONFIGURATION"),k_=new r.r("ROUTER_FORROOT_GUARD"),j_=[_,{provide:jv,useClass:Dv},{provide:w_,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new w_(null,t,e,n,r,i,s,vv(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[jv,g_,_,r.s,r.x,r.i,f_,x_,[class{},new r.B],[class{},new r.B]]},g_,{provide:tw,useFactory:function(t){return t.routerState.root},deps:[w_]},{provide:r.x,useClass:r.K},I_,C_,class{preload(t,e){return e().pipe(Lb(()=>Object(mn.a)(null)))}},{provide:x_,useValue:{enableTracing:!1}}];function D_(){return new r.z("Router",w_)}let N_=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[j_,L_(e),{provide:k_,useFactory:M_,deps:[[w_,new r.B,new r.J]]},{provide:x_,useValue:n||{}},{provide:m,useFactory:R_,deps:[a,[new r.p(b),new r.B],x_]},{provide:A_,useFactory:P_,deps:[w_,pt,x_]},{provide:T_,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:C_},{provide:r.z,multi:!0,useFactory:D_},[V_,{provide:r.d,multi:!0,useFactory:F_,deps:[V_]},{provide:q_,useFactory:U_,deps:[V_]},{provide:r.b,multi:!0,useExisting:q_}]]}}static forChild(e){return{ngModule:t,providers:[L_(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(k_,8),r.Ub(w_,8))},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({}),t})();function P_(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new A_(t,e,n)}function R_(t,e,n={}){return n.useHash?new w(t,e):new v(t,e)}function M_(t){return"guarded"}function L_(t){return[{provide:r.a,multi:!0,useValue:t},{provide:f_,multi:!0,useValue:t}]}let V_=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new ay.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(w_),r=this.injector.get(x_);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(mn.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(x_),n=this.injector.get(I_),i=this.injector.get(A_),o=this.injector.get(w_),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.s))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();function F_(t){return t.appInitializer.bind(t)}function U_(t){return t.bootstrapListener.bind(t)}const q_=new r.r("Router Initializer"),B_=[{path:"add-charge",component:Tb},{path:"add-member",component:yb},{path:"balance-sheet",component:lb},{path:"notice-board",component:cb},{path:"",redirectTo:"add-member",pathMatch:"full"}];let H_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({imports:[[N_.forRoot(B_)],N_]}),t})(),z_=(()=>{class t{constructor(){this.title="gitanjali",this.dateTime=new Date,setInterval(()=>{this.dateTime=new Date},1e3)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-root"]],decls:52,vars:8,consts:[[1,"container-fluid","px-0"],[1,"alert","alert-danger","h6","mb-0"],[1,"py-3","mb-3"],[1,"container"],[1,"row","align-items-center"],[1,"col-auto"],["routerLink","/",1,"logo","text-primary"],["src","assets/logo.jpg","alt","","height","60"],[1,"h1","mb-0","px-3","d-inline-block"],[1,"col-auto","ml-auto"],[1,"material-icons"],[1,"my-2"],[1,"container","mb-3"],[1,"row"],[1,"col-6","col-sm-3","py-2"],["routerLink","balance-sheet",1,"btn","py-2","text-uppercase","py-md-3","btn-primary","w-100"],["routerLink","add-charge",1,"btn","py-2","text-uppercase","py-md-3","btn-primary","w-100"],["routerLink","add-member",1,"btn","py-2","text-uppercase","py-md-3","btn-primary","w-100"],["routerLink","notice-board",1,"btn","py-2","text-uppercase","py-md-3","btn-primary","w-100"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"marquee"),r.Qb(3,"b"),r.ic(4,"Note:"),r.Pb(),r.ic(5," Add your details individually , then I will add amount of your maintenance fee. This is for transparency. All data will be verify by our president (suman chakraborty). Thank you \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "),r.Qb(6,"b"),r.ic(7,"\u09ac\u09bf\u0983\u09a6\u09cd\u09b0\u0983:"),r.Pb(),r.ic(8," \u0986\u09aa\u09a8\u09be\u09b0 \u09ac\u09bf\u09b6\u09a6 \u09aa\u09c3\u09a5\u0995\u09ad\u09be\u09ac\u09c7 \u09af\u09c1\u0995\u09cd\u09a4 \u0995\u09b0\u09c1\u09a8, \u09a4\u09be\u09b0\u09aa\u09b0\u09c7 \u0986\u09ae\u09bf \u0986\u09aa\u09a8\u09be\u09b0 \u09b0\u0995\u09cd\u09b7\u09a3\u09be\u09ac\u09c7\u0995\u09cd\u09b7\u09a3\u09c7\u09b0 \u09ab\u09bf \u09af\u09cb\u0997 \u0995\u09b0\u09ac\u0964 \u098f\u099f\u09bf \u09b8\u09cd\u09ac\u099a\u09cd\u099b\u09a4\u09be\u09b0 \u099c\u09a8\u09cd\u09af\u0964 \u09b8\u09ae\u09b8\u09cd\u09a4 \u09a1\u09c7\u099f\u09be \u0986\u09ae\u09be\u09a6\u09c7\u09b0 \u09b8\u09a6\u09b8\u09cd\u09af (\u09b8\u09c1\u09ae\u09a8 \u099a\u0995\u09cd\u09b0\u09ac\u09b0\u09cd\u09a4\u09c0) \u09a6\u09cd\u09ac\u09be\u09b0\u09be \u09af\u09be\u099a\u09be\u0987 \u0995\u09b0\u09be \u09b9\u09ac\u09c7\u0964 \u09a7\u09a8\u09cd\u09af\u09ac\u09be\u09a6 "),r.Pb(),r.Pb(),r.Pb(),r.Qb(9,"header",2),r.Qb(10,"div",3),r.Qb(11,"div",4),r.Qb(12,"div",5),r.Qb(13,"a",6),r.Mb(14,"img",7),r.Qb(15,"span",8),r.ic(16,"Gitanjali"),r.Pb(),r.Pb(),r.Pb(),r.Qb(17,"div",9),r.Qb(18,"b"),r.Qb(19,"span",10),r.ic(20," today "),r.Pb(),r.ic(21),r.ac(22,"date"),r.Pb(),r.Mb(23,"hr",11),r.Qb(24,"b"),r.Qb(25,"span",10),r.ic(26," query_builder "),r.Pb(),r.ic(27),r.ac(28,"date"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(29,"div",12),r.Qb(30,"div",13),r.Qb(31,"div",14),r.Qb(32,"a",15),r.Qb(33,"span",10),r.ic(34," account_balance_wallet "),r.Pb(),r.ic(35," Balance Sheet"),r.Pb(),r.Pb(),r.Qb(36,"div",14),r.Qb(37,"a",16),r.Qb(38,"span",10),r.ic(39," card_travel "),r.Pb(),r.ic(40," Collection"),r.Pb(),r.Pb(),r.Qb(41,"div",14),r.Qb(42,"a",17),r.Qb(43,"span",10),r.ic(44," person_add "),r.Pb(),r.ic(45," Add Member"),r.Pb(),r.Pb(),r.Qb(46,"div",14),r.Qb(47,"a",18),r.Qb(48,"span",10),r.ic(49," notifications "),r.Pb(),r.ic(50," Notice"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Mb(51,"router-outlet")),2&t&&(r.Bb(21),r.kc(" ",r.bc(22,2,e.dateTime,"dd-MM-YYYY"),""),r.Bb(6),r.kc(" ",r.bc(28,5,e.dateTime," hh:mm:ss a"),""))},directives:[__,E_],pipes:[ht],styles:["header[_ngcontent-%COMP%]{background-color:#ffffff80;-webkit-backdrop-filter:blur(.4);backdrop-filter:blur(.4)}"]}),t})();const Q_={apiKey:"AIzaSyD_EPhZ0h23NkfKlDPqC7uwZTNfMq83DmA",authDomain:"gitanjlli.firebaseapp.com",projectId:"gitanjlli",storageBucket:"gitanjlli.appspot.com",messagingSenderId:"409182421190",appId:"1:409182421190:web:ff90a6f26c3a8daab757c7",measurementId:"G-ZP9BZ7QZVP"};let G_=(()=>{class t{static isString(t){return"string"==typeof t||t instanceof String}static caseInsensitiveSort(e,n){return t.isString(e)&&t.isString(n)?e.localeCompare(n):t.defaultCompare(e,n)}static defaultCompare(t,e){return t&&t instanceof Date&&(t=t.getTime()),e&&e instanceof Date&&(e=e.getTime()),t===e?0:null==t?1:null==e?-1:t>e?1:-1}static parseExpression(t){return(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split(".")}static getValue(t,e){for(let n=0,r=e.length;n<r;++n){if(!t)return;const r=e[n];if(!(r in t))return;t="function"==typeof t[r]?t[r]():t[r]}return t}static setValue(t,e,n){let r;for(r=0;r<n.length-1;r++)t=t[n[r]];t[n[r]]=e}transform(t,e,n,r=!1,i){return t?Array.isArray(e)?this.multiExpressionTransform(t,e,n,r,i):Array.isArray(t)?this.sortArray(t.slice(),e,n,r,i):"object"==typeof t?this.transformObject(Object.assign({},t),e,n,r,i):t:t}sortArray(e,n,r,i,o){const s=n&&-1!==n.indexOf(".");let a;s&&(n=t.parseExpression(n)),a=o&&"function"==typeof o?o:i?t.caseInsensitiveSort:t.defaultCompare;const u=e.sort((e,r)=>n?s?a(t.getValue(e,n),t.getValue(r,n)):e&&r?a(e[n],r[n]):a(e,r):a(e,r));return r?u.reverse():u}transformObject(e,n,r,i,o){const s=t.parseExpression(n);let a=s.pop(),u=t.getValue(e,s);return Array.isArray(u)||(s.push(a),a=null,u=t.getValue(e,s)),u?(t.setValue(e,this.transform(u,a,r,i),s),e):e}multiExpressionTransform(t,e,n,r=!1,i){return e.reverse().reduce((t,e)=>this.transform(t,e,n,r,i),t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Kb({name:"orderBy",type:t,pure:!1}),t})(),$_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[G_]}),t})(),W_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t,bootstrap:[z_]}),t.\u0275inj=r.Ib({providers:[],imports:[[Gt,H_,pn,dn,Pn.a.initializeApp(Q_),zy,sb,$_]]}),t})();Object(r.T)(),zt().bootstrapModule(W_).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(o.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);